// // // // // // // // // // // // // // // // // // // // // // components/LinearEquationSolver.js
// // // // // // // // // // // // // // // // // // // // // import { useState } from 'react';
// // // // // // // // // // // // // // // // // // // // // import styles from './LinearEquationSolver.module.css';

// // // // // // // // // // // // // // // // // // // // // const LinearEquationSolver = () => {
// // // // // // // // // // // // // // // // // // // // //   const [equation, setEquation] = useState('');
// // // // // // // // // // // // // // // // // // // // //   const [solution, setSolution] = useState(null);
// // // // // // // // // // // // // // // // // // // // //   const [error, setError] = useState('');
// // // // // // // // // // // // // // // // // // // // //   const [steps, setSteps] = useState([]);

// // // // // // // // // // // // // // // // // // // // //   const parseLinearEquation = (eq) => {
// // // // // // // // // // // // // // // // // // // // //     // Remove spaces and convert to lowercase
// // // // // // // // // // // // // // // // // // // // //     const cleanEq = eq.replace(/\s+/g, '').toLowerCase();
    
// // // // // // // // // // // // // // // // // // // // //     // Check if equation contains equals sign
// // // // // // // // // // // // // // // // // // // // //     if (!cleanEq.includes('=')) {
// // // // // // // // // // // // // // // // // // // // //       throw new Error('Equation must contain an equals sign (=)');
// // // // // // // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // // // // // // //     // Split by equals sign
// // // // // // // // // // // // // // // // // // // // //     const [leftSide, rightSide] = cleanEq.split('=');
    
// // // // // // // // // // // // // // // // // // // // //     if (!leftSide || !rightSide) {
// // // // // // // // // // // // // // // // // // // // //       throw new Error('Both sides of the equation must have content');
// // // // // // // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // // // // // // //     // Parse each side to extract coefficient and constant
// // // // // // // // // // // // // // // // // // // // //     const parseExpression = (expr) => {
// // // // // // // // // // // // // // // // // // // // //       let coefficient = 0;
// // // // // // // // // // // // // // // // // // // // //       let constant = 0;
      
// // // // // // // // // // // // // // // // // // // // //       // Replace - with +- for easier splitting
// // // // // // // // // // // // // // // // // // // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // // // // // // // // // // // // // // // // // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // // // // // // // // // // // // // // // // // // //       for (let term of terms) {
// // // // // // // // // // // // // // // // // // // // //         if (term.includes('x')) {
// // // // // // // // // // // // // // // // // // // // //           // Extract coefficient of x
// // // // // // // // // // // // // // // // // // // // //           const coefMatch = term.match(/^([+-]?\d*\.?\d*)x$/);
// // // // // // // // // // // // // // // // // // // // //           if (coefMatch) {
// // // // // // // // // // // // // // // // // // // // //             let coef = coefMatch[1];
// // // // // // // // // // // // // // // // // // // // //             if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // // // // // // // // // // // // //             if (coef === '-') coef = '-1';
// // // // // // // // // // // // // // // // // // // // //             coefficient += parseFloat(coef);
// // // // // // // // // // // // // // // // // // // // //           } else {
// // // // // // // // // // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // // // // // // // // // //           }
// // // // // // // // // // // // // // // // // // // // //         } else {
// // // // // // // // // // // // // // // // // // // // //           // It's a constant term
// // // // // // // // // // // // // // // // // // // // //           const constMatch = term.match(/^([+-]?\d+\.?\d*)$/);
// // // // // // // // // // // // // // // // // // // // //           if (constMatch) {
// // // // // // // // // // // // // // // // // // // // //             constant += parseFloat(constMatch[1]);
// // // // // // // // // // // // // // // // // // // // //           } else {
// // // // // // // // // // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // // // // // // // // // //           }
// // // // // // // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // // // // // // // // //       return { coefficient, constant };
// // // // // // // // // // // // // // // // // // // // //     };
    
// // // // // // // // // // // // // // // // // // // // //     const left = parseExpression(leftSide);
// // // // // // // // // // // // // // // // // // // // //     const right = parseExpression(rightSide);
    
// // // // // // // // // // // // // // // // // // // // //     // Move everything to left side: ax + b = cx + d becomes (a-c)x + (b-d) = 0
// // // // // // // // // // // // // // // // // // // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // // // // // // // // // // // // // // // // // // //     const finalConstant = left.constant - right.constant;
    
// // // // // // // // // // // // // // // // // // // // //     return { coefficient: finalCoeff, constant: finalConstant };
// // // // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // // // //   const solveLinearEquation = (coefficient, constant) => {
// // // // // // // // // // // // // // // // // // // // //     const solutionSteps = [];
    
// // // // // // // // // // // // // // // // // // // // //     if (coefficient === 0) {
// // // // // // // // // // // // // // // // // // // // //       if (constant === 0) {
// // // // // // // // // // // // // // // // // // // // //         return { 
// // // // // // // // // // // // // // // // // // // // //           solution: 'infinitely many solutions', 
// // // // // // // // // // // // // // // // // // // // //           steps: ['0 = 0', 'This is always true, so x can be any real number'] 
// // // // // // // // // // // // // // // // // // // // //         };
// // // // // // // // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // // // // // // // //         return { 
// // // // // // // // // // // // // // // // // // // // //           solution: 'no solution', 
// // // // // // // // // // // // // // // // // // // // //           steps: [`${constant} = 0`, 'This is never true, so there is no solution'] 
// // // // // // // // // // // // // // // // // // // // //         };
// // // // // // // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // // // // // // //     // Standard case: ax + b = 0, so x = -b/a
// // // // // // // // // // // // // // // // // // // // //     const result = -constant / coefficient;
    
// // // // // // // // // // // // // // // // // // // // //     solutionSteps.push(`Original form: ${coefficient}x + ${constant} = 0`);
// // // // // // // // // // // // // // // // // // // // //     solutionSteps.push(`Subtract ${constant} from both sides: ${coefficient}x = ${-constant}`);
// // // // // // // // // // // // // // // // // // // // //     solutionSteps.push(`Divide both sides by ${coefficient}: x = ${-constant}/${coefficient}`);
// // // // // // // // // // // // // // // // // // // // //     solutionSteps.push(`Solution: x = ${result}`);
    
// // // // // // // // // // // // // // // // // // // // //     return { solution: result, steps: solutionSteps };
// // // // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // // // //   const handleSolve = () => {
// // // // // // // // // // // // // // // // // // // // //     try {
// // // // // // // // // // // // // // // // // // // // //       setError('');
// // // // // // // // // // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // // // // // // // // // //       setSteps([]);
      
// // // // // // // // // // // // // // // // // // // // //       if (!equation.trim()) {
// // // // // // // // // // // // // // // // // // // // //         setError('Please enter an equation');
// // // // // // // // // // // // // // // // // // // // //         return;
// // // // // // // // // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // // // // // // // // //       const parsed = parseLinearEquation(equation);
// // // // // // // // // // // // // // // // // // // // //       const result = solveLinearEquation(parsed.coefficient, parsed.constant);
      
// // // // // // // // // // // // // // // // // // // // //       setSolution(result.solution);
// // // // // // // // // // // // // // // // // // // // //       setSteps(result.steps);
      
// // // // // // // // // // // // // // // // // // // // //     } catch (err) {
// // // // // // // // // // // // // // // // // // // // //       setError(err.message);
// // // // // // // // // // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // // // //   const handleClear = () => {
// // // // // // // // // // // // // // // // // // // // //     setEquation('');
// // // // // // // // // // // // // // // // // // // // //     setSolution(null);
// // // // // // // // // // // // // // // // // // // // //     setError('');
// // // // // // // // // // // // // // // // // // // // //     setSteps([]);
// // // // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // // // //   return (
// // // // // // // // // // // // // // // // // // // // //     <div className={styles.container}>
// // // // // // // // // // // // // // // // // // // // //       <h1 className={styles.title}>Linear Equation Solver</h1>
      
// // // // // // // // // // // // // // // // // // // // //       <div className={styles.inputSection}>
// // // // // // // // // // // // // // // // // // // // //         <label className={styles.label}>
// // // // // // // // // // // // // // // // // // // // //           Enter your linear equation (e.g., "2x + 3 = 7" or "5x - 2 = 3x + 4"):
// // // // // // // // // // // // // // // // // // // // //         </label>
// // // // // // // // // // // // // // // // // // // // //         <input
// // // // // // // // // // // // // // // // // // // // //           type="text"
// // // // // // // // // // // // // // // // // // // // //           value={equation}
// // // // // // // // // // // // // // // // // // // // //           onChange={(e) => setEquation(e.target.value)}
// // // // // // // // // // // // // // // // // // // // //           placeholder="Enter equation like: 2x + 3 = 7"
// // // // // // // // // // // // // // // // // // // // //           className={styles.input}
// // // // // // // // // // // // // // // // // // // // //           onKeyPress={(e) => e.key === 'Enter' && handleSolve()}
// // // // // // // // // // // // // // // // // // // // //         />
// // // // // // // // // // // // // // // // // // // // //         <div className={styles.buttonGroup}>
// // // // // // // // // // // // // // // // // // // // //           <button onClick={handleSolve} className={styles.solveButton}>
// // // // // // // // // // // // // // // // // // // // //             Solve
// // // // // // // // // // // // // // // // // // // // //           </button>
// // // // // // // // // // // // // // // // // // // // //           <button onClick={handleClear} className={styles.clearButton}>
// // // // // // // // // // // // // // // // // // // // //             Clear
// // // // // // // // // // // // // // // // // // // // //           </button>
// // // // // // // // // // // // // // // // // // // // //         </div>
// // // // // // // // // // // // // // // // // // // // //       </div>

// // // // // // // // // // // // // // // // // // // // //       {error && (
// // // // // // // // // // // // // // // // // // // // //         <div className={styles.error}>
// // // // // // // // // // // // // // // // // // // // //           <strong>Error:</strong> {error}
// // // // // // // // // // // // // // // // // // // // //         </div>
// // // // // // // // // // // // // // // // // // // // //       )}

// // // // // // // // // // // // // // // // // // // // //       {solution !== null && (
// // // // // // // // // // // // // // // // // // // // //         <div className={styles.solutionSection}>
// // // // // // // // // // // // // // // // // // // // //           <h2 className={styles.solutionTitle}>Solution</h2>
// // // // // // // // // // // // // // // // // // // // //           <div className={styles.solution}>
// // // // // // // // // // // // // // // // // // // // //             {typeof solution === 'string' ? solution : `x = ${solution}`}
// // // // // // // // // // // // // // // // // // // // //           </div>
          
// // // // // // // // // // // // // // // // // // // // //           {steps.length > 0 && (
// // // // // // // // // // // // // // // // // // // // //             <div className={styles.stepsSection}>
// // // // // // // // // // // // // // // // // // // // //               <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // // // // // // // // // // // // // // // // // // //               <ol className={styles.stepsList}>
// // // // // // // // // // // // // // // // // // // // //                 {steps.map((step, index) => (
// // // // // // // // // // // // // // // // // // // // //                   <li key={index} className={styles.step}>
// // // // // // // // // // // // // // // // // // // // //                     {step}
// // // // // // // // // // // // // // // // // // // // //                   </li>
// // // // // // // // // // // // // // // // // // // // //                 ))}
// // // // // // // // // // // // // // // // // // // // //               </ol>
// // // // // // // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // // // // // // //           )}
// // // // // // // // // // // // // // // // // // // // //         </div>
// // // // // // // // // // // // // // // // // // // // //       )}

// // // // // // // // // // // // // // // // // // // // //       <div className={styles.examples}>
// // // // // // // // // // // // // // // // // // // // //         <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // // // // // // // // // // // // // // // // // // // //         <ul className={styles.examplesList}>
// // // // // // // // // // // // // // // // // // // // //           <li>2x + 3 = 7</li>
// // // // // // // // // // // // // // // // // // // // //           <li>5x - 2 = 3x + 4</li>
// // // // // // // // // // // // // // // // // // // // //           <li>-3x + 10 = 4</li>
// // // // // // // // // // // // // // // // // // // // //           <li>x + 5 = 2x - 3</li>
// // // // // // // // // // // // // // // // // // // // //           <li>0.5x + 2.5 = 1.5x - 1</li>
// // // // // // // // // // // // // // // // // // // // //         </ul>
// // // // // // // // // // // // // // // // // // // // //       </div>
// // // // // // // // // // // // // // // // // // // // //     </div>
// // // // // // // // // // // // // // // // // // // // //   );
// // // // // // // // // // // // // // // // // // // // // };

// // // // // // // // // // // // // // // // // // // // // export default LinearEquationSolver;

// // // // // // // // // // // // // // // // // // // // // components/LinearEquationSolver.js
// // // // // // // // // // // // // // // // // // // // import { useState } from 'react';
// // // // // // // // // // // // // // // // // // // // import styles from './LinearEquationSolver.module.css';

// // // // // // // // // // // // // // // // // // // // const LinearEquationSolver = () => {
// // // // // // // // // // // // // // // // // // // //   const [equation, setEquation] = useState('');
// // // // // // // // // // // // // // // // // // // //   const [solution, setSolution] = useState(null);
// // // // // // // // // // // // // // // // // // // //   const [error, setError] = useState('');
// // // // // // // // // // // // // // // // // // // //   const [steps, setSteps] = useState([]);
// // // // // // // // // // // // // // // // // // // //   const [variable, setVariable] = useState('');

// // // // // // // // // // // // // // // // // // // //   const parseLinearEquation = (eq) => {
// // // // // // // // // // // // // // // // // // // //     // Remove spaces and convert to lowercase
// // // // // // // // // // // // // // // // // // // //     const cleanEq = eq.replace(/\s+/g, '').toLowerCase();
    
// // // // // // // // // // // // // // // // // // // //     // Check if equation contains equals sign
// // // // // // // // // // // // // // // // // // // //     if (!cleanEq.includes('=')) {
// // // // // // // // // // // // // // // // // // // //       throw new Error('Equation must contain an equals sign (=)');
// // // // // // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // // // // // //     // Split by equals sign
// // // // // // // // // // // // // // // // // // // //     const [leftSide, rightSide] = cleanEq.split('=');
    
// // // // // // // // // // // // // // // // // // // //     if (!leftSide || !rightSide) {
// // // // // // // // // // // // // // // // // // // //       throw new Error('Both sides of the equation must have content');
// // // // // // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // // // // // //     // Find the variable in the equation
// // // // // // // // // // // // // // // // // // // //     const variableMatch = cleanEq.match(/[a-z]/);
// // // // // // // // // // // // // // // // // // // //     if (!variableMatch) {
// // // // // // // // // // // // // // // // // // // //       throw new Error('No variable found in the equation');
// // // // // // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // // // // // //     const variable = variableMatch[0];
    
// // // // // // // // // // // // // // // // // // // //     // Parse each side to extract coefficient and constant
// // // // // // // // // // // // // // // // // // // //     const parseExpression = (expr) => {
// // // // // // // // // // // // // // // // // // // //       let coefficient = 0;
// // // // // // // // // // // // // // // // // // // //       let constant = 0;
      
// // // // // // // // // // // // // // // // // // // //       // Replace - with +- for easier splitting
// // // // // // // // // // // // // // // // // // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // // // // // // // // // // // // // // // // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // // // // // // // // // // // // // // // // // //       for (let term of terms) {
// // // // // // // // // // // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // // // // // // // // // // //           // Extract coefficient of the variable
// // // // // // // // // // // // // // // // // // // //           const coefMatch = term.match(new RegExp(`^([+-]?\\d*\\.?\\d*)${variable}$`));
// // // // // // // // // // // // // // // // // // // //           if (coefMatch) {
// // // // // // // // // // // // // // // // // // // //             let coef = coefMatch[1];
// // // // // // // // // // // // // // // // // // // //             if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // // // // // // // // // // // //             if (coef === '-') coef = '-1';
// // // // // // // // // // // // // // // // // // // //             coefficient += parseFloat(coef);
// // // // // // // // // // // // // // // // // // // //           } else {
// // // // // // // // // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // // // // // // // // //           }
// // // // // // // // // // // // // // // // // // // //         } else {
// // // // // // // // // // // // // // // // // // // //           // It's a constant term
// // // // // // // // // // // // // // // // // // // //           const constMatch = term.match(/^([+-]?\d+\.?\d*)$/);
// // // // // // // // // // // // // // // // // // // //           if (constMatch) {
// // // // // // // // // // // // // // // // // // // //             constant += parseFloat(constMatch[1]);
// // // // // // // // // // // // // // // // // // // //           } else {
// // // // // // // // // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // // // // // // // // //           }
// // // // // // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // // // // // // // //       return { coefficient, constant };
// // // // // // // // // // // // // // // // // // // //     };
    
// // // // // // // // // // // // // // // // // // // //     const left = parseExpression(leftSide);
// // // // // // // // // // // // // // // // // // // //     const right = parseExpression(rightSide);
    
// // // // // // // // // // // // // // // // // // // //     // Move everything to left side: ax + b = cx + d becomes (a-c)x + (b-d) = 0
// // // // // // // // // // // // // // // // // // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // // // // // // // // // // // // // // // // // //     const finalConstant = left.constant - right.constant;
    
// // // // // // // // // // // // // // // // // // // //     return { coefficient: finalCoeff, constant: finalConstant, variable };
// // // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // // //   const solveLinearEquation = (coefficient, constant, variable) => {
// // // // // // // // // // // // // // // // // // // //     const solutionSteps = [];
    
// // // // // // // // // // // // // // // // // // // //     if (coefficient === 0) {
// // // // // // // // // // // // // // // // // // // //       if (constant === 0) {
// // // // // // // // // // // // // // // // // // // //         return { 
// // // // // // // // // // // // // // // // // // // //           solution: 'infinitely many solutions', 
// // // // // // // // // // // // // // // // // // // //           steps: ['0 = 0', `This is always true, so ${variable} can be any real number`] 
// // // // // // // // // // // // // // // // // // // //         };
// // // // // // // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // // // // // // //         return { 
// // // // // // // // // // // // // // // // // // // //           solution: 'no solution', 
// // // // // // // // // // // // // // // // // // // //           steps: [`${constant} = 0`, 'This is never true, so there is no solution'] 
// // // // // // // // // // // // // // // // // // // //         };
// // // // // // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // // // // // //     // Standard case: ax + b = 0, so x = -b/a
// // // // // // // // // // // // // // // // // // // //     const result = -constant / coefficient;
    
// // // // // // // // // // // // // // // // // // // //     solutionSteps.push(`Original form: ${coefficient}${variable} + ${constant} = 0`);
// // // // // // // // // // // // // // // // // // // //     solutionSteps.push(`Subtract ${constant} from both sides: ${coefficient}${variable} = ${-constant}`);
// // // // // // // // // // // // // // // // // // // //     solutionSteps.push(`Divide both sides by ${coefficient}: ${variable} = ${-constant}/${coefficient}`);
// // // // // // // // // // // // // // // // // // // //     solutionSteps.push(`Solution: ${variable} = ${result}`);
    
// // // // // // // // // // // // // // // // // // // //     return { solution: result, steps: solutionSteps };
// // // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // // //   const handleSolve = () => {
// // // // // // // // // // // // // // // // // // // //     try {
// // // // // // // // // // // // // // // // // // // //       setError('');
// // // // // // // // // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // // // // // // // // // //       setVariable('');
      
// // // // // // // // // // // // // // // // // // // //       if (!equation.trim()) {
// // // // // // // // // // // // // // // // // // // //         setError('Please enter an equation');
// // // // // // // // // // // // // // // // // // // //         return;
// // // // // // // // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // // // // // // // //       const parsed = parseLinearEquation(equation);
// // // // // // // // // // // // // // // // // // // //       const result = solveLinearEquation(parsed.coefficient, parsed.constant, parsed.variable);
      
// // // // // // // // // // // // // // // // // // // //       setVariable(parsed.variable);
// // // // // // // // // // // // // // // // // // // //       setSolution(result.solution);
// // // // // // // // // // // // // // // // // // // //       setSteps(result.steps);
      
// // // // // // // // // // // // // // // // // // // //     } catch (err) {
// // // // // // // // // // // // // // // // // // // //       setError(err.message);
// // // // // // // // // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // // // // // // // // // //       setVariable('');
// // // // // // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // // //   const handleClear = () => {
// // // // // // // // // // // // // // // // // // // //     setEquation('');
// // // // // // // // // // // // // // // // // // // //     setSolution(null);
// // // // // // // // // // // // // // // // // // // //     setError('');
// // // // // // // // // // // // // // // // // // // //     setSteps([]);
// // // // // // // // // // // // // // // // // // // //     setVariable('');
// // // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // // //   return (
// // // // // // // // // // // // // // // // // // // //     <div className={styles.container}>
// // // // // // // // // // // // // // // // // // // //       <h1 className={styles.title}>Linear Equation Solver</h1>
      
// // // // // // // // // // // // // // // // // // // //       <div className={styles.inputSection}>
// // // // // // // // // // // // // // // // // // // //         <label className={styles.label}>
// // // // // // // // // // // // // // // // // // // //           Enter your linear equation with any variable (e.g., "2x + 3 = 7", "3y - 5 = 2y + 1", "5a = 15"):
// // // // // // // // // // // // // // // // // // // //         </label>
// // // // // // // // // // // // // // // // // // // //         <input
// // // // // // // // // // // // // // // // // // // //           type="text"
// // // // // // // // // // // // // // // // // // // //           value={equation}
// // // // // // // // // // // // // // // // // // // //           onChange={(e) => setEquation(e.target.value)}
// // // // // // // // // // // // // // // // // // // //           placeholder="Enter equation like: 2x + 3 = 7 or 3y = 12"
// // // // // // // // // // // // // // // // // // // //           className={styles.input}
// // // // // // // // // // // // // // // // // // // //           onKeyPress={(e) => e.key === 'Enter' && handleSolve()}
// // // // // // // // // // // // // // // // // // // //         />
// // // // // // // // // // // // // // // // // // // //         <div className={styles.buttonGroup}>
// // // // // // // // // // // // // // // // // // // //           <button onClick={handleSolve} className={styles.solveButton}>
// // // // // // // // // // // // // // // // // // // //             Solve
// // // // // // // // // // // // // // // // // // // //           </button>
// // // // // // // // // // // // // // // // // // // //           <button onClick={handleClear} className={styles.clearButton}>
// // // // // // // // // // // // // // // // // // // //             Clear
// // // // // // // // // // // // // // // // // // // //           </button>
// // // // // // // // // // // // // // // // // // // //         </div>
// // // // // // // // // // // // // // // // // // // //       </div>

// // // // // // // // // // // // // // // // // // // //       {error && (
// // // // // // // // // // // // // // // // // // // //         <div className={styles.error}>
// // // // // // // // // // // // // // // // // // // //           <strong>Error:</strong> {error}
// // // // // // // // // // // // // // // // // // // //         </div>
// // // // // // // // // // // // // // // // // // // //       )}

// // // // // // // // // // // // // // // // // // // //       {solution !== null && (
// // // // // // // // // // // // // // // // // // // //         <div className={styles.solutionSection}>
// // // // // // // // // // // // // // // // // // // //           <h2 className={styles.solutionTitle}>Solution</h2>
// // // // // // // // // // // // // // // // // // // //           <div className={styles.solution}>
// // // // // // // // // // // // // // // // // // // //             {typeof solution === 'string' ? solution : `${variable} = ${solution}`}
// // // // // // // // // // // // // // // // // // // //           </div>
          
// // // // // // // // // // // // // // // // // // // //           {steps.length > 0 && (
// // // // // // // // // // // // // // // // // // // //             <div className={styles.stepsSection}>
// // // // // // // // // // // // // // // // // // // //               <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // // // // // // // // // // // // // // // // // //               <ol className={styles.stepsList}>
// // // // // // // // // // // // // // // // // // // //                 {steps.map((step, index) => (
// // // // // // // // // // // // // // // // // // // //                   <li key={index} className={styles.step}>
// // // // // // // // // // // // // // // // // // // //                     {step}
// // // // // // // // // // // // // // // // // // // //                   </li>
// // // // // // // // // // // // // // // // // // // //                 ))}
// // // // // // // // // // // // // // // // // // // //               </ol>
// // // // // // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // // // // // //           )}
// // // // // // // // // // // // // // // // // // // //         </div>
// // // // // // // // // // // // // // // // // // // //       )}

// // // // // // // // // // // // // // // // // // // //       <div className={styles.examples}>
// // // // // // // // // // // // // // // // // // // //         <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // // // // // // // // // // // // // // // // // // //         <ul className={styles.examplesList}>
// // // // // // // // // // // // // // // // // // // //           <li>2x + 3 = 7</li>
// // // // // // // // // // // // // // // // // // // //           <li>3y - 5 = 2y + 1</li>
// // // // // // // // // // // // // // // // // // // //           <li>5a = 15</li>
// // // // // // // // // // // // // // // // // // // //           <li>2z + 4 = z - 1</li>
// // // // // // // // // // // // // // // // // // // //           <li>0.5m + 2.5 = 1.5m - 1</li>
// // // // // // // // // // // // // // // // // // // //         </ul>
// // // // // // // // // // // // // // // // // // // //       </div>
// // // // // // // // // // // // // // // // // // // //     </div>
// // // // // // // // // // // // // // // // // // // //   );
// // // // // // // // // // // // // // // // // // // // };

// // // // // // // // // // // // // // // // // // // // export default LinearEquationSolver;
// // // // // // // // // // // // // // // // // // // // components/LinearEquationSolver.js
// // // // // // // // // // // // // // // // // // // import { useState } from 'react';
// // // // // // // // // // // // // // // // // // // import styles from './LinearEquationSolver.module.css';

// // // // // // // // // // // // // // // // // // // const LinearEquationSolver = () => {
// // // // // // // // // // // // // // // // // // //   const [equation, setEquation] = useState('');
// // // // // // // // // // // // // // // // // // //   const [solution, setSolution] = useState(null);
// // // // // // // // // // // // // // // // // // //   const [error, setError] = useState('');
// // // // // // // // // // // // // // // // // // //   const [steps, setSteps] = useState([]);
// // // // // // // // // // // // // // // // // // //   const [variable, setVariable] = useState('');

// // // // // // // // // // // // // // // // // // //   const parseLinearEquation = (eq) => {
// // // // // // // // // // // // // // // // // // //     // Remove spaces and convert to lowercase
// // // // // // // // // // // // // // // // // // //     const cleanEq = eq.replace(/\s+/g, '').toLowerCase();
    
// // // // // // // // // // // // // // // // // // //     // Check if equation contains equals sign
// // // // // // // // // // // // // // // // // // //     if (!cleanEq.includes('=')) {
// // // // // // // // // // // // // // // // // // //       throw new Error('Equation must contain an equals sign (=)');
// // // // // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // // // // //     // Split by equals sign
// // // // // // // // // // // // // // // // // // //     const [leftSide, rightSide] = cleanEq.split('=');
    
// // // // // // // // // // // // // // // // // // //     if (!leftSide || !rightSide) {
// // // // // // // // // // // // // // // // // // //       throw new Error('Both sides of the equation must have content');
// // // // // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // // // // //     // Find the variable in the equation
// // // // // // // // // // // // // // // // // // //     const variableMatch = cleanEq.match(/[a-z]/);
// // // // // // // // // // // // // // // // // // //     if (!variableMatch) {
// // // // // // // // // // // // // // // // // // //       throw new Error('No variable found in the equation');
// // // // // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // // // // //     const variable = variableMatch[0];
    
// // // // // // // // // // // // // // // // // // //     // Parse each side to extract coefficient and constant
// // // // // // // // // // // // // // // // // // //     const parseExpression = (expr) => {
// // // // // // // // // // // // // // // // // // //       let coefficient = 0;
// // // // // // // // // // // // // // // // // // //       let constant = 0;
      
// // // // // // // // // // // // // // // // // // //       // Replace - with +- for easier splitting
// // // // // // // // // // // // // // // // // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // // // // // // // // // // // // // // // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // // // // // // // // // // // // // // // // //       for (let term of terms) {
// // // // // // // // // // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // // // // // // // // // //           // Extract coefficient of the variable
// // // // // // // // // // // // // // // // // // //           const coefMatch = term.match(new RegExp(`^([+-]?\\d*\\.?\\d*)${variable}$`));
// // // // // // // // // // // // // // // // // // //           if (coefMatch) {
// // // // // // // // // // // // // // // // // // //             let coef = coefMatch[1];
// // // // // // // // // // // // // // // // // // //             if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // // // // // // // // // // //             if (coef === '-') coef = '-1';
// // // // // // // // // // // // // // // // // // //             coefficient += parseFloat(coef);
// // // // // // // // // // // // // // // // // // //           } else {
// // // // // // // // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // // // // // // // //           }
// // // // // // // // // // // // // // // // // // //         } else {
// // // // // // // // // // // // // // // // // // //           // It's a constant term
// // // // // // // // // // // // // // // // // // //           const constMatch = term.match(/^([+-]?\d+\.?\d*)$/);
// // // // // // // // // // // // // // // // // // //           if (constMatch) {
// // // // // // // // // // // // // // // // // // //             constant += parseFloat(constMatch[1]);
// // // // // // // // // // // // // // // // // // //           } else {
// // // // // // // // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // // // // // // // //           }
// // // // // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // // // // // // //       return { coefficient, constant };
// // // // // // // // // // // // // // // // // // //     };
    
// // // // // // // // // // // // // // // // // // //     const left = parseExpression(leftSide);
// // // // // // // // // // // // // // // // // // //     const right = parseExpression(rightSide);
    
// // // // // // // // // // // // // // // // // // //     // Move everything to left side: ax + b = cx + d becomes (a-c)x + (b-d) = 0
// // // // // // // // // // // // // // // // // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // // // // // // // // // // // // // // // // //     const finalConstant = left.constant - right.constant;
    
// // // // // // // // // // // // // // // // // // //     return { coefficient: finalCoeff, constant: finalConstant, variable };
// // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // //   const solveLinearEquation = (coefficient, constant, variable) => {
// // // // // // // // // // // // // // // // // // //     const solutionSteps = [];
    
// // // // // // // // // // // // // // // // // // //     if (coefficient === 0) {
// // // // // // // // // // // // // // // // // // //       if (constant === 0) {
// // // // // // // // // // // // // // // // // // //         return { 
// // // // // // // // // // // // // // // // // // //           solution: 'infinitely many solutions', 
// // // // // // // // // // // // // // // // // // //           steps: ['0 = 0', `This is always true, so ${variable} can be any real number`] 
// // // // // // // // // // // // // // // // // // //         };
// // // // // // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // // // // // //         return { 
// // // // // // // // // // // // // // // // // // //           solution: 'no solution', 
// // // // // // // // // // // // // // // // // // //           steps: [`${constant} = 0`, 'This is never true, so there is no solution'] 
// // // // // // // // // // // // // // // // // // //         };
// // // // // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // // // // //     // Standard case: ax + b = 0, so x = -b/a
// // // // // // // // // // // // // // // // // // //     const result = -constant / coefficient;
    
// // // // // // // // // // // // // // // // // // //     solutionSteps.push(`Original form: ${coefficient}${variable} + ${constant} = 0`);
// // // // // // // // // // // // // // // // // // //     solutionSteps.push(`Subtract ${constant} from both sides: ${coefficient}${variable} = ${-constant}`);
// // // // // // // // // // // // // // // // // // //     solutionSteps.push(`Divide both sides by ${coefficient}: ${variable} = ${-constant}/${coefficient}`);
// // // // // // // // // // // // // // // // // // //     solutionSteps.push(`Solution: ${variable} = ${result}`);
    
// // // // // // // // // // // // // // // // // // //     return { solution: result, steps: solutionSteps };
// // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // //   const handleSolve = () => {
// // // // // // // // // // // // // // // // // // //     try {
// // // // // // // // // // // // // // // // // // //       setError('');
// // // // // // // // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // // // // // // // // //       setVariable('');
      
// // // // // // // // // // // // // // // // // // //       if (!equation.trim()) {
// // // // // // // // // // // // // // // // // // //         setError('Please enter an equation');
// // // // // // // // // // // // // // // // // // //         return;
// // // // // // // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // // // // // // //       const parsed = parseLinearEquation(equation);
// // // // // // // // // // // // // // // // // // //       const result = solveLinearEquation(parsed.coefficient, parsed.constant, parsed.variable);
      
// // // // // // // // // // // // // // // // // // //       setVariable(parsed.variable);
// // // // // // // // // // // // // // // // // // //       setSolution(result.solution);
// // // // // // // // // // // // // // // // // // //       setSteps(result.steps);
      
// // // // // // // // // // // // // // // // // // //     } catch (err) {
// // // // // // // // // // // // // // // // // // //       setError(err.message);
// // // // // // // // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // // // // // // // // //       setVariable('');
// // // // // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // //   const handleClear = () => {
// // // // // // // // // // // // // // // // // // //     setEquation('');
// // // // // // // // // // // // // // // // // // //     setSolution(null);
// // // // // // // // // // // // // // // // // // //     setError('');
// // // // // // // // // // // // // // // // // // //     setSteps([]);
// // // // // // // // // // // // // // // // // // //     setVariable('');
// // // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // // //   return (
// // // // // // // // // // // // // // // // // // //     <div className={styles.container}>
// // // // // // // // // // // // // // // // // // //       <h1 className={styles.title}>Linear Equation Solver</h1>
      
// // // // // // // // // // // // // // // // // // //       <div className={styles.mainLayout}>
// // // // // // // // // // // // // // // // // // //         <div className={styles.leftPanel}>
// // // // // // // // // // // // // // // // // // //           <div className={styles.inputSection}>
// // // // // // // // // // // // // // // // // // //             <label className={styles.label}>
// // // // // // // // // // // // // // // // // // //               Enter your linear equation with any variable:
// // // // // // // // // // // // // // // // // // //             </label>
// // // // // // // // // // // // // // // // // // //             <input
// // // // // // // // // // // // // // // // // // //               type="text"
// // // // // // // // // // // // // // // // // // //               value={equation}
// // // // // // // // // // // // // // // // // // //               onChange={(e) => setEquation(e.target.value)}
// // // // // // // // // // // // // // // // // // //               placeholder="Enter equation like: 2x + 3 = 7 or 3y = 12"
// // // // // // // // // // // // // // // // // // //               className={styles.input}
// // // // // // // // // // // // // // // // // // //               onKeyPress={(e) => e.key === 'Enter' && handleSolve()}
// // // // // // // // // // // // // // // // // // //             />
// // // // // // // // // // // // // // // // // // //             <div className={styles.buttonGroup}>
// // // // // // // // // // // // // // // // // // //               <button onClick={handleSolve} className={styles.solveButton}>
// // // // // // // // // // // // // // // // // // //                 Solve
// // // // // // // // // // // // // // // // // // //               </button>
// // // // // // // // // // // // // // // // // // //               <button onClick={handleClear} className={styles.clearButton}>
// // // // // // // // // // // // // // // // // // //                 Clear
// // // // // // // // // // // // // // // // // // //               </button>
// // // // // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // // // // //           </div>

// // // // // // // // // // // // // // // // // // //           {error && (
// // // // // // // // // // // // // // // // // // //             <div className={styles.error}>
// // // // // // // // // // // // // // // // // // //               <strong>Error:</strong> {error}
// // // // // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // // // // //           )}
// // // // // // // // // // // // // // // // // // //         </div>

// // // // // // // // // // // // // // // // // // //         <div className={styles.rightPanel}>
// // // // // // // // // // // // // // // // // // //           {solution !== null ? (
// // // // // // // // // // // // // // // // // // //             <div className={styles.solutionSection}>
// // // // // // // // // // // // // // // // // // //               <h2 className={styles.solutionTitle}>Solution</h2>
// // // // // // // // // // // // // // // // // // //               <div className={styles.solution}>
// // // // // // // // // // // // // // // // // // //                 {typeof solution === 'string' ? solution : `${variable} = ${solution}`}
// // // // // // // // // // // // // // // // // // //               </div>
              
// // // // // // // // // // // // // // // // // // //               {steps.length > 0 && (
// // // // // // // // // // // // // // // // // // //                 <div className={styles.stepsSection}>
// // // // // // // // // // // // // // // // // // //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // // // // // // // // // // // // // // // // //                   <ol className={styles.stepsList}>
// // // // // // // // // // // // // // // // // // //                     {steps.map((step, index) => (
// // // // // // // // // // // // // // // // // // //                       <li key={index} className={styles.step}>
// // // // // // // // // // // // // // // // // // //                         {step}
// // // // // // // // // // // // // // // // // // //                       </li>
// // // // // // // // // // // // // // // // // // //                     ))}
// // // // // // // // // // // // // // // // // // //                   </ol>
// // // // // // // // // // // // // // // // // // //                 </div>
// // // // // // // // // // // // // // // // // // //               )}
// // // // // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // // // // //           ) : (
// // // // // // // // // // // // // // // // // // //             <div className={styles.examples}>
// // // // // // // // // // // // // // // // // // //               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // // // // // // // // // // // // // // // // // //               <ul className={styles.examplesList}>
// // // // // // // // // // // // // // // // // // //                 <li>2x + 3 = 7</li>
// // // // // // // // // // // // // // // // // // //                 <li>3y - 5 = 2y + 1</li>
// // // // // // // // // // // // // // // // // // //                 <li>5a = 15</li>
// // // // // // // // // // // // // // // // // // //                 <li>2z + 4 = z - 1</li>
// // // // // // // // // // // // // // // // // // //                 <li>0.5m + 2.5 = 1.5m - 1</li>
// // // // // // // // // // // // // // // // // // //               </ul>
// // // // // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // // // // //           )}
// // // // // // // // // // // // // // // // // // //         </div>
// // // // // // // // // // // // // // // // // // //       </div>
// // // // // // // // // // // // // // // // // // //     </div>
// // // // // // // // // // // // // // // // // // //   );
// // // // // // // // // // // // // // // // // // // };

// // // // // // // // // // // // // // // // // // // export default LinearEquationSolver;


// // // // // // // // // // // // // // // // // // // components/LinearEquationSolver.js
// // // // // // // // // // // // // // // // // // import { useState } from 'react';
// // // // // // // // // // // // // // // // // // import styles from './LinearEquationSolver.module.css';

// // // // // // // // // // // // // // // // // // const LinearEquationSolver = () => {
// // // // // // // // // // // // // // // // // //   const [equation, setEquation] = useState('');
// // // // // // // // // // // // // // // // // //   const [solution, setSolution] = useState(null);
// // // // // // // // // // // // // // // // // //   const [error, setError] = useState('');
// // // // // // // // // // // // // // // // // //   const [steps, setSteps] = useState([]);
// // // // // // // // // // // // // // // // // //   const [variable, setVariable] = useState('');

// // // // // // // // // // // // // // // // // //   const parseLinearEquation = (eq) => {
// // // // // // // // // // // // // // // // // //     // Remove spaces and convert to lowercase
// // // // // // // // // // // // // // // // // //     const cleanEq = eq.replace(/\s+/g, '').toLowerCase();
    
// // // // // // // // // // // // // // // // // //     // Check if equation contains equals sign
// // // // // // // // // // // // // // // // // //     if (!cleanEq.includes('=')) {
// // // // // // // // // // // // // // // // // //       throw new Error('Equation must contain an equals sign (=)');
// // // // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // // // //     // Split by equals sign
// // // // // // // // // // // // // // // // // //     const [leftSide, rightSide] = cleanEq.split('=');
    
// // // // // // // // // // // // // // // // // //     if (!leftSide || !rightSide) {
// // // // // // // // // // // // // // // // // //       throw new Error('Both sides of the equation must have content');
// // // // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // // // //     // Find the variable in the equation
// // // // // // // // // // // // // // // // // //     const variableMatch = cleanEq.match(/[a-z]/);
// // // // // // // // // // // // // // // // // //     if (!variableMatch) {
// // // // // // // // // // // // // // // // // //       throw new Error('No variable found in the equation');
// // // // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // // // //     const variable = variableMatch[0];
    
// // // // // // // // // // // // // // // // // //     // Parse each side to extract coefficient and constant
// // // // // // // // // // // // // // // // // //     const parseExpression = (expr) => {
// // // // // // // // // // // // // // // // // //       let coefficient = 0;
// // // // // // // // // // // // // // // // // //       let constant = 0;
      
// // // // // // // // // // // // // // // // // //       // Replace - with +- for easier splitting
// // // // // // // // // // // // // // // // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // // // // // // // // // // // // // // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // // // // // // // // // // // // // // // //       for (let term of terms) {
// // // // // // // // // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // // // // // // // // //           // Extract coefficient of the variable
// // // // // // // // // // // // // // // // // //           const coefMatch = term.match(new RegExp(`^([+-]?\\d*\\.?\\d*)${variable}$`));
// // // // // // // // // // // // // // // // // //           if (coefMatch) {
// // // // // // // // // // // // // // // // // //             let coef = coefMatch[1];
// // // // // // // // // // // // // // // // // //             if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // // // // // // // // // //             if (coef === '-') coef = '-1';
// // // // // // // // // // // // // // // // // //             coefficient += parseFloat(coef);
// // // // // // // // // // // // // // // // // //           } else {
// // // // // // // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // // // // // // //           }
// // // // // // // // // // // // // // // // // //         } else {
// // // // // // // // // // // // // // // // // //           // It's a constant term
// // // // // // // // // // // // // // // // // //           const constMatch = term.match(/^([+-]?\d+\.?\d*)$/);
// // // // // // // // // // // // // // // // // //           if (constMatch) {
// // // // // // // // // // // // // // // // // //             constant += parseFloat(constMatch[1]);
// // // // // // // // // // // // // // // // // //           } else {
// // // // // // // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // // // // // // //           }
// // // // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // // // // // //       return { coefficient, constant };
// // // // // // // // // // // // // // // // // //     };
    
// // // // // // // // // // // // // // // // // //     const left = parseExpression(leftSide);
// // // // // // // // // // // // // // // // // //     const right = parseExpression(rightSide);
    
// // // // // // // // // // // // // // // // // //     // Move everything to left side: ax + b = cx + d becomes (a-c)x + (b-d) = 0
// // // // // // // // // // // // // // // // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // // // // // // // // // // // // // // // //     const finalConstant = left.constant - right.constant;
    
// // // // // // // // // // // // // // // // // //     return { coefficient: finalCoeff, constant: finalConstant, variable };
// // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // //   const solveLinearEquation = (coefficient, constant, variable, originalEquation) => {
// // // // // // // // // // // // // // // // // //     const solutionSteps = [];
    
// // // // // // // // // // // // // // // // // //     if (coefficient === 0) {
// // // // // // // // // // // // // // // // // //       if (constant === 0) {
// // // // // // // // // // // // // // // // // //         return { 
// // // // // // // // // // // // // // // // // //           solution: 'infinitely many solutions', 
// // // // // // // // // // // // // // // // // //           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
// // // // // // // // // // // // // // // // // //         };
// // // // // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // // // // //         return { 
// // // // // // // // // // // // // // // // // //           solution: 'no solution', 
// // // // // // // // // // // // // // // // // //           steps: [originalEquation, `${constant} = 0`, 'This is never true, so there is no solution'] 
// // // // // // // // // // // // // // // // // //         };
// // // // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // // // //     // Standard case: ax + b = 0, so x = -b/a
// // // // // // // // // // // // // // // // // //     const result = -constant / coefficient;
    
// // // // // // // // // // // // // // // // // //     solutionSteps.push(`Original equation: ${originalEquation}`);
// // // // // // // // // // // // // // // // // //     solutionSteps.push(`Simplified form: ${coefficient}${variable} + ${constant} = 0`);
// // // // // // // // // // // // // // // // // //     solutionSteps.push(`Subtract ${constant} from both sides: ${coefficient}${variable} = ${-constant}`);
// // // // // // // // // // // // // // // // // //     solutionSteps.push(`Divide both sides by ${coefficient}: ${variable} = ${-constant}/${coefficient}`);
// // // // // // // // // // // // // // // // // //     solutionSteps.push(`Solution: ${variable} = ${result}`);
    
// // // // // // // // // // // // // // // // // //     return { solution: result, steps: solutionSteps };
// // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // //   const handleSolve = () => {
// // // // // // // // // // // // // // // // // //     try {
// // // // // // // // // // // // // // // // // //       setError('');
// // // // // // // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // // // // // // // //       setVariable('');
      
// // // // // // // // // // // // // // // // // //       if (!equation.trim()) {
// // // // // // // // // // // // // // // // // //         setError('Please enter an equation');
// // // // // // // // // // // // // // // // // //         return;
// // // // // // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // // // // // //       const parsed = parseLinearEquation(equation);
// // // // // // // // // // // // // // // // // //       const result = solveLinearEquation(parsed.coefficient, parsed.constant, parsed.variable, equation);
      
// // // // // // // // // // // // // // // // // //       setVariable(parsed.variable);
// // // // // // // // // // // // // // // // // //       setSolution(result.solution);
// // // // // // // // // // // // // // // // // //       setSteps(result.steps);
      
// // // // // // // // // // // // // // // // // //     } catch (err) {
// // // // // // // // // // // // // // // // // //       setError(err.message);
// // // // // // // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // // // // // // // //       setVariable('');
// // // // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // //   const handleClear = () => {
// // // // // // // // // // // // // // // // // //     setEquation('');
// // // // // // // // // // // // // // // // // //     setSolution(null);
// // // // // // // // // // // // // // // // // //     setError('');
// // // // // // // // // // // // // // // // // //     setSteps([]);
// // // // // // // // // // // // // // // // // //     setVariable('');
// // // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // // //   return (
// // // // // // // // // // // // // // // // // //     <div className={styles.container}>
// // // // // // // // // // // // // // // // // //       <h1 className={styles.title}>Linear Equation Solver</h1>
      
// // // // // // // // // // // // // // // // // //       <div className={styles.mainLayout}>
// // // // // // // // // // // // // // // // // //         <div className={styles.leftPanel}>
// // // // // // // // // // // // // // // // // //           <div className={styles.inputSection}>
// // // // // // // // // // // // // // // // // //             <label className={styles.label}>
// // // // // // // // // // // // // // // // // //               Enter your linear equation with any variable:
// // // // // // // // // // // // // // // // // //             </label>
// // // // // // // // // // // // // // // // // //             <input
// // // // // // // // // // // // // // // // // //               type="text"
// // // // // // // // // // // // // // // // // //               value={equation}
// // // // // // // // // // // // // // // // // //               onChange={(e) => setEquation(e.target.value)}
// // // // // // // // // // // // // // // // // //               placeholder="Enter equation like: 2x + 3 = 7 or 3y = 12"
// // // // // // // // // // // // // // // // // //               className={styles.input}
// // // // // // // // // // // // // // // // // //               onKeyPress={(e) => e.key === 'Enter' && handleSolve()}
// // // // // // // // // // // // // // // // // //             />
// // // // // // // // // // // // // // // // // //             <div className={styles.buttonGroup}>
// // // // // // // // // // // // // // // // // //               <button onClick={handleSolve} className={styles.solveButton}>
// // // // // // // // // // // // // // // // // //                 Solve
// // // // // // // // // // // // // // // // // //               </button>
// // // // // // // // // // // // // // // // // //               <button onClick={handleClear} className={styles.clearButton}>
// // // // // // // // // // // // // // // // // //                 Clear
// // // // // // // // // // // // // // // // // //               </button>
// // // // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // // // //           </div>

// // // // // // // // // // // // // // // // // //           {error && (
// // // // // // // // // // // // // // // // // //             <div className={styles.error}>
// // // // // // // // // // // // // // // // // //               <strong>Error:</strong> {error}
// // // // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // // // //           )}
// // // // // // // // // // // // // // // // // //         </div>

// // // // // // // // // // // // // // // // // //         <div className={styles.rightPanel}>
// // // // // // // // // // // // // // // // // //           {solution !== null ? (
// // // // // // // // // // // // // // // // // //             <div className={styles.solutionSection}>
// // // // // // // // // // // // // // // // // //               <h2 className={styles.solutionTitle}>Solution</h2>
// // // // // // // // // // // // // // // // // //               <div className={styles.solution}>
// // // // // // // // // // // // // // // // // //                 {typeof solution === 'string' ? solution : `${variable} = ${solution}`}
// // // // // // // // // // // // // // // // // //               </div>
              
// // // // // // // // // // // // // // // // // //               {steps.length > 0 && (
// // // // // // // // // // // // // // // // // //                 <div className={styles.stepsSection}>
// // // // // // // // // // // // // // // // // //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // // // // // // // // // // // // // // // //                   <ol className={styles.stepsList}>
// // // // // // // // // // // // // // // // // //                     {steps.map((step, index) => (
// // // // // // // // // // // // // // // // // //                       <li key={index} className={styles.step}>
// // // // // // // // // // // // // // // // // //                         {step}
// // // // // // // // // // // // // // // // // //                       </li>
// // // // // // // // // // // // // // // // // //                     ))}
// // // // // // // // // // // // // // // // // //                   </ol>
// // // // // // // // // // // // // // // // // //                 </div>
// // // // // // // // // // // // // // // // // //               )}
// // // // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // // // //           ) : (
// // // // // // // // // // // // // // // // // //             <div className={styles.examples}>
// // // // // // // // // // // // // // // // // //               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // // // // // // // // // // // // // // // // //               <ul className={styles.examplesList}>
// // // // // // // // // // // // // // // // // //                 <li>2x + 3 = 7</li>
// // // // // // // // // // // // // // // // // //                 <li>3y - 5 = 2y + 1</li>
// // // // // // // // // // // // // // // // // //                 <li>5a = 15</li>
// // // // // // // // // // // // // // // // // //                 <li>2z + 4 = z - 1</li>
// // // // // // // // // // // // // // // // // //                 <li>0.5m + 2.5 = 1.5m - 1</li>
// // // // // // // // // // // // // // // // // //               </ul>
// // // // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // // // //           )}
// // // // // // // // // // // // // // // // // //         </div>
// // // // // // // // // // // // // // // // // //       </div>
// // // // // // // // // // // // // // // // // //     </div>
// // // // // // // // // // // // // // // // // //   );
// // // // // // // // // // // // // // // // // // };

// // // // // // // // // // // // // // // // // // export default LinearEquationSolver;

// // // // // // // // // // // // // // // // // // components/LinearEquationSolver.js
// // // // // // // // // // // // // // // // // import { useState } from 'react';
// // // // // // // // // // // // // // // // // import styles from './LinearEquationSolver.module.css';

// // // // // // // // // // // // // // // // // const LinearEquationSolver = () => {
// // // // // // // // // // // // // // // // //   const [equation, setEquation] = useState('');
// // // // // // // // // // // // // // // // //   const [solution, setSolution] = useState(null);
// // // // // // // // // // // // // // // // //   const [error, setError] = useState('');
// // // // // // // // // // // // // // // // //   const [steps, setSteps] = useState([]);
// // // // // // // // // // // // // // // // //   const [variable, setVariable] = useState('');

// // // // // // // // // // // // // // // // //   const parseLinearEquation = (eq) => {
// // // // // // // // // // // // // // // // //     // Remove spaces and convert to lowercase
// // // // // // // // // // // // // // // // //     const cleanEq = eq.replace(/\s+/g, '').toLowerCase();
    
// // // // // // // // // // // // // // // // //     // Check if equation contains equals sign
// // // // // // // // // // // // // // // // //     if (!cleanEq.includes('=')) {
// // // // // // // // // // // // // // // // //       throw new Error('Equation must contain an equals sign (=)');
// // // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // // //     // Split by equals sign
// // // // // // // // // // // // // // // // //     const [leftSide, rightSide] = cleanEq.split('=');
    
// // // // // // // // // // // // // // // // //     if (!leftSide || !rightSide) {
// // // // // // // // // // // // // // // // //       throw new Error('Both sides of the equation must have content');
// // // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // // //     // Find the variable in the equation
// // // // // // // // // // // // // // // // //     const variableMatch = cleanEq.match(/[a-z]/);
// // // // // // // // // // // // // // // // //     if (!variableMatch) {
// // // // // // // // // // // // // // // // //       throw new Error('No variable found in the equation');
// // // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // // //     const variable = variableMatch[0];
    
// // // // // // // // // // // // // // // // //     // Parse each side to extract coefficient and constant
// // // // // // // // // // // // // // // // //     const parseExpression = (expr) => {
// // // // // // // // // // // // // // // // //       let coefficient = 0;
// // // // // // // // // // // // // // // // //       let constant = 0;
      
// // // // // // // // // // // // // // // // //       // Replace - with +- for easier splitting
// // // // // // // // // // // // // // // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // // // // // // // // // // // // // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // // // // // // // // // // // // // // //       for (let term of terms) {
// // // // // // // // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // // // // // // // //           // Extract coefficient of the variable
// // // // // // // // // // // // // // // // //           const coefMatch = term.match(new RegExp(`^([+-]?\\d*\\.?\\d*)${variable}$`));
// // // // // // // // // // // // // // // // //           if (coefMatch) {
// // // // // // // // // // // // // // // // //             let coef = coefMatch[1];
// // // // // // // // // // // // // // // // //             if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // // // // // // // // //             if (coef === '-') coef = '-1';
// // // // // // // // // // // // // // // // //             coefficient += parseFloat(coef);
// // // // // // // // // // // // // // // // //           } else {
// // // // // // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // // // // // //           }
// // // // // // // // // // // // // // // // //         } else {
// // // // // // // // // // // // // // // // //           // It's a constant term
// // // // // // // // // // // // // // // // //           const constMatch = term.match(/^([+-]?\d+\.?\d*)$/);
// // // // // // // // // // // // // // // // //           if (constMatch) {
// // // // // // // // // // // // // // // // //             constant += parseFloat(constMatch[1]);
// // // // // // // // // // // // // // // // //           } else {
// // // // // // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // // // // // //           }
// // // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // // // // //       return { coefficient, constant };
// // // // // // // // // // // // // // // // //     };
    
// // // // // // // // // // // // // // // // //     const left = parseExpression(leftSide);
// // // // // // // // // // // // // // // // //     const right = parseExpression(rightSide);
    
// // // // // // // // // // // // // // // // //     // Move everything to left side: ax + b = cx + d becomes (a-c)x + (b-d) = 0
// // // // // // // // // // // // // // // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // // // // // // // // // // // // // // //     const finalConstant = left.constant - right.constant;
    
// // // // // // // // // // // // // // // // //     return { coefficient: finalCoeff, constant: finalConstant, variable };
// // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // //   const solveLinearEquation = (coefficient, constant, variable, originalEquation) => {
// // // // // // // // // // // // // // // // //     const solutionSteps = [];
    
// // // // // // // // // // // // // // // // //     if (coefficient === 0) {
// // // // // // // // // // // // // // // // //       if (constant === 0) {
// // // // // // // // // // // // // // // // //         return { 
// // // // // // // // // // // // // // // // //           solution: 'infinitely many solutions', 
// // // // // // // // // // // // // // // // //           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
// // // // // // // // // // // // // // // // //         };
// // // // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // // // //         return { 
// // // // // // // // // // // // // // // // //           solution: 'no solution', 
// // // // // // // // // // // // // // // // //           steps: [originalEquation, `${constant} = 0`, 'This is never true, so there is no solution'] 
// // // // // // // // // // // // // // // // //         };
// // // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // // //     // Standard case: ax + b = 0, so x = -b/a
// // // // // // // // // // // // // // // // //     const result = -constant / coefficient;
    
// // // // // // // // // // // // // // // // //     solutionSteps.push(`Original equation: ${originalEquation}`);
// // // // // // // // // // // // // // // // //     solutionSteps.push(`Move all variable terms to the left and constants to the right`);
// // // // // // // // // // // // // // // // //     solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
// // // // // // // // // // // // // // // // //     solutionSteps.push(`This gives us: ${coefficient}${variable} + ${constant} = 0`);
// // // // // // // // // // // // // // // // //     solutionSteps.push(`Subtract ${constant} from both sides: ${coefficient}${variable} = ${-constant}`);
// // // // // // // // // // // // // // // // //     solutionSteps.push(`Divide both sides by ${coefficient}: ${variable} = ${-constant}/${coefficient}`);
// // // // // // // // // // // // // // // // //     solutionSteps.push(`Solution: ${variable} = ${result}`);
    
// // // // // // // // // // // // // // // // //     return { solution: result, steps: solutionSteps };
// // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // //   const handleSolve = () => {
// // // // // // // // // // // // // // // // //     try {
// // // // // // // // // // // // // // // // //       setError('');
// // // // // // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // // // // // // //       setVariable('');
      
// // // // // // // // // // // // // // // // //       if (!equation.trim()) {
// // // // // // // // // // // // // // // // //         setError('Please enter an equation');
// // // // // // // // // // // // // // // // //         return;
// // // // // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // // // // //       const parsed = parseLinearEquation(equation);
// // // // // // // // // // // // // // // // //       const result = solveLinearEquation(parsed.coefficient, parsed.constant, parsed.variable, equation);
      
// // // // // // // // // // // // // // // // //       setVariable(parsed.variable);
// // // // // // // // // // // // // // // // //       setSolution(result.solution);
// // // // // // // // // // // // // // // // //       setSteps(result.steps);
      
// // // // // // // // // // // // // // // // //     } catch (err) {
// // // // // // // // // // // // // // // // //       setError(err.message);
// // // // // // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // // // // // // //       setVariable('');
// // // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // //   const handleClear = () => {
// // // // // // // // // // // // // // // // //     setEquation('');
// // // // // // // // // // // // // // // // //     setSolution(null);
// // // // // // // // // // // // // // // // //     setError('');
// // // // // // // // // // // // // // // // //     setSteps([]);
// // // // // // // // // // // // // // // // //     setVariable('');
// // // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // // //   return (
// // // // // // // // // // // // // // // // //     <div className={styles.container}>
// // // // // // // // // // // // // // // // //       <h1 className={styles.title}>Linear Equation Solver</h1>
      
// // // // // // // // // // // // // // // // //       <div className={styles.mainLayout}>
// // // // // // // // // // // // // // // // //         <div className={styles.leftPanel}>
// // // // // // // // // // // // // // // // //           <div className={styles.inputSection}>
// // // // // // // // // // // // // // // // //             <label className={styles.label}>
// // // // // // // // // // // // // // // // //               Enter your linear equation with any variable:
// // // // // // // // // // // // // // // // //             </label>
// // // // // // // // // // // // // // // // //             <input
// // // // // // // // // // // // // // // // //               type="text"
// // // // // // // // // // // // // // // // //               value={equation}
// // // // // // // // // // // // // // // // //               onChange={(e) => setEquation(e.target.value)}
// // // // // // // // // // // // // // // // //               placeholder="Enter equation like: 2x + 3 = 7 or 3y = 12"
// // // // // // // // // // // // // // // // //               className={styles.input}
// // // // // // // // // // // // // // // // //               onKeyPress={(e) => e.key === 'Enter' && handleSolve()}
// // // // // // // // // // // // // // // // //             />
// // // // // // // // // // // // // // // // //             <div className={styles.buttonGroup}>
// // // // // // // // // // // // // // // // //               <button onClick={handleSolve} className={styles.solveButton}>
// // // // // // // // // // // // // // // // //                 Solve
// // // // // // // // // // // // // // // // //               </button>
// // // // // // // // // // // // // // // // //               <button onClick={handleClear} className={styles.clearButton}>
// // // // // // // // // // // // // // // // //                 Clear
// // // // // // // // // // // // // // // // //               </button>
// // // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // // //           </div>

// // // // // // // // // // // // // // // // //           {error && (
// // // // // // // // // // // // // // // // //             <div className={styles.error}>
// // // // // // // // // // // // // // // // //               <strong>Error:</strong> {error}
// // // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // // //           )}
// // // // // // // // // // // // // // // // //         </div>

// // // // // // // // // // // // // // // // //         <div className={styles.rightPanel}>
// // // // // // // // // // // // // // // // //           {solution !== null ? (
// // // // // // // // // // // // // // // // //             <div className={styles.solutionSection}>
// // // // // // // // // // // // // // // // //               <h2 className={styles.solutionTitle}>Solution</h2>
// // // // // // // // // // // // // // // // //               <div className={styles.solution}>
// // // // // // // // // // // // // // // // //                 {typeof solution === 'string' ? solution : `${variable} = ${solution}`}
// // // // // // // // // // // // // // // // //               </div>
              
// // // // // // // // // // // // // // // // //               {steps.length > 0 && (
// // // // // // // // // // // // // // // // //                 <div className={styles.stepsSection}>
// // // // // // // // // // // // // // // // //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // // // // // // // // // // // // // // //                   <ol className={styles.stepsList}>
// // // // // // // // // // // // // // // // //                     {steps.map((step, index) => (
// // // // // // // // // // // // // // // // //                       <li key={index} className={styles.step}>
// // // // // // // // // // // // // // // // //                         {step}
// // // // // // // // // // // // // // // // //                       </li>
// // // // // // // // // // // // // // // // //                     ))}
// // // // // // // // // // // // // // // // //                   </ol>
// // // // // // // // // // // // // // // // //                 </div>
// // // // // // // // // // // // // // // // //               )}
// // // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // // //           ) : (
// // // // // // // // // // // // // // // // //             <div className={styles.examples}>
// // // // // // // // // // // // // // // // //               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // // // // // // // // // // // // // // // //               <ul className={styles.examplesList}>
// // // // // // // // // // // // // // // // //                 <li>2x + 3 = 7</li>
// // // // // // // // // // // // // // // // //                 <li>3y - 5 = 2y + 1</li>
// // // // // // // // // // // // // // // // //                 <li>5a = 15</li>
// // // // // // // // // // // // // // // // //                 <li>2z + 4 = z - 1</li>
// // // // // // // // // // // // // // // // //                 <li>0.5m + 2.5 = 1.5m - 1</li>
// // // // // // // // // // // // // // // // //               </ul>
// // // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // // //           )}
// // // // // // // // // // // // // // // // //         </div>
// // // // // // // // // // // // // // // // //       </div>
// // // // // // // // // // // // // // // // //     </div>
// // // // // // // // // // // // // // // // //   );
// // // // // // // // // // // // // // // // // };

// // // // // // // // // // // // // // // // // export default LinearEquationSolver;



// // // // // // // // // // // // // // // // // components/LinearEquationSolver.js
// // // // // // // // // // // // // // // // import { useState } from 'react';
// // // // // // // // // // // // // // // // import styles from './LinearEquationSolver.module.css';

// // // // // // // // // // // // // // // // const LinearEquationSolver = () => {
// // // // // // // // // // // // // // // //   const [equation, setEquation] = useState('');
// // // // // // // // // // // // // // // //   const [solution, setSolution] = useState(null);
// // // // // // // // // // // // // // // //   const [error, setError] = useState('');
// // // // // // // // // // // // // // // //   const [steps, setSteps] = useState([]);
// // // // // // // // // // // // // // // //   const [variable, setVariable] = useState('');

// // // // // // // // // // // // // // // //   const parseLinearEquation = (eq) => {
// // // // // // // // // // // // // // // //     // Remove spaces and convert to lowercase
// // // // // // // // // // // // // // // //     const cleanEq = eq.replace(/\s+/g, '').toLowerCase();
    
// // // // // // // // // // // // // // // //     // Check if equation contains equals sign
// // // // // // // // // // // // // // // //     if (!cleanEq.includes('=')) {
// // // // // // // // // // // // // // // //       throw new Error('Equation must contain an equals sign (=)');
// // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // //     // Split by equals sign
// // // // // // // // // // // // // // // //     const [leftSide, rightSide] = cleanEq.split('=');
    
// // // // // // // // // // // // // // // //     if (!leftSide || !rightSide) {
// // // // // // // // // // // // // // // //       throw new Error('Both sides of the equation must have content');
// // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // //     // Find the variable in the equation
// // // // // // // // // // // // // // // //     const variableMatch = cleanEq.match(/[a-z]/);
// // // // // // // // // // // // // // // //     if (!variableMatch) {
// // // // // // // // // // // // // // // //       throw new Error('No variable found in the equation');
// // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // //     const variable = variableMatch[0];
    
// // // // // // // // // // // // // // // //     // Parse each side to extract coefficient and constant
// // // // // // // // // // // // // // // //     const parseExpression = (expr) => {
// // // // // // // // // // // // // // // //       let coefficient = 0;
// // // // // // // // // // // // // // // //       let constant = 0;
      
// // // // // // // // // // // // // // // //       // Replace - with +- for easier splitting
// // // // // // // // // // // // // // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // // // // // // // // // // // // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // // // // // // // // // // // // // //       for (let term of terms) {
// // // // // // // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // // // // // // //           // Extract coefficient of the variable
// // // // // // // // // // // // // // // //           const coefMatch = term.match(new RegExp(`^([+-]?\\d*\\.?\\d*)${variable}$`));
// // // // // // // // // // // // // // // //           if (coefMatch) {
// // // // // // // // // // // // // // // //             let coef = coefMatch[1];
// // // // // // // // // // // // // // // //             if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // // // // // // // //             if (coef === '-') coef = '-1';
// // // // // // // // // // // // // // // //             coefficient += parseFloat(coef);
// // // // // // // // // // // // // // // //           } else {
// // // // // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // // // // //           }
// // // // // // // // // // // // // // // //         } else {
// // // // // // // // // // // // // // // //           // It's a constant term
// // // // // // // // // // // // // // // //           const constMatch = term.match(/^([+-]?\d+\.?\d*)$/);
// // // // // // // // // // // // // // // //           if (constMatch) {
// // // // // // // // // // // // // // // //             constant += parseFloat(constMatch[1]);
// // // // // // // // // // // // // // // //           } else {
// // // // // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // // // // //           }
// // // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // // // //       return { coefficient, constant };
// // // // // // // // // // // // // // // //     };
    
// // // // // // // // // // // // // // // //     const left = parseExpression(leftSide);
// // // // // // // // // // // // // // // //     const right = parseExpression(rightSide);
    
// // // // // // // // // // // // // // // //     // Move everything to left side: ax + b = cx + d becomes (a-c)x + (b-d) = 0
// // // // // // // // // // // // // // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // // // // // // // // // // // // // //     const finalConstant = left.constant - right.constant;
    
// // // // // // // // // // // // // // // //     return { coefficient: finalCoeff, constant: finalConstant, variable };
// // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // //   const solveLinearEquation = (coefficient, constant, variable, originalEquation, leftSide, rightSide) => {
// // // // // // // // // // // // // // // //     const solutionSteps = [];
    
// // // // // // // // // // // // // // // //     if (coefficient === 0) {
// // // // // // // // // // // // // // // //       if (constant === 0) {
// // // // // // // // // // // // // // // //         return { 
// // // // // // // // // // // // // // // //           solution: 'infinitely many solutions', 
// // // // // // // // // // // // // // // //           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
// // // // // // // // // // // // // // // //         };
// // // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // // //         return { 
// // // // // // // // // // // // // // // //           solution: 'no solution', 
// // // // // // // // // // // // // // // //           steps: [originalEquation, `${constant} = 0`, 'This is never true, so there is no solution'] 
// // // // // // // // // // // // // // // //         };
// // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // //     // Standard case: ax + b = 0, so x = -b/a
// // // // // // // // // // // // // // // //     const result = -constant / coefficient;
    
// // // // // // // // // // // // // // // //     solutionSteps.push(`Original equation: ${originalEquation}`);
    
// // // // // // // // // // // // // // // //     // Show the specific operations based on the original equation structure
// // // // // // // // // // // // // // // //     const leftTerms = leftSide.match(/[+-]?[^+-]+/g) || [];
// // // // // // // // // // // // // // // //     const rightTerms = rightSide.match(/[+-]?[^+-]+/g) || [];
    
// // // // // // // // // // // // // // // //     // Find what needs to be moved
// // // // // // // // // // // // // // // //     let variableTermsLeft = [];
// // // // // // // // // // // // // // // //     let constantTermsLeft = [];
// // // // // // // // // // // // // // // //     let variableTermsRight = [];
// // // // // // // // // // // // // // // //     let constantTermsRight = [];
    
// // // // // // // // // // // // // // // //     leftTerms.forEach(term => {
// // // // // // // // // // // // // // // //       if (term.includes(variable)) {
// // // // // // // // // // // // // // // //         variableTermsLeft.push(term);
// // // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // // //         constantTermsLeft.push(term);
// // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // //     });
    
// // // // // // // // // // // // // // // //     rightTerms.forEach(term => {
// // // // // // // // // // // // // // // //       if (term.includes(variable)) {
// // // // // // // // // // // // // // // //         variableTermsRight.push(term);
// // // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // // //         constantTermsRight.push(term);
// // // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // // //     });
    
// // // // // // // // // // // // // // // //     // Show moving constant terms from left to right
// // // // // // // // // // // // // // // //     if (constantTermsLeft.length > 0) {
// // // // // // // // // // // // // // // //       const termToMove = constantTermsLeft[0];
// // // // // // // // // // // // // // // //       const oppositeSign = termToMove.startsWith('-') ? termToMove.substring(1) : '-' + termToMove;
// // // // // // // // // // // // // // // //       solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the right`);
// // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // //     // Show moving variable terms from right to left
// // // // // // // // // // // // // // // //     if (variableTermsRight.length > 0) {
// // // // // // // // // // // // // // // //       const termToMove = variableTermsRight[0];
// // // // // // // // // // // // // // // //       const oppositeSign = termToMove.startsWith('-') ? termToMove.substring(1) : '-' + termToMove;
// // // // // // // // // // // // // // // //       solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
// // // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // // //     solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
// // // // // // // // // // // // // // // //     solutionSteps.push(`Divide both sides by ${coefficient}: ${variable} = ${-constant}/${coefficient}`);
// // // // // // // // // // // // // // // //     solutionSteps.push(`Solution: ${variable} = ${result}`);
    
// // // // // // // // // // // // // // // //     return { solution: result, steps: solutionSteps };
// // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // //   const handleSolve = () => {
// // // // // // // // // // // // // // // //     try {
// // // // // // // // // // // // // // // //       setError('');
// // // // // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // // // // // //       setVariable('');
      
// // // // // // // // // // // // // // // //       if (!equation.trim()) {
// // // // // // // // // // // // // // // //         setError('Please enter an equation');
// // // // // // // // // // // // // // // //         return;
// // // // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // // // //       const parsed = parseLinearEquation(equation);
// // // // // // // // // // // // // // // //       const [leftSide, rightSide] = equation.split('=');
// // // // // // // // // // // // // // // //       const result = solveLinearEquation(parsed.coefficient, parsed.constant, parsed.variable, equation, leftSide.trim(), rightSide.trim());
      
// // // // // // // // // // // // // // // //       setVariable(parsed.variable);
// // // // // // // // // // // // // // // //       setSolution(result.solution);
// // // // // // // // // // // // // // // //       setSteps(result.steps);
      
// // // // // // // // // // // // // // // //     } catch (err) {
// // // // // // // // // // // // // // // //       setError(err.message);
// // // // // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // // // // // //       setVariable('');
// // // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // //   const handleClear = () => {
// // // // // // // // // // // // // // // //     setEquation('');
// // // // // // // // // // // // // // // //     setSolution(null);
// // // // // // // // // // // // // // // //     setError('');
// // // // // // // // // // // // // // // //     setSteps([]);
// // // // // // // // // // // // // // // //     setVariable('');
// // // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // // //   return (
// // // // // // // // // // // // // // // //     <div className={styles.container}>
// // // // // // // // // // // // // // // //       {/* <h1 className={styles.title}>Linear Equation Solver</h1> */}
      
// // // // // // // // // // // // // // // //       <div className={styles.mainLayout}>
// // // // // // // // // // // // // // // //         <div className={styles.leftPanel}>
// // // // // // // // // // // // // // // //           <div className={styles.inputSection}>
// // // // // // // // // // // // // // // //             <label className={styles.label}>
// // // // // // // // // // // // // // // //               Enter your linear equation with any variable:
// // // // // // // // // // // // // // // //             </label>
// // // // // // // // // // // // // // // //             <input
// // // // // // // // // // // // // // // //               type="text"
// // // // // // // // // // // // // // // //               value={equation}
// // // // // // // // // // // // // // // //               onChange={(e) => setEquation(e.target.value)}
// // // // // // // // // // // // // // // //               placeholder="Enter equation like: 2x + 3 = 7 or 3y = 12"
// // // // // // // // // // // // // // // //               className={styles.input}
// // // // // // // // // // // // // // // //               onKeyPress={(e) => e.key === 'Enter' && handleSolve()}
// // // // // // // // // // // // // // // //             />
// // // // // // // // // // // // // // // //             <div className={styles.buttonGroup}>
// // // // // // // // // // // // // // // //               <button onClick={handleSolve} className={styles.solveButton}>
// // // // // // // // // // // // // // // //                 Solve
// // // // // // // // // // // // // // // //               </button>
// // // // // // // // // // // // // // // //               <button onClick={handleClear} className={styles.clearButton}>
// // // // // // // // // // // // // // // //                 Clear
// // // // // // // // // // // // // // // //               </button>
// // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // //           </div>

// // // // // // // // // // // // // // // //           {error && (
// // // // // // // // // // // // // // // //             <div className={styles.error}>
// // // // // // // // // // // // // // // //               <strong>Error:</strong> {error}
// // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // //           )}
// // // // // // // // // // // // // // // //         </div>

// // // // // // // // // // // // // // // //         <div className={styles.rightPanel}>
// // // // // // // // // // // // // // // //           {solution !== null ? (
// // // // // // // // // // // // // // // //             <div className={styles.solutionSection}>
// // // // // // // // // // // // // // // //               <h2 className={styles.solutionTitle}>Solution</h2>
// // // // // // // // // // // // // // // //               <div className={styles.solution}>
// // // // // // // // // // // // // // // //                 {typeof solution === 'string' ? solution : `${variable} = ${solution}`}
// // // // // // // // // // // // // // // //               </div>
              
// // // // // // // // // // // // // // // //               {steps.length > 0 && (
// // // // // // // // // // // // // // // //                 <div className={styles.stepsSection}>
// // // // // // // // // // // // // // // //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // // // // // // // // // // // // // //                   <ol className={styles.stepsList}>
// // // // // // // // // // // // // // // //                     {steps.map((step, index) => (
// // // // // // // // // // // // // // // //                       <li key={index} className={styles.step}>
// // // // // // // // // // // // // // // //                         {step}
// // // // // // // // // // // // // // // //                       </li>
// // // // // // // // // // // // // // // //                     ))}
// // // // // // // // // // // // // // // //                   </ol>
// // // // // // // // // // // // // // // //                 </div>
// // // // // // // // // // // // // // // //               )}
// // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // //           ) : (
// // // // // // // // // // // // // // // //             <div className={styles.examples}>
// // // // // // // // // // // // // // // //               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // // // // // // // // // // // // // // //               <ul className={styles.examplesList}>
// // // // // // // // // // // // // // // //                 <li>2x + 3 = 7</li>
// // // // // // // // // // // // // // // //                 <li>3y - 5 = 2y + 1</li>
// // // // // // // // // // // // // // // //                 <li>5a = 15</li>
// // // // // // // // // // // // // // // //                 <li>2z + 4 = z - 1</li>
// // // // // // // // // // // // // // // //                 <li>0.5m + 2.5 = 1.5m - 1</li>
// // // // // // // // // // // // // // // //               </ul>
// // // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // // //           )}
// // // // // // // // // // // // // // // //         </div>
// // // // // // // // // // // // // // // //       </div>
// // // // // // // // // // // // // // // //     </div>
// // // // // // // // // // // // // // // //   );
// // // // // // // // // // // // // // // // };

// // // // // // // // // // // // // // // // export default LinearEquationSolver;


// // // // // // // // // // // // // // // // components/LinearEquationSolver.js
// // // // // // // // // // // // // // // import { useState } from 'react';
// // // // // // // // // // // // // // // import styles from './LinearEquationSolver.module.css';

// // // // // // // // // // // // // // // const LinearEquationSolver = () => {
// // // // // // // // // // // // // // //   const [equation, setEquation] = useState('');
// // // // // // // // // // // // // // //   const [solution, setSolution] = useState(null);
// // // // // // // // // // // // // // //   const [error, setError] = useState('');
// // // // // // // // // // // // // // //   const [steps, setSteps] = useState([]);
// // // // // // // // // // // // // // //   const [variable, setVariable] = useState('');

// // // // // // // // // // // // // // //   const expandParentheses = (equation) => {
// // // // // // // // // // // // // // //     // Handle patterns like 2(x+3), -3(2x-1), etc.
// // // // // // // // // // // // // // //     const parenthesesPattern = /([+-]?\d*\.?\d*)\(([^)]+)\)/g;
    
// // // // // // // // // // // // // // //     return equation.replace(parenthesesPattern, (match, coefficient, inside) => {
// // // // // // // // // // // // // // //       // Default coefficient is 1 if empty or just a sign
// // // // // // // // // // // // // // //       if (coefficient === '' || coefficient === '+') coefficient = '1';
// // // // // // // // // // // // // // //       if (coefficient === '-') coefficient = '-1';
      
// // // // // // // // // // // // // // //       const coef = parseFloat(coefficient);
      
// // // // // // // // // // // // // // //       // Split inside parentheses into terms
// // // // // // // // // // // // // // //       const insideNormalized = inside.replace(/(?<!^)-/g, '+-');
// // // // // // // // // // // // // // //       const terms = insideNormalized.split('+').filter(term => term !== '');
      
// // // // // // // // // // // // // // //       // Multiply each term by the coefficient
// // // // // // // // // // // // // // //       const expandedTerms = terms.map(term => {
// // // // // // // // // // // // // // //         const termValue = parseFloat(term.replace(/[a-z]/g, '')) || 1;
// // // // // // // // // // // // // // //         const variable = term.match(/[a-z]/);
// // // // // // // // // // // // // // //         const result = coef * termValue;
        
// // // // // // // // // // // // // // //         if (variable) {
// // // // // // // // // // // // // // //           return result === 1 ? variable[0] : result === -1 ? `-${variable[0]}` : `${result}${variable[0]}`;
// // // // // // // // // // // // // // //         } else {
// // // // // // // // // // // // // // //           return result.toString();
// // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // //       });
      
// // // // // // // // // // // // // // //       // Join with proper signs
// // // // // // // // // // // // // // //       let result = expandedTerms[0];
// // // // // // // // // // // // // // //       for (let i = 1; i < expandedTerms.length; i++) {
// // // // // // // // // // // // // // //         const term = expandedTerms[i];
// // // // // // // // // // // // // // //         if (term.startsWith('-')) {
// // // // // // // // // // // // // // //           result += term;
// // // // // // // // // // // // // // //         } else {
// // // // // // // // // // // // // // //           result += '+' + term;
// // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // // //       return result;
// // // // // // // // // // // // // // //     });
// // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // //   const parseLinearEquation = (eq) => {
// // // // // // // // // // // // // // //     // Remove spaces and convert to lowercase
// // // // // // // // // // // // // // //     let cleanEq = eq.replace(/\s+/g, '').toLowerCase();
    
// // // // // // // // // // // // // // //     // Expand parentheses first
// // // // // // // // // // // // // // //     cleanEq = expandParentheses(cleanEq);
    
// // // // // // // // // // // // // // //     // Check if equation contains equals sign
// // // // // // // // // // // // // // //     if (!cleanEq.includes('=')) {
// // // // // // // // // // // // // // //       throw new Error('Equation must contain an equals sign (=)');
// // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // //     // Split by equals sign
// // // // // // // // // // // // // // //     const [leftSide, rightSide] = cleanEq.split('=');
    
// // // // // // // // // // // // // // //     if (!leftSide || !rightSide) {
// // // // // // // // // // // // // // //       throw new Error('Both sides of the equation must have content');
// // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // //     // Find the variable in the equation
// // // // // // // // // // // // // // //     const variableMatch = cleanEq.match(/[a-z]/);
// // // // // // // // // // // // // // //     if (!variableMatch) {
// // // // // // // // // // // // // // //       throw new Error('No variable found in the equation');
// // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // //     const variable = variableMatch[0];
    
// // // // // // // // // // // // // // //     // Parse each side to extract coefficient and constant
// // // // // // // // // // // // // // //     const parseExpression = (expr) => {
// // // // // // // // // // // // // // //       let coefficient = 0;
// // // // // // // // // // // // // // //       let constant = 0;
      
// // // // // // // // // // // // // // //       // Replace - with +- for easier splitting
// // // // // // // // // // // // // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // // // // // // // // // // // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // // // // // // // // // // // // //       for (let term of terms) {
// // // // // // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // // // // // //           // Extract coefficient of the variable
// // // // // // // // // // // // // // //           const pattern = `^([+-]?\\d*\\.?\\d*)${variable}$`;
// // // // // // // // // // // // // // //           const coefMatch = term.match(new RegExp(pattern));
// // // // // // // // // // // // // // //           if (coefMatch) {
// // // // // // // // // // // // // // //             let coef = coefMatch[1];
// // // // // // // // // // // // // // //             if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // // // // // // //             if (coef === '-') coef = '-1';
// // // // // // // // // // // // // // //             coefficient += parseFloat(coef);
// // // // // // // // // // // // // // //           } else {
// // // // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // // // //           }
// // // // // // // // // // // // // // //         } else {
// // // // // // // // // // // // // // //           // It's a constant term
// // // // // // // // // // // // // // //           const constMatch = term.match(/^([+-]?\d+\.?\d*)$/);
// // // // // // // // // // // // // // //           if (constMatch) {
// // // // // // // // // // // // // // //             constant += parseFloat(constMatch[1]);
// // // // // // // // // // // // // // //           } else {
// // // // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // // // //           }
// // // // // // // // // // // // // // //         }
// // // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // // //       return { coefficient, constant };
// // // // // // // // // // // // // // //     };
    
// // // // // // // // // // // // // // //     const left = parseExpression(leftSide);
// // // // // // // // // // // // // // //     const right = parseExpression(rightSide);
    
// // // // // // // // // // // // // // //     // Move everything to left side: ax + b = cx + d becomes (a-c)x + (b-d) = 0
// // // // // // // // // // // // // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // // // // // // // // // // // // //     const finalConstant = left.constant - right.constant;
    
// // // // // // // // // // // // // // //     return { 
// // // // // // // // // // // // // // //       coefficient: finalCoeff, 
// // // // // // // // // // // // // // //       constant: finalConstant, 
// // // // // // // // // // // // // // //       variable,
// // // // // // // // // // // // // // //       expandedEquation: cleanEq
// // // // // // // // // // // // // // //     };
// // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // //   const solveLinearEquation = (coefficient, constant, variable, originalEquation, leftSide, rightSide, expandedEquation) => {
// // // // // // // // // // // // // // //     const solutionSteps = [];
    
// // // // // // // // // // // // // // //     if (coefficient === 0) {
// // // // // // // // // // // // // // //       if (constant === 0) {
// // // // // // // // // // // // // // //         return { 
// // // // // // // // // // // // // // //           solution: 'infinitely many solutions', 
// // // // // // // // // // // // // // //           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
// // // // // // // // // // // // // // //         };
// // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // //         return { 
// // // // // // // // // // // // // // //           solution: 'no solution', 
// // // // // // // // // // // // // // //           steps: [originalEquation, `${constant} = 0`, 'This is never true, so there is no solution'] 
// // // // // // // // // // // // // // //         };
// // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // //     // Standard case: ax + b = 0, so x = -b/a
// // // // // // // // // // // // // // //     const result = -constant / coefficient;
    
// // // // // // // // // // // // // // //     solutionSteps.push(`Original equation: ${originalEquation}`);
    
// // // // // // // // // // // // // // //     // Show expansion step if parentheses were present
// // // // // // // // // // // // // // //     if (originalEquation !== expandedEquation) {
// // // // // // // // // // // // // // //       solutionSteps.push(`Expand parentheses: ${expandedEquation}`);
// // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // //     // Show the specific operations based on the original equation structure
// // // // // // // // // // // // // // //     const leftTerms = leftSide.match(/[+-]?[^+-]+/g) || [];
// // // // // // // // // // // // // // //     const rightTerms = rightSide.match(/[+-]?[^+-]+/g) || [];
    
// // // // // // // // // // // // // // //     // Find what needs to be moved
// // // // // // // // // // // // // // //     let variableTermsLeft = [];
// // // // // // // // // // // // // // //     let constantTermsLeft = [];
// // // // // // // // // // // // // // //     let variableTermsRight = [];
// // // // // // // // // // // // // // //     let constantTermsRight = [];
    
// // // // // // // // // // // // // // //     leftTerms.forEach(term => {
// // // // // // // // // // // // // // //       if (term.includes(variable)) {
// // // // // // // // // // // // // // //         variableTermsLeft.push(term);
// // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // //         constantTermsLeft.push(term);
// // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // //     });
    
// // // // // // // // // // // // // // //     rightTerms.forEach(term => {
// // // // // // // // // // // // // // //       if (term.includes(variable)) {
// // // // // // // // // // // // // // //         variableTermsRight.push(term);
// // // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // // //         constantTermsRight.push(term);
// // // // // // // // // // // // // // //       }
// // // // // // // // // // // // // // //     });
    
// // // // // // // // // // // // // // //     // Show moving constant terms from left to right
// // // // // // // // // // // // // // //     if (constantTermsLeft.length > 0) {
// // // // // // // // // // // // // // //       const termToMove = constantTermsLeft[0];
// // // // // // // // // // // // // // //       solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the right`);
// // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // //     // Show moving variable terms from right to left
// // // // // // // // // // // // // // //     if (variableTermsRight.length > 0) {
// // // // // // // // // // // // // // //       const termToMove = variableTermsRight[0];
// // // // // // // // // // // // // // //       solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
// // // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // // //     solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
// // // // // // // // // // // // // // //     solutionSteps.push(`Divide both sides by ${coefficient}: ${variable} = ${-constant}/${coefficient}`);
// // // // // // // // // // // // // // //     solutionSteps.push(`Solution: ${variable} = ${result}`);
    
// // // // // // // // // // // // // // //     return { solution: result, steps: solutionSteps };
// // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // //   const handleSolve = () => {
// // // // // // // // // // // // // // //     try {
// // // // // // // // // // // // // // //       setError('');
// // // // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // // // // //       setVariable('');
      
// // // // // // // // // // // // // // //       if (!equation.trim()) {
// // // // // // // // // // // // // // //         setError('Please enter an equation');
// // // // // // // // // // // // // // //         return;
// // // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // // //       const parsed = parseLinearEquation(equation);
// // // // // // // // // // // // // // //       const [leftSide, rightSide] = equation.split('=');
// // // // // // // // // // // // // // //       const result = solveLinearEquation(
// // // // // // // // // // // // // // //         parsed.coefficient, 
// // // // // // // // // // // // // // //         parsed.constant, 
// // // // // // // // // // // // // // //         parsed.variable, 
// // // // // // // // // // // // // // //         equation, 
// // // // // // // // // // // // // // //         leftSide.trim(), 
// // // // // // // // // // // // // // //         rightSide.trim(),
// // // // // // // // // // // // // // //         parsed.expandedEquation
// // // // // // // // // // // // // // //       );
      
// // // // // // // // // // // // // // //       setVariable(parsed.variable);
// // // // // // // // // // // // // // //       setSolution(result.solution);
// // // // // // // // // // // // // // //       setSteps(result.steps);
      
// // // // // // // // // // // // // // //     } catch (err) {
// // // // // // // // // // // // // // //       setError(err.message);
// // // // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // // // // //       setVariable('');
// // // // // // // // // // // // // // //     }
// // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // //   const handleClear = () => {
// // // // // // // // // // // // // // //     setEquation('');
// // // // // // // // // // // // // // //     setSolution(null);
// // // // // // // // // // // // // // //     setError('');
// // // // // // // // // // // // // // //     setSteps([]);
// // // // // // // // // // // // // // //     setVariable('');
// // // // // // // // // // // // // // //   };

// // // // // // // // // // // // // // //   return (
// // // // // // // // // // // // // // //     <div className={styles.container}>
// // // // // // // // // // // // // // //       <div className={styles.mainLayout}>
// // // // // // // // // // // // // // //         <div className={styles.leftPanel}>
// // // // // // // // // // // // // // //           <div className={styles.inputSection}>
// // // // // // // // // // // // // // //             <label className={styles.label}>
// // // // // // // // // // // // // // //               Enter your linear equation with any variable:
// // // // // // // // // // // // // // //             </label>
// // // // // // // // // // // // // // //             <input
// // // // // // // // // // // // // // //               type="text"
// // // // // // // // // // // // // // //               value={equation}
// // // // // // // // // // // // // // //               onChange={(e) => setEquation(e.target.value)}
// // // // // // // // // // // // // // //               placeholder="Enter equation like: 2x + 3 = 7 or 2(x + 3) = 10"
// // // // // // // // // // // // // // //               className={styles.input}
// // // // // // // // // // // // // // //               onKeyPress={(e) => e.key === 'Enter' && handleSolve()}
// // // // // // // // // // // // // // //             />
// // // // // // // // // // // // // // //             <div className={styles.buttonGroup}>
// // // // // // // // // // // // // // //               <button onClick={handleSolve} className={styles.solveButton}>
// // // // // // // // // // // // // // //                 Solve
// // // // // // // // // // // // // // //               </button>
// // // // // // // // // // // // // // //               <button onClick={handleClear} className={styles.clearButton}>
// // // // // // // // // // // // // // //                 Clear
// // // // // // // // // // // // // // //               </button>
// // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // //           </div>

// // // // // // // // // // // // // // //           {error && (
// // // // // // // // // // // // // // //             <div className={styles.error}>
// // // // // // // // // // // // // // //               <strong>Error:</strong> {error}
// // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // //           )}
// // // // // // // // // // // // // // //         </div>

// // // // // // // // // // // // // // //         <div className={styles.rightPanel}>
// // // // // // // // // // // // // // //           {solution !== null ? (
// // // // // // // // // // // // // // //             <div className={styles.solutionSection}>
// // // // // // // // // // // // // // //               <h2 className={styles.solutionTitle}>Solution</h2>
// // // // // // // // // // // // // // //               <div className={styles.solution}>
// // // // // // // // // // // // // // //                 {typeof solution === 'string' ? solution : `${variable} = ${solution}`}
// // // // // // // // // // // // // // //               </div>
              
// // // // // // // // // // // // // // //               {steps.length > 0 && (
// // // // // // // // // // // // // // //                 <div className={styles.stepsSection}>
// // // // // // // // // // // // // // //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // // // // // // // // // // // // //                   <ol className={styles.stepsList}>
// // // // // // // // // // // // // // //                     {steps.map((step, index) => (
// // // // // // // // // // // // // // //                       <li key={index} className={styles.step}>
// // // // // // // // // // // // // // //                         {step}
// // // // // // // // // // // // // // //                       </li>
// // // // // // // // // // // // // // //                     ))}
// // // // // // // // // // // // // // //                   </ol>
// // // // // // // // // // // // // // //                 </div>
// // // // // // // // // // // // // // //               )}
// // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // //           ) : (
// // // // // // // // // // // // // // //             <div className={styles.examples}>
// // // // // // // // // // // // // // //               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // // // // // // // // // // // // // //               <ul className={styles.examplesList}>
// // // // // // // // // // // // // // //                 <li>2x + 3 = 7</li>
// // // // // // // // // // // // // // //                 <li>3y - 5 = 2y + 1</li>
// // // // // // // // // // // // // // //                 <li>5a = 15</li>
// // // // // // // // // // // // // // //                 <li>2(x + 3) = 10</li>
// // // // // // // // // // // // // // //                 <li>-3(2y - 1) = 9</li>
// // // // // // // // // // // // // // //                 <li>4(z - 2) = 2z + 8</li>
// // // // // // // // // // // // // // //                 <li>0.5m + 2.5 = 1.5m - 1</li>
// // // // // // // // // // // // // // //               </ul>
// // // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // // //           )}
// // // // // // // // // // // // // // //         </div>
// // // // // // // // // // // // // // //       </div>
// // // // // // // // // // // // // // //     </div>
// // // // // // // // // // // // // // //   );
// // // // // // // // // // // // // // // };

// // // // // // // // // // // // // // // export default LinearEquationSolver;


// // // // // // // // // // // // // // // components/LinearEquationSolver.js
// // // // // // // // // // // // // // import { useState } from 'react';
// // // // // // // // // // // // // // import styles from './LinearEquationSolver.module.css';

// // // // // // // // // // // // // // const LinearEquationSolver = () => {
// // // // // // // // // // // // // //   const [equation, setEquation] = useState('');
// // // // // // // // // // // // // //   const [solution, setSolution] = useState(null);
// // // // // // // // // // // // // //   const [error, setError] = useState('');
// // // // // // // // // // // // // //   const [steps, setSteps] = useState([]);
// // // // // // // // // // // // // //   const [variable, setVariable] = useState('');

// // // // // // // // // // // // // //   const expandParentheses = (equation) => {
// // // // // // // // // // // // // //     // Handle patterns like 2(x+3), -3(2x-1), etc.
// // // // // // // // // // // // // //     const parenthesesPattern = /([+-]?\d*\.?\d*)\(([^)]+)\)/g;
    
// // // // // // // // // // // // // //     return equation.replace(parenthesesPattern, (match, coefficient, inside) => {
// // // // // // // // // // // // // //       // Default coefficient is 1 if empty or just a sign
// // // // // // // // // // // // // //       if (coefficient === '' || coefficient === '+') coefficient = '1';
// // // // // // // // // // // // // //       if (coefficient === '-') coefficient = '-1';
      
// // // // // // // // // // // // // //       const coef = parseFloat(coefficient);
      
// // // // // // // // // // // // // //       // Split inside parentheses into terms
// // // // // // // // // // // // // //       const insideNormalized = inside.replace(/(?<!^)-/g, '+-');
// // // // // // // // // // // // // //       const terms = insideNormalized.split('+').filter(term => term !== '');
      
// // // // // // // // // // // // // //       // Multiply each term by the coefficient
// // // // // // // // // // // // // //       const expandedTerms = terms.map(term => {
// // // // // // // // // // // // // //         const termValue = parseFloat(term.replace(/[a-z]/g, '')) || 1;
// // // // // // // // // // // // // //         const variable = term.match(/[a-z]/);
// // // // // // // // // // // // // //         const result = coef * termValue;
        
// // // // // // // // // // // // // //         if (variable) {
// // // // // // // // // // // // // //           return result === 1 ? variable[0] : result === -1 ? `-${variable[0]}` : `${result}${variable[0]}`;
// // // // // // // // // // // // // //         } else {
// // // // // // // // // // // // // //           return result.toString();
// // // // // // // // // // // // // //         }
// // // // // // // // // // // // // //       });
      
// // // // // // // // // // // // // //       // Join with proper signs
// // // // // // // // // // // // // //       let result = expandedTerms[0];
// // // // // // // // // // // // // //       for (let i = 1; i < expandedTerms.length; i++) {
// // // // // // // // // // // // // //         const term = expandedTerms[i];
// // // // // // // // // // // // // //         if (term.startsWith('-')) {
// // // // // // // // // // // // // //           result += term;
// // // // // // // // // // // // // //         } else {
// // // // // // // // // // // // // //           result += '+' + term;
// // // // // // // // // // // // // //         }
// // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // //       return result;
// // // // // // // // // // // // // //     });
// // // // // // // // // // // // // //   };

// // // // // // // // // // // // // //   const parseLinearEquation = (eq) => {
// // // // // // // // // // // // // //     // Remove spaces and convert to lowercase
// // // // // // // // // // // // // //     let cleanEq = eq.replace(/\s+/g, '').toLowerCase();
    
// // // // // // // // // // // // // //     // Expand parentheses first
// // // // // // // // // // // // // //     cleanEq = expandParentheses(cleanEq);
    
// // // // // // // // // // // // // //     // Check if equation contains equals sign
// // // // // // // // // // // // // //     if (!cleanEq.includes('=')) {
// // // // // // // // // // // // // //       throw new Error('Equation must contain an equals sign (=)');
// // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // //     // Split by equals sign
// // // // // // // // // // // // // //     const [leftSide, rightSide] = cleanEq.split('=');
    
// // // // // // // // // // // // // //     if (!leftSide || !rightSide) {
// // // // // // // // // // // // // //       throw new Error('Both sides of the equation must have content');
// // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // //     // Find the variable in the equation
// // // // // // // // // // // // // //     const variableMatch = cleanEq.match(/[a-z]/);
// // // // // // // // // // // // // //     if (!variableMatch) {
// // // // // // // // // // // // // //       throw new Error('No variable found in the equation');
// // // // // // // // // // // // // //     }
// // // // // // // // // // // // // //     const variable = variableMatch[0];
    
// // // // // // // // // // // // // //     // Parse each side to extract coefficient and constant
// // // // // // // // // // // // // //     const parseExpression = (expr) => {
// // // // // // // // // // // // // //       let coefficient = 0;
// // // // // // // // // // // // // //       let constant = 0;
      
// // // // // // // // // // // // // //       // Replace - with +- for easier splitting
// // // // // // // // // // // // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // // // // // // // // // // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // // // // // // // // // // // //       for (let term of terms) {
// // // // // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // // // // //           // Extract coefficient of the variable
// // // // // // // // // // // // // //           const pattern = `^([+-]?\\d*\\.?\\d*)${variable}$`;
// // // // // // // // // // // // // //           const coefMatch = term.match(new RegExp(pattern));
// // // // // // // // // // // // // //           if (coefMatch) {
// // // // // // // // // // // // // //             let coef = coefMatch[1];
// // // // // // // // // // // // // //             if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // // // // // //             if (coef === '-') coef = '-1';
// // // // // // // // // // // // // //             coefficient += parseFloat(coef);
// // // // // // // // // // // // // //           } else {
// // // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // // //           }
// // // // // // // // // // // // // //         } else {
// // // // // // // // // // // // // //           // It's a constant term
// // // // // // // // // // // // // //           const constMatch = term.match(/^([+-]?\d+\.?\d*)$/);
// // // // // // // // // // // // // //           if (constMatch) {
// // // // // // // // // // // // // //             constant += parseFloat(constMatch[1]);
// // // // // // // // // // // // // //           } else {
// // // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // // //           }
// // // // // // // // // // // // // //         }
// // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // //       return { coefficient, constant };
// // // // // // // // // // // // // //     };
    
// // // // // // // // // // // // // //     const left = parseExpression(leftSide);
// // // // // // // // // // // // // //     const right = parseExpression(rightSide);
    
// // // // // // // // // // // // // //     // Move everything to left side: ax + b = cx + d becomes (a-c)x + (b-d) = 0
// // // // // // // // // // // // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // // // // // // // // // // // //     const finalConstant = left.constant - right.constant;
    
// // // // // // // // // // // // // //     return { 
// // // // // // // // // // // // // //       coefficient: finalCoeff, 
// // // // // // // // // // // // // //       constant: finalConstant, 
// // // // // // // // // // // // // //       variable,
// // // // // // // // // // // // // //       expandedEquation: cleanEq
// // // // // // // // // // // // // //     };
// // // // // // // // // // // // // //   };

// // // // // // // // // // // // // //   const solveLinearEquation = (coefficient, constant, variable, originalEquation, leftSide, rightSide, expandedEquation) => {
// // // // // // // // // // // // // //     const solutionSteps = [];
    
// // // // // // // // // // // // // //     if (coefficient === 0) {
// // // // // // // // // // // // // //       if (constant === 0) {
// // // // // // // // // // // // // //         return { 
// // // // // // // // // // // // // //           solution: 'infinitely many solutions', 
// // // // // // // // // // // // // //           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
// // // // // // // // // // // // // //         };
// // // // // // // // // // // // // //       } else {
// // // // // // // // // // // // // //         return { 
// // // // // // // // // // // // // //           solution: 'no solution', 
// // // // // // // // // // // // // //           steps: [originalEquation, `${constant} = 0`, 'This is never true, so there is no solution'] 
// // // // // // // // // // // // // //         };
// // // // // // // // // // // // // //       }
// // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // //     // Standard case: ax + b = 0, so x = -b/a
// // // // // // // // // // // // // //     const result = -constant / coefficient;
    
// // // // // // // // // // // // // //     solutionSteps.push(`Original equation: ${originalEquation}`);
    
// // // // // // // // // // // // // //     // Check if parentheses were present
// // // // // // // // // // // // // //     const hasParentheses = originalEquation.includes('(');
    
// // // // // // // // // // // // // //     if (hasParentheses) {
// // // // // // // // // // // // // //       // Show expansion step
// // // // // // // // // // // // // //       solutionSteps.push(`Expand parentheses: ${expandedEquation}`);
      
// // // // // // // // // // // // // //       // Parse the expanded equation to show proper steps
// // // // // // // // // // // // // //       const [expandedLeft, expandedRight] = expandedEquation.split('=');
// // // // // // // // // // // // // //       const expandedLeftTerms = expandedLeft.match(/[+-]?[^+-]+/g) || [];
// // // // // // // // // // // // // //       const expandedRightTerms = expandedRight.match(/[+-]?[^+-]+/g) || [];
      
// // // // // // // // // // // // // //       // Show moving terms from expanded equation
// // // // // // // // // // // // // //       let variableTermsLeft = [];
// // // // // // // // // // // // // //       let constantTermsLeft = [];
// // // // // // // // // // // // // //       let variableTermsRight = [];
// // // // // // // // // // // // // //       let constantTermsRight = [];
      
// // // // // // // // // // // // // //       expandedLeftTerms.forEach(term => {
// // // // // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // // // // //           variableTermsLeft.push(term);
// // // // // // // // // // // // // //         } else {
// // // // // // // // // // // // // //           constantTermsLeft.push(term);
// // // // // // // // // // // // // //         }
// // // // // // // // // // // // // //       });
      
// // // // // // // // // // // // // //       expandedRightTerms.forEach(term => {
// // // // // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // // // // //           variableTermsRight.push(term);
// // // // // // // // // // // // // //         } else {
// // // // // // // // // // // // // //           constantTermsRight.push(term);
// // // // // // // // // // // // // //         }
// // // // // // // // // // // // // //       });
      
// // // // // // // // // // // // // //       // Show moving constant terms from left to right
// // // // // // // // // // // // // //       if (constantTermsLeft.length > 0) {
// // // // // // // // // // // // // //         const termToMove = constantTermsLeft[0];
// // // // // // // // // // // // // //         const movedValue = termToMove.startsWith('-') ? termToMove.substring(1) : '-' + termToMove;
// // // // // // // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides: ${variableTermsLeft.join('')} = ${expandedRight}${movedValue}`);
// // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // //       // Show moving variable terms from right to left
// // // // // // // // // // // // // //       if (variableTermsRight.length > 0) {
// // // // // // // // // // // // // //         const termToMove = variableTermsRight[0];
// // // // // // // // // // // // // //         const movedValue = termToMove.startsWith('-') ? termToMove.substring(1) : '-' + termToMove;
// // // // // // // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
// // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // //       solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
      
// // // // // // // // // // // // // //     } else {
// // // // // // // // // // // // // //       // No parentheses - original logic
// // // // // // // // // // // // // //       const leftTerms = leftSide.match(/[+-]?[^+-]+/g) || [];
// // // // // // // // // // // // // //       const rightTerms = rightSide.match(/[+-]?[^+-]+/g) || [];
      
// // // // // // // // // // // // // //       // Find what needs to be moved
// // // // // // // // // // // // // //       let variableTermsLeft = [];
// // // // // // // // // // // // // //       let constantTermsLeft = [];
// // // // // // // // // // // // // //       let variableTermsRight = [];
// // // // // // // // // // // // // //       let constantTermsRight = [];
      
// // // // // // // // // // // // // //       leftTerms.forEach(term => {
// // // // // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // // // // //           variableTermsLeft.push(term);
// // // // // // // // // // // // // //         } else {
// // // // // // // // // // // // // //           constantTermsLeft.push(term);
// // // // // // // // // // // // // //         }
// // // // // // // // // // // // // //       });
      
// // // // // // // // // // // // // //       rightTerms.forEach(term => {
// // // // // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // // // // //           variableTermsRight.push(term);
// // // // // // // // // // // // // //         } else {
// // // // // // // // // // // // // //           constantTermsRight.push(term);
// // // // // // // // // // // // // //         }
// // // // // // // // // // // // // //       });
      
// // // // // // // // // // // // // //       // Show moving constant terms from left to right
// // // // // // // // // // // // // //       if (constantTermsLeft.length > 0) {
// // // // // // // // // // // // // //         const termToMove = constantTermsLeft[0];
// // // // // // // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the right`);
// // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // //       // Show moving variable terms from right to left
// // // // // // // // // // // // // //       if (variableTermsRight.length > 0) {
// // // // // // // // // // // // // //         const termToMove = variableTermsRight[0];
// // // // // // // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
// // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // //       solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
// // // // // // // // // // // // // //     }
    
// // // // // // // // // // // // // //     solutionSteps.push(`Divide both sides by ${coefficient}: ${variable} = ${-constant}/${coefficient}`);
// // // // // // // // // // // // // //     solutionSteps.push(`Solution: ${variable} = ${result}`);
    
// // // // // // // // // // // // // //     return { solution: result, steps: solutionSteps };
// // // // // // // // // // // // // //   };

// // // // // // // // // // // // // //   const handleSolve = () => {
// // // // // // // // // // // // // //     try {
// // // // // // // // // // // // // //       setError('');
// // // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // // // //       setVariable('');
      
// // // // // // // // // // // // // //       if (!equation.trim()) {
// // // // // // // // // // // // // //         setError('Please enter an equation');
// // // // // // // // // // // // // //         return;
// // // // // // // // // // // // // //       }
      
// // // // // // // // // // // // // //       const parsed = parseLinearEquation(equation);
// // // // // // // // // // // // // //       const [leftSide, rightSide] = equation.split('=');
// // // // // // // // // // // // // //       const result = solveLinearEquation(
// // // // // // // // // // // // // //         parsed.coefficient, 
// // // // // // // // // // // // // //         parsed.constant, 
// // // // // // // // // // // // // //         parsed.variable, 
// // // // // // // // // // // // // //         equation, 
// // // // // // // // // // // // // //         leftSide.trim(), 
// // // // // // // // // // // // // //         rightSide.trim(),
// // // // // // // // // // // // // //         parsed.expandedEquation
// // // // // // // // // // // // // //       );
      
// // // // // // // // // // // // // //       setVariable(parsed.variable);
// // // // // // // // // // // // // //       setSolution(result.solution);
// // // // // // // // // // // // // //       setSteps(result.steps);
      
// // // // // // // // // // // // // //     } catch (err) {
// // // // // // // // // // // // // //       setError(err.message);
// // // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // // // //       setVariable('');
// // // // // // // // // // // // // //     }
// // // // // // // // // // // // // //   };

// // // // // // // // // // // // // //   const handleClear = () => {
// // // // // // // // // // // // // //     setEquation('');
// // // // // // // // // // // // // //     setSolution(null);
// // // // // // // // // // // // // //     setError('');
// // // // // // // // // // // // // //     setSteps([]);
// // // // // // // // // // // // // //     setVariable('');
// // // // // // // // // // // // // //   };

// // // // // // // // // // // // // //   return (
// // // // // // // // // // // // // //     <div className={styles.container}>
// // // // // // // // // // // // // //       <div className={styles.mainLayout}>
// // // // // // // // // // // // // //         <div className={styles.leftPanel}>
// // // // // // // // // // // // // //           <div className={styles.inputSection}>
// // // // // // // // // // // // // //             <label className={styles.label}>
// // // // // // // // // // // // // //               Enter your linear equation with any variable:
// // // // // // // // // // // // // //             </label>
// // // // // // // // // // // // // //             <input
// // // // // // // // // // // // // //               type="text"
// // // // // // // // // // // // // //               value={equation}
// // // // // // // // // // // // // //               onChange={(e) => setEquation(e.target.value)}
// // // // // // // // // // // // // //               placeholder="Enter equation like: 2x + 3 = 7 or 2(x + 3) = 10"
// // // // // // // // // // // // // //               className={styles.input}
// // // // // // // // // // // // // //               onKeyPress={(e) => e.key === 'Enter' && handleSolve()}
// // // // // // // // // // // // // //             />
// // // // // // // // // // // // // //             <div className={styles.buttonGroup}>
// // // // // // // // // // // // // //               <button onClick={handleSolve} className={styles.solveButton}>
// // // // // // // // // // // // // //                 Solve
// // // // // // // // // // // // // //               </button>
// // // // // // // // // // // // // //               <button onClick={handleClear} className={styles.clearButton}>
// // // // // // // // // // // // // //                 Clear
// // // // // // // // // // // // // //               </button>
// // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // //           </div>

// // // // // // // // // // // // // //           {error && (
// // // // // // // // // // // // // //             <div className={styles.error}>
// // // // // // // // // // // // // //               <strong>Error:</strong> {error}
// // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // //           )}
// // // // // // // // // // // // // //         </div>

// // // // // // // // // // // // // //         <div className={styles.rightPanel}>
// // // // // // // // // // // // // //           {solution !== null ? (
// // // // // // // // // // // // // //             <div className={styles.solutionSection}>
// // // // // // // // // // // // // //               <h2 className={styles.solutionTitle}>Solution</h2>
// // // // // // // // // // // // // //               <div className={styles.solution}>
// // // // // // // // // // // // // //                 {typeof solution === 'string' ? solution : `${variable} = ${solution}`}
// // // // // // // // // // // // // //               </div>
              
// // // // // // // // // // // // // //               {steps.length > 0 && (
// // // // // // // // // // // // // //                 <div className={styles.stepsSection}>
// // // // // // // // // // // // // //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // // // // // // // // // // // //                   <ol className={styles.stepsList}>
// // // // // // // // // // // // // //                     {steps.map((step, index) => (
// // // // // // // // // // // // // //                       <li key={index} className={styles.step}>
// // // // // // // // // // // // // //                         {step}
// // // // // // // // // // // // // //                       </li>
// // // // // // // // // // // // // //                     ))}
// // // // // // // // // // // // // //                   </ol>
// // // // // // // // // // // // // //                 </div>
// // // // // // // // // // // // // //               )}
// // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // //           ) : (
// // // // // // // // // // // // // //             <div className={styles.examples}>
// // // // // // // // // // // // // //               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // // // // // // // // // // // // //               <ul className={styles.examplesList}>
// // // // // // // // // // // // // //                 <li>2x + 3 = 7</li>
// // // // // // // // // // // // // //                 <li>3y - 5 = 2y + 1</li>
// // // // // // // // // // // // // //                 <li>5a = 15</li>
// // // // // // // // // // // // // //                 <li>2(x + 3) = 10</li>
// // // // // // // // // // // // // //                 <li>-3(2y - 1) = 9</li>
// // // // // // // // // // // // // //                 <li>4(z - 2) = 2z + 8</li>
// // // // // // // // // // // // // //                 <li>0.5m + 2.5 = 1.5m - 1</li>
// // // // // // // // // // // // // //               </ul>
// // // // // // // // // // // // // //             </div>
// // // // // // // // // // // // // //           )}
// // // // // // // // // // // // // //         </div>
// // // // // // // // // // // // // //       </div>
// // // // // // // // // // // // // //     </div>
// // // // // // // // // // // // // //   );
// // // // // // // // // // // // // // };

// // // // // // // // // // // // // // export default LinearEquationSolver;



// // // // // // // // // // // // // // components/LinearEquationSolver.js
// // // // // // // // // // // // // import { useState } from 'react';
// // // // // // // // // // // // // import styles from './LinearEquationSolver.module.css';

// // // // // // // // // // // // // const LinearEquationSolver = () => {
// // // // // // // // // // // // //   const [equation, setEquation] = useState('');
// // // // // // // // // // // // //   const [solution, setSolution] = useState(null);
// // // // // // // // // // // // //   const [error, setError] = useState('');
// // // // // // // // // // // // //   const [steps, setSteps] = useState([]);
// // // // // // // // // // // // //   const [variable, setVariable] = useState('');

// // // // // // // // // // // // //   const expandParentheses = (equation) => {
// // // // // // // // // // // // //     // Handle patterns like 2(x+3), -3(2x-1), etc.
// // // // // // // // // // // // //     const parenthesesPattern = /([+-]?\d*\.?\d*)\(([^)]+)\)/g;
    
// // // // // // // // // // // // //     return equation.replace(parenthesesPattern, (match, coefficient, inside) => {
// // // // // // // // // // // // //       // Default coefficient is 1 if empty or just a sign
// // // // // // // // // // // // //       if (coefficient === '' || coefficient === '+') coefficient = '1';
// // // // // // // // // // // // //       if (coefficient === '-') coefficient = '-1';
      
// // // // // // // // // // // // //       const coef = parseFloat(coefficient);
      
// // // // // // // // // // // // //       // Split inside parentheses into terms
// // // // // // // // // // // // //       const insideNormalized = inside.replace(/(?<!^)-/g, '+-');
// // // // // // // // // // // // //       const terms = insideNormalized.split('+').filter(term => term !== '');
      
// // // // // // // // // // // // //       // Multiply each term by the coefficient
// // // // // // // // // // // // //       const expandedTerms = terms.map(term => {
// // // // // // // // // // // // //         const termValue = parseFloat(term.replace(/[a-z]/g, '')) || 1;
// // // // // // // // // // // // //         const variable = term.match(/[a-z]/);
// // // // // // // // // // // // //         const result = coef * termValue;
        
// // // // // // // // // // // // //         if (variable) {
// // // // // // // // // // // // //           return result === 1 ? variable[0] : result === -1 ? `-${variable[0]}` : `${result}${variable[0]}`;
// // // // // // // // // // // // //         } else {
// // // // // // // // // // // // //           return result.toString();
// // // // // // // // // // // // //         }
// // // // // // // // // // // // //       });
      
// // // // // // // // // // // // //       // Join with proper signs
// // // // // // // // // // // // //       let result = expandedTerms[0];
// // // // // // // // // // // // //       for (let i = 1; i < expandedTerms.length; i++) {
// // // // // // // // // // // // //         const term = expandedTerms[i];
// // // // // // // // // // // // //         if (term.startsWith('-')) {
// // // // // // // // // // // // //           result += term;
// // // // // // // // // // // // //         } else {
// // // // // // // // // // // // //           result += '+' + term;
// // // // // // // // // // // // //         }
// // // // // // // // // // // // //       }
      
// // // // // // // // // // // // //       return result;
// // // // // // // // // // // // //     });
// // // // // // // // // // // // //   };

// // // // // // // // // // // // //   const parseLinearEquation = (eq) => {
// // // // // // // // // // // // //     // Remove spaces and convert to lowercase
// // // // // // // // // // // // //     let cleanEq = eq.replace(/\s+/g, '').toLowerCase();
    
// // // // // // // // // // // // //     // Expand parentheses first
// // // // // // // // // // // // //     cleanEq = expandParentheses(cleanEq);
    
// // // // // // // // // // // // //     // Check if equation contains equals sign
// // // // // // // // // // // // //     if (!cleanEq.includes('=')) {
// // // // // // // // // // // // //       throw new Error('Equation must contain an equals sign (=)');
// // // // // // // // // // // // //     }
    
// // // // // // // // // // // // //     // Split by equals sign
// // // // // // // // // // // // //     const [leftSide, rightSide] = cleanEq.split('=');
    
// // // // // // // // // // // // //     if (!leftSide || !rightSide) {
// // // // // // // // // // // // //       throw new Error('Both sides of the equation must have content');
// // // // // // // // // // // // //     }
    
// // // // // // // // // // // // //     // Find the variable in the equation
// // // // // // // // // // // // //     const variableMatch = cleanEq.match(/[a-z]/);
// // // // // // // // // // // // //     if (!variableMatch) {
// // // // // // // // // // // // //       throw new Error('No variable found in the equation');
// // // // // // // // // // // // //     }
// // // // // // // // // // // // //     const variable = variableMatch[0];
    
// // // // // // // // // // // // //     // Parse each side to extract coefficient and constant
// // // // // // // // // // // // //     const parseExpression = (expr) => {
// // // // // // // // // // // // //       let coefficient = 0;
// // // // // // // // // // // // //       let constant = 0;
      
// // // // // // // // // // // // //       // Replace - with +- for easier splitting
// // // // // // // // // // // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // // // // // // // // // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // // // // // // // // // // //       for (let term of terms) {
// // // // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // // // //           // Extract coefficient of the variable
// // // // // // // // // // // // //           const pattern = `^([+-]?\\d*\\.?\\d*)${variable}$`;
// // // // // // // // // // // // //           const coefMatch = term.match(new RegExp(pattern));
// // // // // // // // // // // // //           if (coefMatch) {
// // // // // // // // // // // // //             let coef = coefMatch[1];
// // // // // // // // // // // // //             if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // // // // //             if (coef === '-') coef = '-1';
// // // // // // // // // // // // //             coefficient += parseFloat(coef);
// // // // // // // // // // // // //           } else {
// // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // //           }
// // // // // // // // // // // // //         } else {
// // // // // // // // // // // // //           // It's a constant term
// // // // // // // // // // // // //           const constMatch = term.match(/^([+-]?\d+\.?\d*)$/);
// // // // // // // // // // // // //           if (constMatch) {
// // // // // // // // // // // // //             constant += parseFloat(constMatch[1]);
// // // // // // // // // // // // //           } else {
// // // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // // //           }
// // // // // // // // // // // // //         }
// // // // // // // // // // // // //       }
      
// // // // // // // // // // // // //       return { coefficient, constant };
// // // // // // // // // // // // //     };
    
// // // // // // // // // // // // //     const left = parseExpression(leftSide);
// // // // // // // // // // // // //     const right = parseExpression(rightSide);
    
// // // // // // // // // // // // //     // Move everything to left side: ax + b = cx + d becomes (a-c)x + (b-d) = 0
// // // // // // // // // // // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // // // // // // // // // // //     const finalConstant = left.constant - right.constant;
    
// // // // // // // // // // // // //     return { 
// // // // // // // // // // // // //       coefficient: finalCoeff, 
// // // // // // // // // // // // //       constant: finalConstant, 
// // // // // // // // // // // // //       variable,
// // // // // // // // // // // // //       expandedEquation: cleanEq
// // // // // // // // // // // // //     };
// // // // // // // // // // // // //   };

// // // // // // // // // // // // //   const solveLinearEquation = (coefficient, constant, variable, originalEquation, leftSide, rightSide, expandedEquation) => {
// // // // // // // // // // // // //     const solutionSteps = [];
    
// // // // // // // // // // // // //     if (coefficient === 0) {
// // // // // // // // // // // // //       if (constant === 0) {
// // // // // // // // // // // // //         return { 
// // // // // // // // // // // // //           solution: 'infinitely many solutions', 
// // // // // // // // // // // // //           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
// // // // // // // // // // // // //         };
// // // // // // // // // // // // //       } else {
// // // // // // // // // // // // //         return { 
// // // // // // // // // // // // //           solution: 'no solution', 
// // // // // // // // // // // // //           steps: [originalEquation, `${constant} = 0`, 'This is never true, so there is no solution'] 
// // // // // // // // // // // // //         };
// // // // // // // // // // // // //       }
// // // // // // // // // // // // //     }
    
// // // // // // // // // // // // //     // Standard case: ax + b = 0, so x = -b/a
// // // // // // // // // // // // //     const result = -constant / coefficient;
    
// // // // // // // // // // // // //     solutionSteps.push(`Original equation: ${originalEquation}`);
    
// // // // // // // // // // // // //     // Check if parentheses were present
// // // // // // // // // // // // //     const hasParentheses = originalEquation.includes('(');
    
// // // // // // // // // // // // //     if (hasParentheses) {
// // // // // // // // // // // // //       // Find the coefficient before parentheses and show the multiplication
// // // // // // // // // // // // //       const parenthesesMatch = originalEquation.match(/([+-]?\d*\.?\d*)\(([^)]+)\)/);
// // // // // // // // // // // // //       if (parenthesesMatch) {
// // // // // // // // // // // // //         let coef = parenthesesMatch[1];
// // // // // // // // // // // // //         if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // // // // //         if (coef === '-') coef = '-1';
// // // // // // // // // // // // //         const insideTerms = parenthesesMatch[2];
        
// // // // // // // // // // // // //         solutionSteps.push(`Expand parentheses using distributive property: ${coef}(${insideTerms}) = ${expandedEquation}`);
// // // // // // // // // // // // //       } else {
// // // // // // // // // // // // //         solutionSteps.push(`Expand parentheses: ${expandedEquation}`);
// // // // // // // // // // // // //       }
      
// // // // // // // // // // // // //       // Parse the expanded equation to show proper steps
// // // // // // // // // // // // //       const [expandedLeft, expandedRight] = expandedEquation.split('=');
// // // // // // // // // // // // //       const expandedLeftTerms = expandedLeft.match(/[+-]?[^+-]+/g) || [];
      
// // // // // // // // // // // // //       // Show moving terms from expanded equation
// // // // // // // // // // // // //       let constantTermsLeft = [];
      
// // // // // // // // // // // // //       expandedLeftTerms.forEach(term => {
// // // // // // // // // // // // //         if (!term.includes(variable)) {
// // // // // // // // // // // // //           constantTermsLeft.push(term);
// // // // // // // // // // // // //         }
// // // // // // // // // // // // //       });
      
// // // // // // // // // // // // //       // Show moving constant terms from left to right
// // // // // // // // // // // // //       if (constantTermsLeft.length > 0) {
// // // // // // // // // // // // //         const termToMove = constantTermsLeft[0];
// // // // // // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides: ${coefficient}${variable} = ${-constant}`);
// // // // // // // // // // // // //       }
      
// // // // // // // // // // // // //     } else {
// // // // // // // // // // // // //       // No parentheses - original logic
// // // // // // // // // // // // //       const leftTerms = leftSide.match(/[+-]?[^+-]+/g) || [];
// // // // // // // // // // // // //       const rightTerms = rightSide.match(/[+-]?[^+-]+/g) || [];
      
// // // // // // // // // // // // //       // Find what needs to be moved
// // // // // // // // // // // // //       let variableTermsLeft = [];
// // // // // // // // // // // // //       let constantTermsLeft = [];
// // // // // // // // // // // // //       let variableTermsRight = [];
      
// // // // // // // // // // // // //       leftTerms.forEach(term => {
// // // // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // // // //           variableTermsLeft.push(term);
// // // // // // // // // // // // //         } else {
// // // // // // // // // // // // //           constantTermsLeft.push(term);
// // // // // // // // // // // // //         }
// // // // // // // // // // // // //       });
      
// // // // // // // // // // // // //       rightTerms.forEach(term => {
// // // // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // // // //           variableTermsRight.push(term);
// // // // // // // // // // // // //         } else {
// // // // // // // // // // // // //           // constantTermsRight.push(term);
// // // // // // // // // // // // //         }
// // // // // // // // // // // // //       });
      
// // // // // // // // // // // // //       // Show moving constant terms from left to right
// // // // // // // // // // // // //       if (constantTermsLeft.length > 0) {
// // // // // // // // // // // // //         const termToMove = constantTermsLeft[0];
// // // // // // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the right`);
// // // // // // // // // // // // //       }
      
// // // // // // // // // // // // //       // Show moving variable terms from right to left
// // // // // // // // // // // // //       if (variableTermsRight.length > 0) {
// // // // // // // // // // // // //         const termToMove = variableTermsRight[0];
// // // // // // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
// // // // // // // // // // // // //       }
      
// // // // // // // // // // // // //       solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
// // // // // // // // // // // // //     }
    
// // // // // // // // // // // // //     solutionSteps.push(`Divide both sides by ${coefficient}: ${variable} = ${-constant}/${coefficient}`);
// // // // // // // // // // // // //     solutionSteps.push(`Solution: ${variable} = ${result}`);
    
// // // // // // // // // // // // //     return { solution: result, steps: solutionSteps };
// // // // // // // // // // // // //   };

// // // // // // // // // // // // //   const handleSolve = () => {
// // // // // // // // // // // // //     try {
// // // // // // // // // // // // //       setError('');
// // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // // //       setVariable('');
      
// // // // // // // // // // // // //       if (!equation.trim()) {
// // // // // // // // // // // // //         setError('Please enter an equation');
// // // // // // // // // // // // //         return;
// // // // // // // // // // // // //       }
      
// // // // // // // // // // // // //       const parsed = parseLinearEquation(equation);
// // // // // // // // // // // // //       const [leftSide, rightSide] = equation.split('=');
// // // // // // // // // // // // //       const result = solveLinearEquation(
// // // // // // // // // // // // //         parsed.coefficient, 
// // // // // // // // // // // // //         parsed.constant, 
// // // // // // // // // // // // //         parsed.variable, 
// // // // // // // // // // // // //         equation, 
// // // // // // // // // // // // //         leftSide.trim(), 
// // // // // // // // // // // // //         rightSide.trim(),
// // // // // // // // // // // // //         parsed.expandedEquation
// // // // // // // // // // // // //       );
      
// // // // // // // // // // // // //       setVariable(parsed.variable);
// // // // // // // // // // // // //       setSolution(result.solution);
// // // // // // // // // // // // //       setSteps(result.steps);
      
// // // // // // // // // // // // //     } catch (err) {
// // // // // // // // // // // // //       setError(err.message);
// // // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // // //       setVariable('');
// // // // // // // // // // // // //     }
// // // // // // // // // // // // //   };

// // // // // // // // // // // // //   const handleClear = () => {
// // // // // // // // // // // // //     setEquation('');
// // // // // // // // // // // // //     setSolution(null);
// // // // // // // // // // // // //     setError('');
// // // // // // // // // // // // //     setSteps([]);
// // // // // // // // // // // // //     setVariable('');
// // // // // // // // // // // // //   };

// // // // // // // // // // // // //   return (
// // // // // // // // // // // // //     <div className={styles.container}>
// // // // // // // // // // // // //       <div className={styles.mainLayout}>
// // // // // // // // // // // // //         <div className={styles.leftPanel}>
// // // // // // // // // // // // //           <div className={styles.inputSection}>
// // // // // // // // // // // // //             <label className={styles.label}>
// // // // // // // // // // // // //               Enter your linear equation with any variable:
// // // // // // // // // // // // //             </label>
// // // // // // // // // // // // //             <input
// // // // // // // // // // // // //               type="text"
// // // // // // // // // // // // //               value={equation}
// // // // // // // // // // // // //               onChange={(e) => setEquation(e.target.value)}
// // // // // // // // // // // // //               placeholder="Enter equation like: 2x + 3 = 7 or 2(x + 3) = 10"
// // // // // // // // // // // // //               className={styles.input}
// // // // // // // // // // // // //               onKeyPress={(e) => e.key === 'Enter' && handleSolve()}
// // // // // // // // // // // // //             />
// // // // // // // // // // // // //             <div className={styles.buttonGroup}>
// // // // // // // // // // // // //               <button onClick={handleSolve} className={styles.solveButton}>
// // // // // // // // // // // // //                 Solve
// // // // // // // // // // // // //               </button>
// // // // // // // // // // // // //               <button onClick={handleClear} className={styles.clearButton}>
// // // // // // // // // // // // //                 Clear
// // // // // // // // // // // // //               </button>
// // // // // // // // // // // // //             </div>
// // // // // // // // // // // // //           </div>

// // // // // // // // // // // // //           {error && (
// // // // // // // // // // // // //             <div className={styles.error}>
// // // // // // // // // // // // //               <strong>Error:</strong> {error}
// // // // // // // // // // // // //             </div>
// // // // // // // // // // // // //           )}
// // // // // // // // // // // // //         </div>

// // // // // // // // // // // // //         <div className={styles.rightPanel}>
// // // // // // // // // // // // //           {solution !== null ? (
// // // // // // // // // // // // //             <div className={styles.solutionSection}>
// // // // // // // // // // // // //               <h2 className={styles.solutionTitle}>Solution</h2>
// // // // // // // // // // // // //               <div className={styles.solution}>
// // // // // // // // // // // // //                 {typeof solution === 'string' ? solution : `${variable} = ${solution}`}
// // // // // // // // // // // // //               </div>
              
// // // // // // // // // // // // //               {steps.length > 0 && (
// // // // // // // // // // // // //                 <div className={styles.stepsSection}>
// // // // // // // // // // // // //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // // // // // // // // // // //                   <ol className={styles.stepsList}>
// // // // // // // // // // // // //                     {steps.map((step, index) => (
// // // // // // // // // // // // //                       <li key={index} className={styles.step}>
// // // // // // // // // // // // //                         {step}
// // // // // // // // // // // // //                       </li>
// // // // // // // // // // // // //                     ))}
// // // // // // // // // // // // //                   </ol>
// // // // // // // // // // // // //                 </div>
// // // // // // // // // // // // //               )}
// // // // // // // // // // // // //             </div>
// // // // // // // // // // // // //           ) : (
// // // // // // // // // // // // //             <div className={styles.examples}>
// // // // // // // // // // // // //               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // // // // // // // // // // // //               <ul className={styles.examplesList}>
// // // // // // // // // // // // //                 <li>2x + 3 = 7</li>
// // // // // // // // // // // // //                 <li>3y - 5 = 2y + 1</li>
// // // // // // // // // // // // //                 <li>5a = 15</li>
// // // // // // // // // // // // //                 <li>2(x + 3) = 10</li>
// // // // // // // // // // // // //                 <li>-3(2y - 1) = 9</li>
// // // // // // // // // // // // //                 <li>4(z - 2) = 2z + 8</li>
// // // // // // // // // // // // //                 <li>0.5m + 2.5 = 1.5m - 1</li>
// // // // // // // // // // // // //               </ul>
// // // // // // // // // // // // //             </div>
// // // // // // // // // // // // //           )}
// // // // // // // // // // // // //         </div>
// // // // // // // // // // // // //       </div>
// // // // // // // // // // // // //     </div>
// // // // // // // // // // // // //   );
// // // // // // // // // // // // // };

// // // // // // // // // // // // // export default LinearEquationSolver;


// // // // // // // // // // // // // components/LinearEquationSolver.js
// // // // // // // // // // // // import { useState } from 'react';
// // // // // // // // // // // // import styles from './LinearEquationSolver.module.css';

// // // // // // // // // // // // const LinearEquationSolver = () => {
// // // // // // // // // // // //   const [equation, setEquation] = useState('');
// // // // // // // // // // // //   const [solution, setSolution] = useState(null);
// // // // // // // // // // // //   const [error, setError] = useState('');
// // // // // // // // // // // //   const [steps, setSteps] = useState([]);
// // // // // // // // // // // //   const [variable, setVariable] = useState('');

// // // // // // // // // // // //   const parseFraction = (str) => {
// // // // // // // // // // // //     if (str.includes('/')) {
// // // // // // // // // // // //       const [num, den] = str.split('/');
// // // // // // // // // // // //       return parseFloat(num) / parseFloat(den);
// // // // // // // // // // // //     }
// // // // // // // // // // // //     return parseFloat(str);
// // // // // // // // // // // //   };

// // // // // // // // // // // //   const expandParentheses = (equation) => {
// // // // // // // // // // // //     const parenthesesPattern = /([+-]?\d*\.?\d*)\(([^)]+)\)/g;
    
// // // // // // // // // // // //     return equation.replace(parenthesesPattern, (match, coefficient, inside) => {
// // // // // // // // // // // //       if (coefficient === '' || coefficient === '+') coefficient = '1';
// // // // // // // // // // // //       if (coefficient === '-') coefficient = '-1';
      
// // // // // // // // // // // //       const coef = parseFloat(coefficient);
// // // // // // // // // // // //       const insideNormalized = inside.replace(/(?<!^)-/g, '+-');
// // // // // // // // // // // //       const terms = insideNormalized.split('+').filter(term => term !== '');
      
// // // // // // // // // // // //       const expandedTerms = terms.map(term => {
// // // // // // // // // // // //         const termValue = parseFraction(term.replace(/[a-z]/g, '')) || 1;
// // // // // // // // // // // //         const variable = term.match(/[a-z]/);
// // // // // // // // // // // //         const result = coef * termValue;
        
// // // // // // // // // // // //         if (variable) {
// // // // // // // // // // // //           return result === 1 ? variable[0] : result === -1 ? `-${variable[0]}` : `${result}${variable[0]}`;
// // // // // // // // // // // //         } else {
// // // // // // // // // // // //           return result.toString();
// // // // // // // // // // // //         }
// // // // // // // // // // // //       });
      
// // // // // // // // // // // //       let result = expandedTerms[0];
// // // // // // // // // // // //       for (let i = 1; i < expandedTerms.length; i++) {
// // // // // // // // // // // //         const term = expandedTerms[i];
// // // // // // // // // // // //         if (term.startsWith('-')) {
// // // // // // // // // // // //           result += term;
// // // // // // // // // // // //         } else {
// // // // // // // // // // // //           result += '+' + term;
// // // // // // // // // // // //         }
// // // // // // // // // // // //       }
      
// // // // // // // // // // // //       return result;
// // // // // // // // // // // //     });
// // // // // // // // // // // //   };

// // // // // // // // // // // //   const parseLinearEquation = (eq) => {
// // // // // // // // // // // //     let cleanEq = eq.replace(/\s+/g, '').toLowerCase();
// // // // // // // // // // // //     cleanEq = expandParentheses(cleanEq);
    
// // // // // // // // // // // //     if (!cleanEq.includes('=')) {
// // // // // // // // // // // //       throw new Error('Equation must contain an equals sign (=)');
// // // // // // // // // // // //     }
    
// // // // // // // // // // // //     const [leftSide, rightSide] = cleanEq.split('=');
    
// // // // // // // // // // // //     if (!leftSide || !rightSide) {
// // // // // // // // // // // //       throw new Error('Both sides of the equation must have content');
// // // // // // // // // // // //     }
    
// // // // // // // // // // // //     const variableMatch = cleanEq.match(/[a-z]/);
// // // // // // // // // // // //     if (!variableMatch) {
// // // // // // // // // // // //       throw new Error('No variable found in the equation');
// // // // // // // // // // // //     }
// // // // // // // // // // // //     const variable = variableMatch[0];
    
// // // // // // // // // // // //     const parseExpression = (expr) => {
// // // // // // // // // // // //       let coefficient = 0;
// // // // // // // // // // // //       let constant = 0;
      
// // // // // // // // // // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // // // // // // // // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // // // // // // // // // //       for (let term of terms) {
// // // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // // //           const pattern = `^([+-]?\\d*\\.?\\d*\\/?\d*)${variable}$`;
// // // // // // // // // // // //           const coefMatch = term.match(new RegExp(pattern));
// // // // // // // // // // // //           if (coefMatch) {
// // // // // // // // // // // //             let coef = coefMatch[1];
// // // // // // // // // // // //             if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // // // //             if (coef === '-') coef = '-1';
// // // // // // // // // // // //             coefficient += parseFraction(coef);
// // // // // // // // // // // //           } else {
// // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // //           }
// // // // // // // // // // // //         } else {
// // // // // // // // // // // //           const constMatch = term.match(/^([+-]?\d+\.?\d*\/?\d*)$/);
// // // // // // // // // // // //           if (constMatch) {
// // // // // // // // // // // //             constant += parseFraction(constMatch[1]);
// // // // // // // // // // // //           } else {
// // // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // // //           }
// // // // // // // // // // // //         }
// // // // // // // // // // // //       }
      
// // // // // // // // // // // //       return { coefficient, constant };
// // // // // // // // // // // //     };
    
// // // // // // // // // // // //     const left = parseExpression(leftSide);
// // // // // // // // // // // //     const right = parseExpression(rightSide);
    
// // // // // // // // // // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // // // // // // // // // //     const finalConstant = left.constant - right.constant;
    
// // // // // // // // // // // //     return { 
// // // // // // // // // // // //       coefficient: finalCoeff, 
// // // // // // // // // // // //       constant: finalConstant, 
// // // // // // // // // // // //       variable,
// // // // // // // // // // // //       expandedEquation: cleanEq
// // // // // // // // // // // //     };
// // // // // // // // // // // //   };

// // // // // // // // // // // //   const solveLinearEquation = (coefficient, constant, variable, originalEquation, leftSide, rightSide, expandedEquation) => {
// // // // // // // // // // // //     const solutionSteps = [];
    
// // // // // // // // // // // //     if (coefficient === 0) {
// // // // // // // // // // // //       if (constant === 0) {
// // // // // // // // // // // //         return { 
// // // // // // // // // // // //           solution: 'infinitely many solutions', 
// // // // // // // // // // // //           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
// // // // // // // // // // // //         };
// // // // // // // // // // // //       } else {
// // // // // // // // // // // //         return { 
// // // // // // // // // // // //           solution: 'no solution', 
// // // // // // // // // // // //           steps: [originalEquation, `${constant} = 0`, 'This is never true, so there is no solution'] 
// // // // // // // // // // // //         };
// // // // // // // // // // // //       }
// // // // // // // // // // // //     }
    
// // // // // // // // // // // //     const result = -constant / coefficient;
    
// // // // // // // // // // // //     solutionSteps.push(`Original equation: ${originalEquation}`);
    
// // // // // // // // // // // //     const hasParentheses = originalEquation.includes('(');
    
// // // // // // // // // // // //     if (hasParentheses) {
// // // // // // // // // // // //       const parenthesesMatch = originalEquation.match(/([+-]?\d*\.?\d*)\(([^)]+)\)/);
// // // // // // // // // // // //       if (parenthesesMatch) {
// // // // // // // // // // // //         let coef = parenthesesMatch[1];
// // // // // // // // // // // //         if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // // // //         if (coef === '-') coef = '-1';
// // // // // // // // // // // //         const insideTerms = parenthesesMatch[2];
        
// // // // // // // // // // // //         solutionSteps.push(`Expand parentheses using distributive property: ${coef}(${insideTerms}) = ${expandedEquation}`);
// // // // // // // // // // // //       } else {
// // // // // // // // // // // //         solutionSteps.push(`Expand parentheses: ${expandedEquation}`);
// // // // // // // // // // // //       }
      
// // // // // // // // // // // //       const [expandedLeft, expandedRight] = expandedEquation.split('=');
// // // // // // // // // // // //       const expandedLeftTerms = expandedLeft.match(/[+-]?[^+-]+/g) || [];
      
// // // // // // // // // // // //       let constantTermsLeft = [];
      
// // // // // // // // // // // //       expandedLeftTerms.forEach(term => {
// // // // // // // // // // // //         if (!term.includes(variable)) {
// // // // // // // // // // // //           constantTermsLeft.push(term);
// // // // // // // // // // // //         }
// // // // // // // // // // // //       });
      
// // // // // // // // // // // //       if (constantTermsLeft.length > 0) {
// // // // // // // // // // // //         const termToMove = constantTermsLeft[0];
// // // // // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides: ${coefficient}${variable} = ${-constant}`);
// // // // // // // // // // // //       }
      
// // // // // // // // // // // //     } else {
// // // // // // // // // // // //       const leftTerms = leftSide.match(/[+-]?[^+-]+/g) || [];
// // // // // // // // // // // //       const rightTerms = rightSide.match(/[+-]?[^+-]+/g) || [];
      
// // // // // // // // // // // //       let variableTermsLeft = [];
// // // // // // // // // // // //       let constantTermsLeft = [];
// // // // // // // // // // // //       let variableTermsRight = [];
      
// // // // // // // // // // // //       leftTerms.forEach(term => {
// // // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // // //           variableTermsLeft.push(term);
// // // // // // // // // // // //         } else {
// // // // // // // // // // // //           constantTermsLeft.push(term);
// // // // // // // // // // // //         }
// // // // // // // // // // // //       });
      
// // // // // // // // // // // //       rightTerms.forEach(term => {
// // // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // // //           variableTermsRight.push(term);
// // // // // // // // // // // //         }
// // // // // // // // // // // //       });
      
// // // // // // // // // // // //       if (constantTermsLeft.length > 0) {
// // // // // // // // // // // //         const termToMove = constantTermsLeft[0];
// // // // // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the right`);
// // // // // // // // // // // //       }
      
// // // // // // // // // // // //       if (variableTermsRight.length > 0) {
// // // // // // // // // // // //         const termToMove = variableTermsRight[0];
// // // // // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
// // // // // // // // // // // //       }
      
// // // // // // // // // // // //       solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
// // // // // // // // // // // //     }
    
// // // // // // // // // // // //     solutionSteps.push(`Divide both sides by ${coefficient}: ${variable} = ${-constant}/${coefficient}`);
// // // // // // // // // // // //     solutionSteps.push(`Solution: ${variable} = ${result}`);
    
// // // // // // // // // // // //     return { solution: result, steps: solutionSteps };
// // // // // // // // // // // //   };

// // // // // // // // // // // //   const handleSolve = () => {
// // // // // // // // // // // //     try {
// // // // // // // // // // // //       setError('');
// // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // //       setVariable('');
      
// // // // // // // // // // // //       if (!equation.trim()) {
// // // // // // // // // // // //         setError('Please enter an equation');
// // // // // // // // // // // //         return;
// // // // // // // // // // // //       }
      
// // // // // // // // // // // //       const parsed = parseLinearEquation(equation);
// // // // // // // // // // // //       const [leftSide, rightSide] = equation.split('=');
// // // // // // // // // // // //       const result = solveLinearEquation(
// // // // // // // // // // // //         parsed.coefficient, 
// // // // // // // // // // // //         parsed.constant, 
// // // // // // // // // // // //         parsed.variable, 
// // // // // // // // // // // //         equation, 
// // // // // // // // // // // //         leftSide.trim(), 
// // // // // // // // // // // //         rightSide.trim(),
// // // // // // // // // // // //         parsed.expandedEquation
// // // // // // // // // // // //       );
      
// // // // // // // // // // // //       setVariable(parsed.variable);
// // // // // // // // // // // //       setSolution(result.solution);
// // // // // // // // // // // //       setSteps(result.steps);
      
// // // // // // // // // // // //     } catch (err) {
// // // // // // // // // // // //       setError(err.message);
// // // // // // // // // // // //       setSolution(null);
// // // // // // // // // // // //       setSteps([]);
// // // // // // // // // // // //       setVariable('');
// // // // // // // // // // // //     }
// // // // // // // // // // // //   };

// // // // // // // // // // // //   const handleClear = () => {
// // // // // // // // // // // //     setEquation('');
// // // // // // // // // // // //     setSolution(null);
// // // // // // // // // // // //     setError('');
// // // // // // // // // // // //     setSteps([]);
// // // // // // // // // // // //     setVariable('');
// // // // // // // // // // // //   };

// // // // // // // // // // // //   return (
// // // // // // // // // // // //     <div className={styles.container}>
// // // // // // // // // // // //       <div className={styles.mainLayout}>
// // // // // // // // // // // //         <div className={styles.leftPanel}>
// // // // // // // // // // // //           <div className={styles.inputSection}>
// // // // // // // // // // // //             <label className={styles.label}>
// // // // // // // // // // // //               Enter your linear equation with any variable:
// // // // // // // // // // // //             </label>
// // // // // // // // // // // //             <input
// // // // // // // // // // // //               type="text"
// // // // // // // // // // // //               value={equation}
// // // // // // // // // // // //               onChange={(e) => setEquation(e.target.value)}
// // // // // // // // // // // //               placeholder="Enter equation like: 2x + 3 = 7, 2(x + 3) = 10, or 1.5x + 2/3 = 4"
// // // // // // // // // // // //               className={styles.input}
// // // // // // // // // // // //               onKeyPress={(e) => e.key === 'Enter' && handleSolve()}
// // // // // // // // // // // //             />
// // // // // // // // // // // //             <div className={styles.buttonGroup}>
// // // // // // // // // // // //               <button onClick={handleSolve} className={styles.solveButton}>
// // // // // // // // // // // //                 Solve
// // // // // // // // // // // //               </button>
// // // // // // // // // // // //               <button onClick={handleClear} className={styles.clearButton}>
// // // // // // // // // // // //                 Clear
// // // // // // // // // // // //               </button>
// // // // // // // // // // // //             </div>
// // // // // // // // // // // //           </div>

// // // // // // // // // // // //           {error && (
// // // // // // // // // // // //             <div className={styles.error}>
// // // // // // // // // // // //               <strong>Error:</strong> {error}
// // // // // // // // // // // //             </div>
// // // // // // // // // // // //           )}
// // // // // // // // // // // //         </div>

// // // // // // // // // // // //         <div className={styles.rightPanel}>
// // // // // // // // // // // //           {solution !== null ? (
// // // // // // // // // // // //             <div className={styles.solutionSection}>
// // // // // // // // // // // //               <h2 className={styles.solutionTitle}>Solution</h2>
// // // // // // // // // // // //               <div className={styles.solution}>
// // // // // // // // // // // //                 {typeof solution === 'string' ? solution : `${variable} = ${solution}`}
// // // // // // // // // // // //               </div>
              
// // // // // // // // // // // //               {steps.length > 0 && (
// // // // // // // // // // // //                 <div className={styles.stepsSection}>
// // // // // // // // // // // //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // // // // // // // // // //                   <ol className={styles.stepsList}>
// // // // // // // // // // // //                     {steps.map((step, index) => (
// // // // // // // // // // // //                       <li key={index} className={styles.step}>
// // // // // // // // // // // //                         {step}
// // // // // // // // // // // //                       </li>
// // // // // // // // // // // //                     ))}
// // // // // // // // // // // //                   </ol>
// // // // // // // // // // // //                 </div>
// // // // // // // // // // // //               )}
// // // // // // // // // // // //             </div>
// // // // // // // // // // // //           ) : (
// // // // // // // // // // // //             <div className={styles.examples}>
// // // // // // // // // // // //               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // // // // // // // // // // //               <ul className={styles.examplesList}>
// // // // // // // // // // // //                 <li>2x + 3 = 7</li>
// // // // // // // // // // // //                 <li>3y - 5 = 2y + 1</li>
// // // // // // // // // // // //                 <li>5a = 15</li>
// // // // // // // // // // // //                 <li>2(x + 3) = 10</li>
// // // // // // // // // // // //                 <li>-3(2y - 1) = 9</li>
// // // // // // // // // // // //                 <li>4(z - 2) = 2z + 8</li>
// // // // // // // // // // // //                 <li>1.5x + 2/3 = 4</li>
// // // // // // // // // // // //                 <li>3/4y - 1/2 = 2y + 1/4</li>
// // // // // // // // // // // //                 <li>0.25z + 1.5 = 2.75</li>
// // // // // // // // // // // //               </ul>
// // // // // // // // // // // //             </div>
// // // // // // // // // // // //           )}
// // // // // // // // // // // //         </div>
// // // // // // // // // // // //       </div>
// // // // // // // // // // // //     </div>
// // // // // // // // // // // //   );
// // // // // // // // // // // // };

// // // // // // // // // // // // export default LinearEquationSolver;


// // // // // // // // // // // import { useState } from 'react';
// // // // // // // // // // // import styles from './LinearEquationSolver.module.css';

// // // // // // // // // // // const LinearEquationSolver = () => {
// // // // // // // // // // //   const [equation, setEquation] = useState('');
// // // // // // // // // // //   const [solution, setSolution] = useState(null);
// // // // // // // // // // //   const [error, setError] = useState('');
// // // // // // // // // // //   const [steps, setSteps] = useState([]);
// // // // // // // // // // //   const [variable, setVariable] = useState('');

// // // // // // // // // // //   const parseFraction = (str) => {
// // // // // // // // // // //     if (str.includes('/')) {
// // // // // // // // // // //       const parts = str.split('/');
// // // // // // // // // // //       return parseFloat(parts[0]) / parseFloat(parts[1]);
// // // // // // // // // // //     }
// // // // // // // // // // //     return parseFloat(str);
// // // // // // // // // // //   };

// // // // // // // // // // //   const expandParentheses = (equation) => {
// // // // // // // // // // //     const pattern = /([+-]?\d*\.?\d*\/?\/?\d*)\(([^)]+)\)/g;
    
// // // // // // // // // // //     return equation.replace(pattern, (match, coef, inside) => {
// // // // // // // // // // //       if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // // //       if (coef === '-') coef = '-1';
      
// // // // // // // // // // //       const coefficient = parseFraction(coef);
// // // // // // // // // // //       const insideNormalized = inside.replace(/(?<!^)-/g, '+-');
// // // // // // // // // // //       const terms = insideNormalized.split('+').filter(term => term !== '');
      
// // // // // // // // // // //       const expandedTerms = terms.map(term => {
// // // // // // // // // // //         const termValue = parseFraction(term.replace(/[a-z]/g, '')) || 1;
// // // // // // // // // // //         const variable = term.match(/[a-z]/);
// // // // // // // // // // //         const result = coefficient * termValue;
        
// // // // // // // // // // //         if (variable) {
// // // // // // // // // // //           return result === 1 ? variable[0] : result === -1 ? `-${variable[0]}` : `${result}${variable[0]}`;
// // // // // // // // // // //         } else {
// // // // // // // // // // //           return result.toString();
// // // // // // // // // // //         }
// // // // // // // // // // //       });
      
// // // // // // // // // // //       let result = expandedTerms[0];
// // // // // // // // // // //       for (let i = 1; i < expandedTerms.length; i++) {
// // // // // // // // // // //         const term = expandedTerms[i];
// // // // // // // // // // //         if (term.startsWith('-')) {
// // // // // // // // // // //           result += term;
// // // // // // // // // // //         } else {
// // // // // // // // // // //           result += '+' + term;
// // // // // // // // // // //         }
// // // // // // // // // // //       }
      
// // // // // // // // // // //       return result;
// // // // // // // // // // //     });
// // // // // // // // // // //   };

// // // // // // // // // // //   const parseLinearEquation = (eq) => {
// // // // // // // // // // //     let cleanEq = eq.replace(/\s+/g, '').toLowerCase();
// // // // // // // // // // //     cleanEq = expandParentheses(cleanEq);
    
// // // // // // // // // // //     if (!cleanEq.includes('=')) {
// // // // // // // // // // //       throw new Error('Equation must contain an equals sign (=)');
// // // // // // // // // // //     }
    
// // // // // // // // // // //     const sides = cleanEq.split('=');
// // // // // // // // // // //     const leftSide = sides[0];
// // // // // // // // // // //     const rightSide = sides[1];
    
// // // // // // // // // // //     if (!leftSide || !rightSide) {
// // // // // // // // // // //       throw new Error('Both sides of the equation must have content');
// // // // // // // // // // //     }
    
// // // // // // // // // // //     const variableMatch = cleanEq.match(/[a-z]/);
// // // // // // // // // // //     if (!variableMatch) {
// // // // // // // // // // //       throw new Error('No variable found in the equation');
// // // // // // // // // // //     }
// // // // // // // // // // //     const variable = variableMatch[0];
    
// // // // // // // // // // //     const parseExpression = (expr) => {
// // // // // // // // // // //       let coefficient = 0;
// // // // // // // // // // //       let constant = 0;
      
// // // // // // // // // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // // // // // // // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // // // // // // // // //       for (let term of terms) {
// // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // //           const pattern = new RegExp(`^([+-]?\\d*\\.?\\d*\/?\/?\d*)${variable}$`);
// // // // // // // // // // //           const coefMatch = term.match(pattern);
// // // // // // // // // // //           if (coefMatch) {
// // // // // // // // // // //             let coef = coefMatch[1];
// // // // // // // // // // //             if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // // //             if (coef === '-') coef = '-1';
// // // // // // // // // // //             coefficient += parseFraction(coef);
// // // // // // // // // // //           } else {
// // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // //           }
// // // // // // // // // // //         } else {
// // // // // // // // // // //           const constMatch = term.match(/^([+-]?\d*\.?\d*\/?\/?\d*)$/);
// // // // // // // // // // //           if (constMatch) {
// // // // // // // // // // //             constant += parseFraction(constMatch[1]);
// // // // // // // // // // //           } else {
// // // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // // //           }
// // // // // // // // // // //         }
// // // // // // // // // // //       }
      
// // // // // // // // // // //       return { coefficient, constant };
// // // // // // // // // // //     };
    
// // // // // // // // // // //     const left = parseExpression(leftSide);
// // // // // // // // // // //     const right = parseExpression(rightSide);
    
// // // // // // // // // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // // // // // // // // //     const finalConstant = left.constant - right.constant;
    
// // // // // // // // // // //     return { 
// // // // // // // // // // //       coefficient: finalCoeff, 
// // // // // // // // // // //       constant: finalConstant, 
// // // // // // // // // // //       variable,
// // // // // // // // // // //       expandedEquation: cleanEq
// // // // // // // // // // //     };
// // // // // // // // // // //   };

// // // // // // // // // // //   const solveLinearEquation = (coefficient, constant, variable, originalEquation, leftSide, rightSide, expandedEquation) => {
// // // // // // // // // // //     const solutionSteps = [];
    
// // // // // // // // // // //     if (coefficient === 0) {
// // // // // // // // // // //       if (constant === 0) {
// // // // // // // // // // //         return { 
// // // // // // // // // // //           solution: 'infinitely many solutions', 
// // // // // // // // // // //           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
// // // // // // // // // // //         };
// // // // // // // // // // //       } else {
// // // // // // // // // // //         return { 
// // // // // // // // // // //           solution: 'no solution', 
// // // // // // // // // // //           steps: [originalEquation, `${constant} = 0`, 'This is never true, so there is no solution'] 
// // // // // // // // // // //         };
// // // // // // // // // // //       }
// // // // // // // // // // //     }
    
// // // // // // // // // // //     const result = -constant / coefficient;
    
// // // // // // // // // // //     solutionSteps.push(`Original equation: ${originalEquation}`);
    
// // // // // // // // // // //     const hasParentheses = originalEquation.includes('(');
    
// // // // // // // // // // //     if (hasParentheses) {
// // // // // // // // // // //       const parenthesesMatch = originalEquation.match(/([+-]?\d*\.?\d*\/?\/?\d*)\(([^)]+)\)/);
// // // // // // // // // // //       if (parenthesesMatch) {
// // // // // // // // // // //         let coef = parenthesesMatch[1];
// // // // // // // // // // //         if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // // //         if (coef === '-') coef = '-1';
// // // // // // // // // // //         const insideTerms = parenthesesMatch[2];
        
// // // // // // // // // // //         solutionSteps.push(`Expand parentheses using distributive property: ${coef}(${insideTerms}) = ${expandedEquation}`);
// // // // // // // // // // //       } else {
// // // // // // // // // // //         solutionSteps.push(`Expand parentheses: ${expandedEquation}`);
// // // // // // // // // // //       }
      
// // // // // // // // // // //       const expandedSides = expandedEquation.split('=');
// // // // // // // // // // //       const expandedLeft = expandedSides[0];
// // // // // // // // // // //       const expandedLeftTerms = expandedLeft.match(/[+-]?[^+-]+/g) || [];
      
// // // // // // // // // // //       let constantTermsLeft = [];
      
// // // // // // // // // // //       expandedLeftTerms.forEach(term => {
// // // // // // // // // // //         if (!term.includes(variable)) {
// // // // // // // // // // //           constantTermsLeft.push(term);
// // // // // // // // // // //         }
// // // // // // // // // // //       });
      
// // // // // // // // // // //       if (constantTermsLeft.length > 0) {
// // // // // // // // // // //         const termToMove = constantTermsLeft[0];
// // // // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides: ${coefficient}${variable} = ${-constant}`);
// // // // // // // // // // //       }
      
// // // // // // // // // // //     } else {
// // // // // // // // // // //       const leftTerms = leftSide.match(/[+-]?[^+-]+/g) || [];
// // // // // // // // // // //       const rightTerms = rightSide.match(/[+-]?[^+-]+/g) || [];
      
// // // // // // // // // // //       let variableTermsLeft = [];
// // // // // // // // // // //       let constantTermsLeft = [];
// // // // // // // // // // //       let variableTermsRight = [];
      
// // // // // // // // // // //       leftTerms.forEach(term => {
// // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // //           variableTermsLeft.push(term);
// // // // // // // // // // //         } else {
// // // // // // // // // // //           constantTermsLeft.push(term);
// // // // // // // // // // //         }
// // // // // // // // // // //       });
      
// // // // // // // // // // //       rightTerms.forEach(term => {
// // // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // // //           variableTermsRight.push(term);
// // // // // // // // // // //         }
// // // // // // // // // // //       });
      
// // // // // // // // // // //       if (constantTermsLeft.length > 0) {
// // // // // // // // // // //         const termToMove = constantTermsLeft[0];
// // // // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the right`);
// // // // // // // // // // //       }
      
// // // // // // // // // // //       if (variableTermsRight.length > 0) {
// // // // // // // // // // //         const termToMove = variableTermsRight[0];
// // // // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
// // // // // // // // // // //       }
      
// // // // // // // // // // //       solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
// // // // // // // // // // //     }
    
// // // // // // // // // // //     solutionSteps.push(`Divide both sides by ${coefficient}: ${variable} = ${-constant}/${coefficient}`);
// // // // // // // // // // //     solutionSteps.push(`Solution: ${variable} = ${result}`);
    
// // // // // // // // // // //     return { solution: result, steps: solutionSteps };
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleSolve = () => {
// // // // // // // // // // //     try {
// // // // // // // // // // //       setError('');
// // // // // // // // // // //       setSolution(null);
// // // // // // // // // // //       setSteps([]);
// // // // // // // // // // //       setVariable('');
      
// // // // // // // // // // //       if (!equation.trim()) {
// // // // // // // // // // //         setError('Please enter an equation');
// // // // // // // // // // //         return;
// // // // // // // // // // //       }
      
// // // // // // // // // // //       const parsed = parseLinearEquation(equation);
// // // // // // // // // // //       const sides = equation.split('=');
// // // // // // // // // // //       const leftSide = sides[0].trim();
// // // // // // // // // // //       const rightSide = sides[1].trim();
// // // // // // // // // // //       const result = solveLinearEquation(
// // // // // // // // // // //         parsed.coefficient, 
// // // // // // // // // // //         parsed.constant, 
// // // // // // // // // // //         parsed.variable, 
// // // // // // // // // // //         equation, 
// // // // // // // // // // //         leftSide, 
// // // // // // // // // // //         rightSide,
// // // // // // // // // // //         parsed.expandedEquation
// // // // // // // // // // //       );
      
// // // // // // // // // // //       setVariable(parsed.variable);
// // // // // // // // // // //       setSolution(result.solution);
// // // // // // // // // // //       setSteps(result.steps);
      
// // // // // // // // // // //     } catch (err) {
// // // // // // // // // // //       setError(err.message);
// // // // // // // // // // //       setSolution(null);
// // // // // // // // // // //       setSteps([]);
// // // // // // // // // // //       setVariable('');
// // // // // // // // // // //     }
// // // // // // // // // // //   };

// // // // // // // // // // //   const handleClear = () => {
// // // // // // // // // // //     setEquation('');
// // // // // // // // // // //     setSolution(null);
// // // // // // // // // // //     setError('');
// // // // // // // // // // //     setSteps([]);
// // // // // // // // // // //     setVariable('');
// // // // // // // // // // //   };

// // // // // // // // // // //   return (
// // // // // // // // // // //     <div className={styles.container}>
// // // // // // // // // // //       <div className={styles.mainLayout}>
// // // // // // // // // // //         <div className={styles.leftPanel}>
// // // // // // // // // // //           <div className={styles.inputSection}>
// // // // // // // // // // //             <label className={styles.label}>
// // // // // // // // // // //               Enter your linear equation with any variable:
// // // // // // // // // // //             </label>
// // // // // // // // // // //             <input
// // // // // // // // // // //               type="text"
// // // // // // // // // // //               value={equation}
// // // // // // // // // // //               onChange={(e) => setEquation(e.target.value)}
// // // // // // // // // // //               placeholder="Enter equation like: 2x + 3 = 7, 2(x + 3) = 10, or 1.5x + 2/3 = 4"
// // // // // // // // // // //               className={styles.input}
// // // // // // // // // // //               onKeyPress={(e) => e.key === 'Enter' && handleSolve()}
// // // // // // // // // // //             />
// // // // // // // // // // //             <div className={styles.buttonGroup}>
// // // // // // // // // // //               <button onClick={handleSolve} className={styles.solveButton}>
// // // // // // // // // // //                 Solve
// // // // // // // // // // //               </button>
// // // // // // // // // // //               <button onClick={handleClear} className={styles.clearButton}>
// // // // // // // // // // //                 Clear
// // // // // // // // // // //               </button>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           </div>

// // // // // // // // // // //           {error && (
// // // // // // // // // // //             <div className={styles.error}>
// // // // // // // // // // //               <strong>Error:</strong> {error}
// // // // // // // // // // //             </div>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </div>

// // // // // // // // // // //         <div className={styles.rightPanel}>
// // // // // // // // // // //           {solution !== null ? (
// // // // // // // // // // //             <div className={styles.solutionSection}>
// // // // // // // // // // //               <h2 className={styles.solutionTitle}>Solution</h2>
// // // // // // // // // // //               <div className={styles.solution}>
// // // // // // // // // // //                 {typeof solution === 'string' ? solution : `${variable} = ${solution}`}
// // // // // // // // // // //               </div>
              
// // // // // // // // // // //               {steps.length > 0 && (
// // // // // // // // // // //                 <div className={styles.stepsSection}>
// // // // // // // // // // //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // // // // // // // // //                   <ol className={styles.stepsList}>
// // // // // // // // // // //                     {steps.map((step, index) => (
// // // // // // // // // // //                       <li key={index} className={styles.step}>
// // // // // // // // // // //                         {step}
// // // // // // // // // // //                       </li>
// // // // // // // // // // //                     ))}
// // // // // // // // // // //                   </ol>
// // // // // // // // // // //                 </div>
// // // // // // // // // // //               )}
// // // // // // // // // // //             </div>
// // // // // // // // // // //           ) : (
// // // // // // // // // // //             <div className={styles.examples}>
// // // // // // // // // // //               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // // // // // // // // // //               <ul className={styles.examplesList}>
// // // // // // // // // // //                 <li>2x + 3 = 7</li>
// // // // // // // // // // //                 <li>3y - 5 = 2y + 1</li>
// // // // // // // // // // //                 <li>5a = 15</li>
// // // // // // // // // // //                 <li>2(x + 3) = 10</li>
// // // // // // // // // // //                 <li>-3(2y - 1) = 9</li>
// // // // // // // // // // //                 <li>4(z - 2) = 2z + 8</li>
// // // // // // // // // // //                 <li>1.5x + 2/3 = 4</li>
// // // // // // // // // // //                 <li>3/4y - 1/2 = 2y + 1/4</li>
// // // // // // // // // // //                 <li>0.25z + 1.5 = 2.75</li>
// // // // // // // // // // //               </ul>
// // // // // // // // // // //             </div>
// // // // // // // // // // //           )}
// // // // // // // // // // //         </div>
// // // // // // // // // // //       </div>
// // // // // // // // // // //     </div>
// // // // // // // // // // //   );
// // // // // // // // // // // };

// // // // // // // // // // // export default LinearEquationSolver;


// // // // // // // // // // import { useState } from 'react';
// // // // // // // // // // import styles from './LinearEquationSolver.module.css';

// // // // // // // // // // const LinearEquationSolver = () => {
// // // // // // // // // //   const [equation, setEquation] = useState('');
// // // // // // // // // //   const [solution, setSolution] = useState(null);
// // // // // // // // // //   const [error, setError] = useState('');
// // // // // // // // // //   const [steps, setSteps] = useState([]);
// // // // // // // // // //   const [variable, setVariable] = useState('');

// // // // // // // // // //   const parseFraction = (str) => {
// // // // // // // // // //     if (str.includes('/')) {
// // // // // // // // // //       const parts = str.split('/');
// // // // // // // // // //       return parseFloat(parts[0]) / parseFloat(parts[1]);
// // // // // // // // // //     }
// // // // // // // // // //     return parseFloat(str);
// // // // // // // // // //   };

// // // // // // // // // //   const expandParentheses = (equation) => {
// // // // // // // // // //     const pattern = /([+-]?\d*\.?\d*\/?\/?\d*)\(([^)]+)\)/g;
    
// // // // // // // // // //     return equation.replace(pattern, (match, coef, inside) => {
// // // // // // // // // //       if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // //       if (coef === '-') coef = '-1';
      
// // // // // // // // // //       const coefficient = parseFraction(coef);
// // // // // // // // // //       const insideNormalized = inside.replace(/(?<!^)-/g, '+-');
// // // // // // // // // //       const terms = insideNormalized.split('+').filter(term => term !== '');
      
// // // // // // // // // //       const expandedTerms = terms.map(term => {
// // // // // // // // // //         const termValue = parseFraction(term.replace(/[a-z]/g, '')) || 1;
// // // // // // // // // //         const variable = term.match(/[a-z]/);
// // // // // // // // // //         const result = coefficient * termValue;
        
// // // // // // // // // //         if (variable) {
// // // // // // // // // //           return result === 1 ? variable[0] : result === -1 ? `-${variable[0]}` : `${result}${variable[0]}`;
// // // // // // // // // //         } else {
// // // // // // // // // //           return result.toString();
// // // // // // // // // //         }
// // // // // // // // // //       });
      
// // // // // // // // // //       let result = expandedTerms[0];
// // // // // // // // // //       for (let i = 1; i < expandedTerms.length; i++) {
// // // // // // // // // //         const term = expandedTerms[i];
// // // // // // // // // //         if (term.startsWith('-')) {
// // // // // // // // // //           result += term;
// // // // // // // // // //         } else {
// // // // // // // // // //           result += '+' + term;
// // // // // // // // // //         }
// // // // // // // // // //       }
      
// // // // // // // // // //       return result;
// // // // // // // // // //     });
// // // // // // // // // //   };

// // // // // // // // // //   const parseLinearEquation = (eq) => {
// // // // // // // // // //     let cleanEq = eq.replace(/\s+/g, '').toLowerCase();
// // // // // // // // // //     cleanEq = expandParentheses(cleanEq);
    
// // // // // // // // // //     if (!cleanEq.includes('=')) {
// // // // // // // // // //       throw new Error('Equation must contain an equals sign (=)');
// // // // // // // // // //     }
    
// // // // // // // // // //     const sides = cleanEq.split('=');
// // // // // // // // // //     const leftSide = sides[0];
// // // // // // // // // //     const rightSide = sides[1];
    
// // // // // // // // // //     if (!leftSide || !rightSide) {
// // // // // // // // // //       throw new Error('Both sides of the equation must have content');
// // // // // // // // // //     }
    
// // // // // // // // // //     const variableMatch = cleanEq.match(/[a-z]/);
// // // // // // // // // //     if (!variableMatch) {
// // // // // // // // // //       throw new Error('No variable found in the equation');
// // // // // // // // // //     }
// // // // // // // // // //     const variable = variableMatch[0];
    
// // // // // // // // // //     const parseExpression = (expr) => {
// // // // // // // // // //       let coefficient = 0;
// // // // // // // // // //       let constant = 0;
      
// // // // // // // // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // // // // // // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // // // // // // // //       for (let term of terms) {
// // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // //           const pattern = new RegExp(`^([+-]?\\d*\\.?\\d*\/?\/?\d*)${variable}$`);
// // // // // // // // // //           const coefMatch = term.match(pattern);
// // // // // // // // // //           if (coefMatch) {
// // // // // // // // // //             let coef = coefMatch[1];
// // // // // // // // // //             if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // //             if (coef === '-') coef = '-1';
// // // // // // // // // //             coefficient += parseFraction(coef);
// // // // // // // // // //           } else {
// // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // //           }
// // // // // // // // // //         } else {
// // // // // // // // // //           const constMatch = term.match(/^([+-]?\d*\.?\d*\/?\/?\d*)$/);
// // // // // // // // // //           if (constMatch) {
// // // // // // // // // //             constant += parseFraction(constMatch[1]);
// // // // // // // // // //           } else {
// // // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // // //           }
// // // // // // // // // //         }
// // // // // // // // // //       }
      
// // // // // // // // // //       return { coefficient, constant };
// // // // // // // // // //     };
    
// // // // // // // // // //     const left = parseExpression(leftSide);
// // // // // // // // // //     const right = parseExpression(rightSide);
    
// // // // // // // // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // // // // // // // //     const finalConstant = left.constant - right.constant;
    
// // // // // // // // // //     return { 
// // // // // // // // // //       coefficient: finalCoeff, 
// // // // // // // // // //       constant: finalConstant, 
// // // // // // // // // //       variable,
// // // // // // // // // //       expandedEquation: cleanEq
// // // // // // // // // //     };
// // // // // // // // // //   };

// // // // // // // // // //   const solveLinearEquation = (coefficient, constant, variable, originalEquation, leftSide, rightSide, expandedEquation) => {
// // // // // // // // // //     const solutionSteps = [];
    
// // // // // // // // // //     if (coefficient === 0) {
// // // // // // // // // //       if (constant === 0) {
// // // // // // // // // //         return { 
// // // // // // // // // //           solution: 'infinitely many solutions', 
// // // // // // // // // //           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
// // // // // // // // // //         };
// // // // // // // // // //       } else {
// // // // // // // // // //         return { 
// // // // // // // // // //           solution: 'no solution', 
// // // // // // // // // //           steps: [originalEquation, `${constant} = 0`, 'This is never true, so there is no solution'] 
// // // // // // // // // //         };
// // // // // // // // // //       }
// // // // // // // // // //     }
    
// // // // // // // // // //     const result = -constant / coefficient;
    
// // // // // // // // // //     solutionSteps.push(`Original equation: ${originalEquation}`);
    
// // // // // // // // // //     const hasParentheses = originalEquation.includes('(');
    
// // // // // // // // // //     if (hasParentheses) {
// // // // // // // // // //       const parenthesesMatch = originalEquation.match(/([+-]?\d*\.?\d*\/?\/?\d*)\(([^)]+)\)/);
// // // // // // // // // //       if (parenthesesMatch) {
// // // // // // // // // //         let coef = parenthesesMatch[1];
// // // // // // // // // //         if (coef === '' || coef === '+') coef = '1';
// // // // // // // // // //         if (coef === '-') coef = '-1';
// // // // // // // // // //         const insideTerms = parenthesesMatch[2];
        
// // // // // // // // // //         solutionSteps.push(`Expand parentheses using distributive property: ${coef}(${insideTerms}) = ${expandedEquation}`);
// // // // // // // // // //       } else {
// // // // // // // // // //         solutionSteps.push(`Expand parentheses: ${expandedEquation}`);
// // // // // // // // // //       }
      
// // // // // // // // // //       const expSides = expandedEquation.split('=');
// // // // // // // // // //       const expLeft = expSides[0];
// // // // // // // // // //       const expRight = expSides[1];
// // // // // // // // // //       const expLeftTerms = expLeft.match(/[+-]?[^+-]+/g) || [];
// // // // // // // // // //       const expRightTerms = expRight.match(/[+-]?[^+-]+/g) || [];
      
// // // // // // // // // //       let constantTermsLeft = [];
// // // // // // // // // //       let variableTermsRight = [];
      
// // // // // // // // // //       expLeftTerms.forEach(term => {
// // // // // // // // // //         if (!term.includes(variable)) {
// // // // // // // // // //           constantTermsLeft.push(term);
// // // // // // // // // //         }
// // // // // // // // // //       });
      
// // // // // // // // // //       expRightTerms.forEach(term => {
// // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // //           variableTermsRight.push(term);
// // // // // // // // // //         }
// // // // // // // // // //       });
      
// // // // // // // // // //       if (variableTermsRight.length > 0) {
// // // // // // // // // //         const termToMove = variableTermsRight[0];
// // // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move variables to left side`);
// // // // // // // // // //       }
      
// // // // // // // // // //       if (constantTermsLeft.length > 0) {
// // // // // // // // // //         const termToMove = constantTermsLeft[0];
// // // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move constants to right side`);
// // // // // // // // // //       }
      
// // // // // // // // // //       solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
      
// // // // // // // // // //     } else {
// // // // // // // // // //       const leftTerms = leftSide.match(/[+-]?[^+-]+/g) || [];
// // // // // // // // // //       const rightTerms = rightSide.match(/[+-]?[^+-]+/g) || [];
      
// // // // // // // // // //       let variableTermsLeft = [];
// // // // // // // // // //       let constantTermsLeft = [];
// // // // // // // // // //       let variableTermsRight = [];
      
// // // // // // // // // //       leftTerms.forEach(term => {
// // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // //           variableTermsLeft.push(term);
// // // // // // // // // //         } else {
// // // // // // // // // //           constantTermsLeft.push(term);
// // // // // // // // // //         }
// // // // // // // // // //       });
      
// // // // // // // // // //       rightTerms.forEach(term => {
// // // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // // //           variableTermsRight.push(term);
// // // // // // // // // //         }
// // // // // // // // // //       });
      
// // // // // // // // // //       if (constantTermsLeft.length > 0) {
// // // // // // // // // //         const termToMove = constantTermsLeft[0];
// // // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the right`);
// // // // // // // // // //       }
      
// // // // // // // // // //       if (variableTermsRight.length > 0) {
// // // // // // // // // //         const termToMove = variableTermsRight[0];
// // // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
// // // // // // // // // //       }
      
// // // // // // // // // //       solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
// // // // // // // // // //     }
    
// // // // // // // // // //     solutionSteps.push(`Divide both sides by ${coefficient}: ${variable} = ${-constant}/${coefficient}`);
// // // // // // // // // //     solutionSteps.push(`Solution: ${variable} = ${result}`);
    
// // // // // // // // // //     return { solution: result, steps: solutionSteps };
// // // // // // // // // //   };

// // // // // // // // // //   const handleSolve = () => {
// // // // // // // // // //     try {
// // // // // // // // // //       setError('');
// // // // // // // // // //       setSolution(null);
// // // // // // // // // //       setSteps([]);
// // // // // // // // // //       setVariable('');
      
// // // // // // // // // //       if (!equation.trim()) {
// // // // // // // // // //         setError('Please enter an equation');
// // // // // // // // // //         return;
// // // // // // // // // //       }
      
// // // // // // // // // //       const parsed = parseLinearEquation(equation);
// // // // // // // // // //       const sides = equation.split('=');
// // // // // // // // // //       const leftSide = sides[0].trim();
// // // // // // // // // //       const rightSide = sides[1].trim();
// // // // // // // // // //       const result = solveLinearEquation(
// // // // // // // // // //         parsed.coefficient, 
// // // // // // // // // //         parsed.constant, 
// // // // // // // // // //         parsed.variable, 
// // // // // // // // // //         equation, 
// // // // // // // // // //         leftSide, 
// // // // // // // // // //         rightSide,
// // // // // // // // // //         parsed.expandedEquation
// // // // // // // // // //       );
      
// // // // // // // // // //       setVariable(parsed.variable);
// // // // // // // // // //       setSolution(result.solution);
// // // // // // // // // //       setSteps(result.steps);
      
// // // // // // // // // //     } catch (err) {
// // // // // // // // // //       setError(err.message);
// // // // // // // // // //       setSolution(null);
// // // // // // // // // //       setSteps([]);
// // // // // // // // // //       setVariable('');
// // // // // // // // // //     }
// // // // // // // // // //   };

// // // // // // // // // //   const handleClear = () => {
// // // // // // // // // //     setEquation('');
// // // // // // // // // //     setSolution(null);
// // // // // // // // // //     setError('');
// // // // // // // // // //     setSteps([]);
// // // // // // // // // //     setVariable('');
// // // // // // // // // //   };

// // // // // // // // // //   return (
// // // // // // // // // //     <div className={styles.container}>
// // // // // // // // // //       <div className={styles.mainLayout}>
// // // // // // // // // //         <div className={styles.leftPanel}>
// // // // // // // // // //           <div className={styles.inputSection}>
// // // // // // // // // //             <label className={styles.label}>
// // // // // // // // // //               Enter your linear equation with any variable:
// // // // // // // // // //             </label>
// // // // // // // // // //             <input
// // // // // // // // // //               type="text"
// // // // // // // // // //               value={equation}
// // // // // // // // // //               onChange={(e) => setEquation(e.target.value)}
// // // // // // // // // //               placeholder="Enter equation like: 2x + 3 = 7, 2(x + 3) = 10, or 1.5x + 2/3 = 4"
// // // // // // // // // //               className={styles.input}
// // // // // // // // // //               onKeyPress={(e) => e.key === 'Enter' && handleSolve()}
// // // // // // // // // //             />
// // // // // // // // // //             <div className={styles.buttonGroup}>
// // // // // // // // // //               <button onClick={handleSolve} className={styles.solveButton}>
// // // // // // // // // //                 Solve
// // // // // // // // // //               </button>
// // // // // // // // // //               <button onClick={handleClear} className={styles.clearButton}>
// // // // // // // // // //                 Clear
// // // // // // // // // //               </button>
// // // // // // // // // //             </div>
// // // // // // // // // //           </div>

// // // // // // // // // //           {error && (
// // // // // // // // // //             <div className={styles.error}>
// // // // // // // // // //               <strong>Error:</strong> {error}
// // // // // // // // // //             </div>
// // // // // // // // // //           )}
// // // // // // // // // //         </div>

// // // // // // // // // //         <div className={styles.rightPanel}>
// // // // // // // // // //           {solution !== null ? (
// // // // // // // // // //             <div className={styles.solutionSection}>
// // // // // // // // // //               <h2 className={styles.solutionTitle}>Solution</h2>
// // // // // // // // // //               <div className={styles.solution}>
// // // // // // // // // //                 {typeof solution === 'string' ? solution : `${variable} = ${solution}`}
// // // // // // // // // //               </div>
              
// // // // // // // // // //               {steps.length > 0 && (
// // // // // // // // // //                 <div className={styles.stepsSection}>
// // // // // // // // // //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // // // // // // // //                   <ol className={styles.stepsList}>
// // // // // // // // // //                     {steps.map((step, index) => (
// // // // // // // // // //                       <li key={index} className={styles.step}>
// // // // // // // // // //                         {step}
// // // // // // // // // //                       </li>
// // // // // // // // // //                     ))}
// // // // // // // // // //                   </ol>
// // // // // // // // // //                 </div>
// // // // // // // // // //               )}
// // // // // // // // // //             </div>
// // // // // // // // // //           ) : (
// // // // // // // // // //             <div className={styles.examples}>
// // // // // // // // // //               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // // // // // // // // //               <ul className={styles.examplesList}>
// // // // // // // // // //                 <li>2x + 3 = 7</li>
// // // // // // // // // //                 <li>3y - 5 = 2y + 1</li>
// // // // // // // // // //                 <li>5a = 15</li>
// // // // // // // // // //                 <li>2(x + 3) = 10</li>
// // // // // // // // // //                 <li>-3(2y - 1) = 9</li>
// // // // // // // // // //                 <li>4(z - 2) = 2z + 8</li>
// // // // // // // // // //                 <li>1.5x + 2/3 = 4</li>
// // // // // // // // // //                 <li>3/4y - 1/2 = 2y + 1/4</li>
// // // // // // // // // //                 <li>0.25z + 1.5 = 2.75</li>
// // // // // // // // // //               </ul>
// // // // // // // // // //             </div>
// // // // // // // // // //           )}
// // // // // // // // // //         </div>
// // // // // // // // // //       </div>
// // // // // // // // // //     </div>
// // // // // // // // // //   );
// // // // // // // // // // };

// // // // // // // // // // export default LinearEquationSolver;


// // // // // // // // // import { useState } from 'react';
// // // // // // // // // import styles from './LinearEquationSolver.module.css';

// // // // // // // // // const LinearEquationSolver = () => {
// // // // // // // // //   const [equation, setEquation] = useState('');
// // // // // // // // //   const [solution, setSolution] = useState(null);
// // // // // // // // //   const [error, setError] = useState('');
// // // // // // // // //   const [steps, setSteps] = useState([]);
// // // // // // // // //   const [variable, setVariable] = useState('');

// // // // // // // // //   const parseFraction = (str) => {
// // // // // // // // //     if (str.includes('/')) {
// // // // // // // // //       const parts = str.split('/');
// // // // // // // // //       return parseFloat(parts[0]) / parseFloat(parts[1]);
// // // // // // // // //     }
// // // // // // // // //     return parseFloat(str);
// // // // // // // // //   };

// // // // // // // // //   const expandParentheses = (equation) => {
// // // // // // // // //     const pattern = /([+-]?\d*\.?\d*\/?\/?\d*)\(([^)]+)\)/g;
    
// // // // // // // // //     return equation.replace(pattern, (match, coef, inside) => {
// // // // // // // // //       if (coef === '' || coef === '+') coef = '1';
// // // // // // // // //       if (coef === '-') coef = '-1';
      
// // // // // // // // //       const coefficient = parseFraction(coef);
// // // // // // // // //       const insideNormalized = inside.replace(/(?<!^)-/g, '+-');
// // // // // // // // //       const terms = insideNormalized.split('+').filter(term => term !== '');
      
// // // // // // // // //       const expandedTerms = terms.map(term => {
// // // // // // // // //         const termValue = parseFraction(term.replace(/[a-z]/g, '')) || 1;
// // // // // // // // //         const variable = term.match(/[a-z]/);
// // // // // // // // //         const result = coefficient * termValue;
        
// // // // // // // // //         if (variable) {
// // // // // // // // //           return result === 1 ? variable[0] : result === -1 ? `-${variable[0]}` : `${result}${variable[0]}`;
// // // // // // // // //         } else {
// // // // // // // // //           return result.toString();
// // // // // // // // //         }
// // // // // // // // //       });
      
// // // // // // // // //       let result = expandedTerms[0];
// // // // // // // // //       for (let i = 1; i < expandedTerms.length; i++) {
// // // // // // // // //         const term = expandedTerms[i];
// // // // // // // // //         if (term.startsWith('-')) {
// // // // // // // // //           result += term;
// // // // // // // // //         } else {
// // // // // // // // //           result += '+' + term;
// // // // // // // // //         }
// // // // // // // // //       }
      
// // // // // // // // //       return result;
// // // // // // // // //     });
// // // // // // // // //   };

// // // // // // // // //   const parseLinearEquation = (eq) => {
// // // // // // // // //     let cleanEq = eq.replace(/\s+/g, '').toLowerCase();
// // // // // // // // //     cleanEq = expandParentheses(cleanEq);
    
// // // // // // // // //     if (!cleanEq.includes('=')) {
// // // // // // // // //       throw new Error('Equation must contain an equals sign (=)');
// // // // // // // // //     }
    
// // // // // // // // //     const sides = cleanEq.split('=');
// // // // // // // // //     const leftSide = sides[0];
// // // // // // // // //     const rightSide = sides[1];
    
// // // // // // // // //     if (!leftSide || !rightSide) {
// // // // // // // // //       throw new Error('Both sides of the equation must have content');
// // // // // // // // //     }
    
// // // // // // // // //     const variableMatch = cleanEq.match(/[a-z]/);
// // // // // // // // //     if (!variableMatch) {
// // // // // // // // //       throw new Error('No variable found in the equation');
// // // // // // // // //     }
// // // // // // // // //     const variable = variableMatch[0];
    
// // // // // // // // //     const parseExpression = (expr) => {
// // // // // // // // //       let coefficient = 0;
// // // // // // // // //       let constant = 0;
      
// // // // // // // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // // // // // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // // // // // // //       for (let term of terms) {
// // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // //           const pattern = new RegExp(`^([+-]?\\d*\\.?\\d*\/?\/?\d*)${variable}$`);
// // // // // // // // //           const coefMatch = term.match(pattern);
// // // // // // // // //           if (coefMatch) {
// // // // // // // // //             let coef = coefMatch[1];
// // // // // // // // //             if (coef === '' || coef === '+') coef = '1';
// // // // // // // // //             if (coef === '-') coef = '-1';
// // // // // // // // //             coefficient += parseFraction(coef);
// // // // // // // // //           } else {
// // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // //           }
// // // // // // // // //         } else {
// // // // // // // // //           const constMatch = term.match(/^([+-]?\d*\.?\d*\/?\/?\d*)$/);
// // // // // // // // //           if (constMatch) {
// // // // // // // // //             constant += parseFraction(constMatch[1]);
// // // // // // // // //           } else {
// // // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // // //           }
// // // // // // // // //         }
// // // // // // // // //       }
      
// // // // // // // // //       return { coefficient, constant };
// // // // // // // // //     };
    
// // // // // // // // //     const left = parseExpression(leftSide);
// // // // // // // // //     const right = parseExpression(rightSide);
    
// // // // // // // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // // // // // // //     const finalConstant = left.constant - right.constant;
    
// // // // // // // // //     return { 
// // // // // // // // //       coefficient: finalCoeff, 
// // // // // // // // //       constant: finalConstant, 
// // // // // // // // //       variable,
// // // // // // // // //       expandedEquation: cleanEq
// // // // // // // // //     };
// // // // // // // // //   };

// // // // // // // // //   const solveLinearEquation = (coefficient, constant, variable, originalEquation, leftSide, rightSide, expandedEquation) => {
// // // // // // // // //     const solutionSteps = [];
    
// // // // // // // // //     if (coefficient === 0) {
// // // // // // // // //       if (constant === 0) {
// // // // // // // // //         return { 
// // // // // // // // //           solution: 'infinitely many solutions', 
// // // // // // // // //           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
// // // // // // // // //         };
// // // // // // // // //       } else {
// // // // // // // // //         return { 
// // // // // // // // //           solution: 'no solution', 
// // // // // // // // //           steps: [originalEquation, `${constant} = 0`, 'This is never true, so there is no solution'] 
// // // // // // // // //         };
// // // // // // // // //       }
// // // // // // // // //     }
    
// // // // // // // // //     const result = -constant / coefficient;
    
// // // // // // // // //     solutionSteps.push(`Original equation: ${originalEquation}`);
    
// // // // // // // // //     const hasParentheses = originalEquation.includes('(');
    
// // // // // // // // //     if (hasParentheses) {
// // // // // // // // //       const parenthesesMatch = originalEquation.match(/([+-]?\d*\.?\d*\/?\/?\d*)\(([^)]+)\)/);
// // // // // // // // //       if (parenthesesMatch) {
// // // // // // // // //         let coef = parenthesesMatch[1];
// // // // // // // // //         if (coef === '' || coef === '+') coef = '1';
// // // // // // // // //         if (coef === '-') coef = '-1';
// // // // // // // // //         const insideTerms = parenthesesMatch[2];
        
// // // // // // // // //         solutionSteps.push(`Expand parentheses using distributive property: ${coef}(${insideTerms}) = ${expandedEquation}`);
// // // // // // // // //       } else {
// // // // // // // // //         solutionSteps.push(`Expand parentheses: ${expandedEquation}`);
// // // // // // // // //       }
      
// // // // // // // // //       const expSides = expandedEquation.split('=');
// // // // // // // // //       const expLeft = expSides[0];
// // // // // // // // //       const expRight = expSides[1];
// // // // // // // // //       const expLeftTerms = expLeft.match(/[+-]?[^+-]+/g) || [];
// // // // // // // // //       const expRightTerms = expRight.match(/[+-]?[^+-]+/g) || [];
      
// // // // // // // // //       let constantTermsLeft = [];
// // // // // // // // //       let variableTermsRight = [];
      
// // // // // // // // //       expLeftTerms.forEach(term => {
// // // // // // // // //         if (!term.includes(variable)) {
// // // // // // // // //           constantTermsLeft.push(term);
// // // // // // // // //         }
// // // // // // // // //       });
      
// // // // // // // // //       expRightTerms.forEach(term => {
// // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // //           variableTermsRight.push(term);
// // // // // // // // //         }
// // // // // // // // //       });
      
// // // // // // // // //       if (variableTermsRight.length > 0) {
// // // // // // // // //         const termToMove = variableTermsRight[0];
// // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move variables to left side`);
// // // // // // // // //       }
      
// // // // // // // // //       if (constantTermsLeft.length > 0) {
// // // // // // // // //         const termToMove = constantTermsLeft[0];
// // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move constants to right side`);
// // // // // // // // //       }
      
// // // // // // // // //       solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
      
// // // // // // // // //     } else {
// // // // // // // // //       const leftTerms = leftSide.match(/[+-]?[^+-]+/g) || [];
// // // // // // // // //       const rightTerms = rightSide.match(/[+-]?[^+-]+/g) || [];
      
// // // // // // // // //       let variableTermsLeft = [];
// // // // // // // // //       let constantTermsLeft = [];
// // // // // // // // //       let variableTermsRight = [];
      
// // // // // // // // //       leftTerms.forEach(term => {
// // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // //           variableTermsLeft.push(term);
// // // // // // // // //         } else {
// // // // // // // // //           constantTermsLeft.push(term);
// // // // // // // // //         }
// // // // // // // // //       });
      
// // // // // // // // //       rightTerms.forEach(term => {
// // // // // // // // //         if (term.includes(variable)) {
// // // // // // // // //           variableTermsRight.push(term);
// // // // // // // // //         }
// // // // // // // // //       });
      
// // // // // // // // //       if (constantTermsLeft.length > 0) {
// // // // // // // // //         const termToMove = constantTermsLeft[0];
// // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the right`);
// // // // // // // // //       }
      
// // // // // // // // //       if (variableTermsRight.length > 0) {
// // // // // // // // //         const termToMove = variableTermsRight[0];
// // // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
// // // // // // // // //       }
      
// // // // // // // // //       solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
// // // // // // // // //     }
    
// // // // // // // // //     solutionSteps.push(`Divide both sides by ${coefficient}: ${variable} = ${-constant}/${coefficient}`);
// // // // // // // // //     solutionSteps.push(`Solution: ${variable} = ${result}`);
    
// // // // // // // // //     return { solution: result, steps: solutionSteps };
// // // // // // // // //   };

// // // // // // // // //   const handleSolve = () => {
// // // // // // // // //     try {
// // // // // // // // //       setError('');
// // // // // // // // //       setSolution(null);
// // // // // // // // //       setSteps([]);
// // // // // // // // //       setVariable('');
      
// // // // // // // // //       if (!equation.trim()) {
// // // // // // // // //         setError('Please enter an equation');
// // // // // // // // //         return;
// // // // // // // // //       }
      
// // // // // // // // //       const parsed = parseLinearEquation(equation);
// // // // // // // // //       const sides = equation.split('=');
// // // // // // // // //       const leftSide = sides[0].trim();
// // // // // // // // //       const rightSide = sides[1].trim();
// // // // // // // // //       const result = solveLinearEquation(
// // // // // // // // //         parsed.coefficient, 
// // // // // // // // //         parsed.constant, 
// // // // // // // // //         parsed.variable, 
// // // // // // // // //         equation, 
// // // // // // // // //         leftSide, 
// // // // // // // // //         rightSide,
// // // // // // // // //         parsed.expandedEquation
// // // // // // // // //       );
      
// // // // // // // // //       setVariable(parsed.variable);
// // // // // // // // //       setSolution(result.solution);
// // // // // // // // //       setSteps(result.steps);
      
// // // // // // // // //     } catch (err) {
// // // // // // // // //       setError(err.message);
// // // // // // // // //       setSolution(null);
// // // // // // // // //       setSteps([]);
// // // // // // // // //       setVariable('');
// // // // // // // // //     }
// // // // // // // // //   };

// // // // // // // // //   const handleClear = () => {
// // // // // // // // //     setEquation('');
// // // // // // // // //     setSolution(null);
// // // // // // // // //     setError('');
// // // // // // // // //     setSteps([]);
// // // // // // // // //     setVariable('');
// // // // // // // // //   };

// // // // // // // // //   const handleKeyDown = (e) => {
// // // // // // // // //     if (e.key === 'Enter') {
// // // // // // // // //       handleSolve();
// // // // // // // // //     } else if (e.key === 'Escape') {
// // // // // // // // //       handleClear();
// // // // // // // // //     }
// // // // // // // // //   };

// // // // // // // // //   return (
// // // // // // // // //     <div className={styles.container}>
// // // // // // // // //       <div className={styles.mainLayout}>
// // // // // // // // //         <div className={styles.leftPanel}>
// // // // // // // // //           <div className={styles.inputSection}>
// // // // // // // // //             <label className={styles.label}>
// // // // // // // // //               Enter your linear equation with any variable:
// // // // // // // // //             </label>
// // // // // // // // //             <input
// // // // // // // // //               type="text"
// // // // // // // // //               value={equation}
// // // // // // // // //               onChange={(e) => setEquation(e.target.value)}
// // // // // // // // //               placeholder="Enter equation like: 2x + 3 = 7, 2(x + 3) = 10, or 1.5x + 2/3 = 4"
// // // // // // // // //               className={styles.input}
// // // // // // // // //               onKeyDown={handleKeyDown}
// // // // // // // // //             />
// // // // // // // // //             <div className={styles.buttonGroup}>
// // // // // // // // //               <button onClick={handleSolve} className={styles.solveButton}>
// // // // // // // // //                 Solve
// // // // // // // // //               </button>
// // // // // // // // //               <button onClick={handleClear} className={styles.clearButton}>
// // // // // // // // //                 Clear
// // // // // // // // //               </button>
// // // // // // // // //             </div>
// // // // // // // // //           </div>

// // // // // // // // //           {error && (
// // // // // // // // //             <div className={styles.error}>
// // // // // // // // //               <strong>Error:</strong> {error}
// // // // // // // // //             </div>
// // // // // // // // //           )}
// // // // // // // // //         </div>

// // // // // // // // //         <div className={styles.rightPanel}>
// // // // // // // // //           {solution !== null ? (
// // // // // // // // //             <div className={styles.solutionSection}>
// // // // // // // // //               <h2 className={styles.solutionTitle}>Solution</h2>
// // // // // // // // //               <div className={styles.solution}>
// // // // // // // // //                 {typeof solution === 'string' ? solution : `${variable} = ${solution}`}
// // // // // // // // //               </div>
              
// // // // // // // // //               {steps.length > 0 && (
// // // // // // // // //                 <div className={styles.stepsSection}>
// // // // // // // // //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // // // // // // //                   <ol className={styles.stepsList}>
// // // // // // // // //                     {steps.map((step, index) => (
// // // // // // // // //                       <li key={index} className={styles.step}>
// // // // // // // // //                         {step}
// // // // // // // // //                       </li>
// // // // // // // // //                     ))}
// // // // // // // // //                   </ol>
// // // // // // // // //                 </div>
// // // // // // // // //               )}
// // // // // // // // //             </div>
// // // // // // // // //           ) : (
// // // // // // // // //             <div className={styles.examples}>
// // // // // // // // //               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // // // // // // // //               <ul className={styles.examplesList}>
// // // // // // // // //                 <li>2x + 3 = 7</li>
// // // // // // // // //                 <li>3y - 5 = 2y + 1</li>
// // // // // // // // //                 <li>5a = 15</li>
// // // // // // // // //                 <li>2(x + 3) = 10</li>
// // // // // // // // //                 <li>-3(2y - 1) = 9</li>
// // // // // // // // //                 <li>4(z - 2) = 2z + 8</li>
// // // // // // // // //                 <li>1.5x + 2/3 = 4</li>
// // // // // // // // //                 <li>3/4y - 1/2 = 2y + 1/4</li>
// // // // // // // // //                 <li>0.25z + 1.5 = 2.75</li>
// // // // // // // // //               </ul>
// // // // // // // // //             </div>
// // // // // // // // //           )}
// // // // // // // // //         </div>
// // // // // // // // //       </div>
// // // // // // // // //     </div>
// // // // // // // // //   );
// // // // // // // // // };

// // // // // // // // // export default LinearEquationSolver;


// // // // // // // // import { useState } from 'react';
// // // // // // // // import styles from './LinearEquationSolver.module.css';

// // // // // // // // const LinearEquationSolver = () => {
// // // // // // // //   const [equation, setEquation] = useState('');
// // // // // // // //   const [solution, setSolution] = useState(null);
// // // // // // // //   const [error, setError] = useState('');
// // // // // // // //   const [steps, setSteps] = useState([]);
// // // // // // // //   const [variable, setVariable] = useState('');

// // // // // // // //   const parseFraction = (str) => {
// // // // // // // //     if (str.includes('/')) {
// // // // // // // //       const parts = str.split('/');
// // // // // // // //       return parseFloat(parts[0]) / parseFloat(parts[1]);
// // // // // // // //     }
// // // // // // // //     return parseFloat(str);
// // // // // // // //   };

// // // // // // // //   const expandParentheses = (equation) => {
// // // // // // // //     const pattern = /([+-]?\d*\.?\d*\/?\/?\d*)\(([^)]+)\)/g;
    
// // // // // // // //     return equation.replace(pattern, (match, coef, inside) => {
// // // // // // // //       if (coef === '' || coef === '+') coef = '1';
// // // // // // // //       if (coef === '-') coef = '-1';
      
// // // // // // // //       const coefficient = parseFraction(coef);
// // // // // // // //       const insideNormalized = inside.replace(/(?<!^)-/g, '+-');
// // // // // // // //       const terms = insideNormalized.split('+').filter(term => term !== '');
      
// // // // // // // //       const expandedTerms = terms.map(term => {
// // // // // // // //         const termValue = parseFraction(term.replace(/[a-z]/g, '')) || 1;
// // // // // // // //         const variable = term.match(/[a-z]/);
// // // // // // // //         const result = coefficient * termValue;
        
// // // // // // // //         if (variable) {
// // // // // // // //           return result === 1 ? variable[0] : result === -1 ? `-${variable[0]}` : `${result}${variable[0]}`;
// // // // // // // //         } else {
// // // // // // // //           return result.toString();
// // // // // // // //         }
// // // // // // // //       });
      
// // // // // // // //       let result = expandedTerms[0];
// // // // // // // //       for (let i = 1; i < expandedTerms.length; i++) {
// // // // // // // //         const term = expandedTerms[i];
// // // // // // // //         if (term.startsWith('-')) {
// // // // // // // //           result += term;
// // // // // // // //         } else {
// // // // // // // //           result += '+' + term;
// // // // // // // //         }
// // // // // // // //       }
      
// // // // // // // //       return result;
// // // // // // // //     });
// // // // // // // //   };

// // // // // // // //   const parseLinearEquation = (eq) => {
// // // // // // // //     let cleanEq = eq.replace(/\s+/g, '').toLowerCase();
// // // // // // // //     cleanEq = expandParentheses(cleanEq);
    
// // // // // // // //     if (!cleanEq.includes('=')) {
// // // // // // // //       throw new Error('Equation must contain an equals sign (=)');
// // // // // // // //     }
    
// // // // // // // //     const sides = cleanEq.split('=');
// // // // // // // //     const leftSide = sides[0];
// // // // // // // //     const rightSide = sides[1];
    
// // // // // // // //     if (!leftSide || !rightSide) {
// // // // // // // //       throw new Error('Both sides of the equation must have content');
// // // // // // // //     }
    
// // // // // // // //     const variableMatch = cleanEq.match(/[a-z]/);
// // // // // // // //     if (!variableMatch) {
// // // // // // // //       throw new Error('No variable found in the equation');
// // // // // // // //     }
// // // // // // // //     const variable = variableMatch[0];
    
// // // // // // // //     const parseExpression = (expr) => {
// // // // // // // //       let coefficient = 0;
// // // // // // // //       let constant = 0;
      
// // // // // // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // // // // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // // // // // //       for (let term of terms) {
// // // // // // // //         if (term.includes(variable)) {
// // // // // // // //           const pattern = new RegExp(`^([+-]?\\d*\\.?\\d*\/?\/?\d*)${variable}$`);
// // // // // // // //           const coefMatch = term.match(pattern);
// // // // // // // //           if (coefMatch) {
// // // // // // // //             let coef = coefMatch[1];
// // // // // // // //             if (coef === '' || coef === '+') coef = '1';
// // // // // // // //             if (coef === '-') coef = '-1';
// // // // // // // //             coefficient += parseFraction(coef);
// // // // // // // //           } else {
// // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // //           }
// // // // // // // //         } else {
// // // // // // // //           const constMatch = term.match(/^([+-]?\d*\.?\d*\/?\/?\d*)$/);
// // // // // // // //           if (constMatch) {
// // // // // // // //             constant += parseFraction(constMatch[1]);
// // // // // // // //           } else {
// // // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // // //           }
// // // // // // // //         }
// // // // // // // //       }
      
// // // // // // // //       return { coefficient, constant };
// // // // // // // //     };
    
// // // // // // // //     const left = parseExpression(leftSide);
// // // // // // // //     const right = parseExpression(rightSide);
    
// // // // // // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // // // // // //     const finalConstant = left.constant - right.constant;
    
// // // // // // // //     return { 
// // // // // // // //       coefficient: finalCoeff, 
// // // // // // // //       constant: finalConstant, 
// // // // // // // //       variable,
// // // // // // // //       expandedEquation: cleanEq
// // // // // // // //     };
// // // // // // // //   };

// // // // // // // //   const solveLinearEquation = (coefficient, constant, variable, originalEquation, leftSide, rightSide, expandedEquation) => {
// // // // // // // //     const solutionSteps = [];
    
// // // // // // // //     if (coefficient === 0) {
// // // // // // // //       if (constant === 0) {
// // // // // // // //         return { 
// // // // // // // //           solution: 'infinitely many solutions', 
// // // // // // // //           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
// // // // // // // //         };
// // // // // // // //       } else {
// // // // // // // //         return { 
// // // // // // // //           solution: 'no solution', 
// // // // // // // //           steps: [originalEquation, `${constant} = 0`, 'This is never true, so there is no solution'] 
// // // // // // // //         };
// // // // // // // //       }
// // // // // // // //     }
    
// // // // // // // //     const result = -constant / coefficient;
    
// // // // // // // //     solutionSteps.push(`Original equation: ${originalEquation}`);
    
// // // // // // // //     const hasParentheses = originalEquation.includes('(');
    
// // // // // // // //     if (hasParentheses) {
// // // // // // // //       const parenthesesMatch = originalEquation.match(/([+-]?\d*\.?\d*\/?\/?\d*)\(([^)]+)\)/);
// // // // // // // //       if (parenthesesMatch) {
// // // // // // // //         let coef = parenthesesMatch[1];
// // // // // // // //         if (coef === '' || coef === '+') coef = '1';
// // // // // // // //         if (coef === '-') coef = '-1';
// // // // // // // //         const insideTerms = parenthesesMatch[2];
        
// // // // // // // //         solutionSteps.push(`Expand parentheses using distributive property: ${coef}(${insideTerms}) = ${expandedEquation}`);
// // // // // // // //       } else {
// // // // // // // //         solutionSteps.push(`Expand parentheses: ${expandedEquation}`);
// // // // // // // //       }
      
// // // // // // // //       const expSides = expandedEquation.split('=');
// // // // // // // //       const expLeft = expSides[0];
// // // // // // // //       const expRight = expSides[1];
// // // // // // // //       const expLeftTerms = expLeft.match(/[+-]?[^+-]+/g) || [];
// // // // // // // //       const expRightTerms = expRight.match(/[+-]?[^+-]+/g) || [];
      
// // // // // // // //       let constantTermsLeft = [];
// // // // // // // //       let variableTermsRight = [];
      
// // // // // // // //       expLeftTerms.forEach(term => {
// // // // // // // //         if (!term.includes(variable)) {
// // // // // // // //           constantTermsLeft.push(term);
// // // // // // // //         }
// // // // // // // //       });
      
// // // // // // // //       expRightTerms.forEach(term => {
// // // // // // // //         if (term.includes(variable)) {
// // // // // // // //           variableTermsRight.push(term);
// // // // // // // //         }
// // // // // // // //       });
      
// // // // // // // //       if (variableTermsRight.length > 0) {
// // // // // // // //         const termToMove = variableTermsRight[0];
// // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move variables to left side`);
// // // // // // // //       }
      
// // // // // // // //       if (constantTermsLeft.length > 0) {
// // // // // // // //         const termToMove = constantTermsLeft[0];
// // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move constants to right side`);
// // // // // // // //       }
      
// // // // // // // //       solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
      
// // // // // // // //     } else {
// // // // // // // //       const leftTerms = leftSide.match(/[+-]?[^+-]+/g) || [];
// // // // // // // //       const rightTerms = rightSide.match(/[+-]?[^+-]+/g) || [];
      
// // // // // // // //       let variableTermsLeft = [];
// // // // // // // //       let constantTermsLeft = [];
// // // // // // // //       let variableTermsRight = [];
      
// // // // // // // //       leftTerms.forEach(term => {
// // // // // // // //         if (term.includes(variable)) {
// // // // // // // //           variableTermsLeft.push(term);
// // // // // // // //         } else {
// // // // // // // //           constantTermsLeft.push(term);
// // // // // // // //         }
// // // // // // // //       });
      
// // // // // // // //       rightTerms.forEach(term => {
// // // // // // // //         if (term.includes(variable)) {
// // // // // // // //           variableTermsRight.push(term);
// // // // // // // //         }
// // // // // // // //       });
      
// // // // // // // //       if (constantTermsLeft.length > 0) {
// // // // // // // //         const termToMove = constantTermsLeft[0];
// // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the right`);
// // // // // // // //       }
      
// // // // // // // //       if (variableTermsRight.length > 0) {
// // // // // // // //         const termToMove = variableTermsRight[0];
// // // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
// // // // // // // //       }
      
// // // // // // // //       solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
// // // // // // // //     }
    
// // // // // // // //     solutionSteps.push(`Divide both sides by ${coefficient}: ${variable} = ${-constant}/${coefficient}`);
// // // // // // // //     solutionSteps.push(`Solution: ${variable} = ${result}`);
    
// // // // // // // //     return { solution: result, steps: solutionSteps };
// // // // // // // //   };

// // // // // // // //   const handleSolve = () => {
// // // // // // // //     try {
// // // // // // // //       setError('');
// // // // // // // //       setSolution(null);
// // // // // // // //       setSteps([]);
// // // // // // // //       setVariable('');
      
// // // // // // // //       if (!equation.trim()) {
// // // // // // // //         setError('Please enter an equation');
// // // // // // // //         return;
// // // // // // // //       }
      
// // // // // // // //       const parsed = parseLinearEquation(equation);
// // // // // // // //       const sides = equation.split('=');
// // // // // // // //       const leftSide = sides[0].trim();
// // // // // // // //       const rightSide = sides[1].trim();
// // // // // // // //       const result = solveLinearEquation(
// // // // // // // //         parsed.coefficient, 
// // // // // // // //         parsed.constant, 
// // // // // // // //         parsed.variable, 
// // // // // // // //         equation, 
// // // // // // // //         leftSide, 
// // // // // // // //         rightSide,
// // // // // // // //         parsed.expandedEquation
// // // // // // // //       );
      
// // // // // // // //       setVariable(parsed.variable);
// // // // // // // //       setSolution(result.solution);
// // // // // // // //       setSteps(result.steps);
      
// // // // // // // //     } catch (err) {
// // // // // // // //       setError(err.message);
// // // // // // // //       setSolution(null);
// // // // // // // //       setSteps([]);
// // // // // // // //       setVariable('');
// // // // // // // //     }
// // // // // // // //   };

// // // // // // // //   const handleClear = () => {
// // // // // // // //     setEquation('');
// // // // // // // //     setSolution(null);
// // // // // // // //     setError('');
// // // // // // // //     setSteps([]);
// // // // // // // //     setVariable('');
// // // // // // // //   };

// // // // // // // //   const handleKeyDown = (e) => {
// // // // // // // //     if (e.key === 'Enter') {
// // // // // // // //       handleSolve();
// // // // // // // //     } else if (e.key === 'Escape') {
// // // // // // // //       handleClear();
// // // // // // // //     }
// // // // // // // //   };

// // // // // // // //   return (
// // // // // // // //     <div className={styles.container}>
// // // // // // // //       <div className={styles.mainLayout}>
// // // // // // // //         <div className={styles.leftPanel}>
// // // // // // // //           <div className={styles.inputSection}>
// // // // // // // //             <label className={styles.label}>
// // // // // // // //               Enter your linear equation with any variable (Press Enter to solve, Escape to clear):
// // // // // // // //             </label>
// // // // // // // //             <input
// // // // // // // //               type="text"
// // // // // // // //               value={equation}
// // // // // // // //               onChange={(e) => setEquation(e.target.value)}
// // // // // // // //               placeholder="Enter equation like: 2x + 3 = 7, 2(x + 3) = 10, or 1.5x + 2/3 = 4"
// // // // // // // //               className={styles.input}
// // // // // // // //               onKeyDown={handleKeyDown}
// // // // // // // //             />
// // // // // // // //             <div className={styles.buttonGroup}>
// // // // // // // //               <button onClick={handleSolve} className={styles.solveButton}>
// // // // // // // //                 Solve
// // // // // // // //               </button>
// // // // // // // //               <button onClick={handleClear} className={styles.clearButton}>
// // // // // // // //                 Clear
// // // // // // // //               </button>
// // // // // // // //             </div>
// // // // // // // //           </div>

// // // // // // // //           {error && (
// // // // // // // //             <div className={styles.error}>
// // // // // // // //               <strong>Error:</strong> {error}
// // // // // // // //             </div>
// // // // // // // //           )}
// // // // // // // //         </div>

// // // // // // // //         <div className={styles.rightPanel}>
// // // // // // // //           {solution !== null ? (
// // // // // // // //             <div className={styles.solutionSection}>
// // // // // // // //               <h2 className={styles.solutionTitle}>Solution</h2>
// // // // // // // //               <div className={styles.solution}>
// // // // // // // //                 {typeof solution === 'string' ? solution : `${variable} = ${solution}`}
// // // // // // // //               </div>
              
// // // // // // // //               {steps.length > 0 && (
// // // // // // // //                 <div className={styles.stepsSection}>
// // // // // // // //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // // // // // //                   <ol className={styles.stepsList}>
// // // // // // // //                     {steps.map((step, index) => (
// // // // // // // //                       <li key={index} className={styles.step}>
// // // // // // // //                         {step}
// // // // // // // //                       </li>
// // // // // // // //                     ))}
// // // // // // // //                   </ol>
// // // // // // // //                 </div>
// // // // // // // //               )}
// // // // // // // //             </div>
// // // // // // // //           ) : (
// // // // // // // //             <div className={styles.examples}>
// // // // // // // //               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // // // // // // //               <ul className={styles.examplesList}>
// // // // // // // //                 <li>2x + 3 = 7</li>
// // // // // // // //                 <li>3y - 5 = 2y + 1</li>
// // // // // // // //                 <li>5a = 15</li>
// // // // // // // //                 <li>2(x + 3) = 10</li>
// // // // // // // //                 <li>-3(2y - 1) = 9</li>
// // // // // // // //                 <li>4(z - 2) = 2z + 8</li>
// // // // // // // //                 <li>1.5x + 2/3 = 4</li>
// // // // // // // //                 <li>3/4y - 1/2 = 2y + 1/4</li>
// // // // // // // //                 <li>0.25z + 1.5 = 2.75</li>
// // // // // // // //               </ul>
// // // // // // // //             </div>
// // // // // // // //           )}
// // // // // // // //         </div>
// // // // // // // //       </div>
// // // // // // // //     </div>
// // // // // // // //   );
// // // // // // // // };

// // // // // // // // export default LinearEquationSolver;


// // // // // // // import { useState } from 'react';
// // // // // // // import styles from './LinearEquationSolver.module.css';

// // // // // // // const LinearEquationSolver = () => {
// // // // // // //   const [equation, setEquation] = useState('');
// // // // // // //   const [solution, setSolution] = useState(null);
// // // // // // //   const [error, setError] = useState('');
// // // // // // //   const [steps, setSteps] = useState([]);
// // // // // // //   const [variable, setVariable] = useState('');

// // // // // // //   const parseFraction = (str) => {
// // // // // // //     if (str.includes('/')) {
// // // // // // //       const parts = str.split('/');
// // // // // // //       return parseFloat(parts[0]) / parseFloat(parts[1]);
// // // // // // //     }
// // // // // // //     return parseFloat(str);
// // // // // // //   };

// // // // // // //   const expandParentheses = (equation) => {
// // // // // // //     const pattern = /([+-]?\d*\.?\d*\/?\/?\d*)\(([^)]+)\)/g;
    
// // // // // // //     return equation.replace(pattern, (match, coef, inside) => {
// // // // // // //       if (coef === '' || coef === '+') coef = '1';
// // // // // // //       if (coef === '-') coef = '-1';
      
// // // // // // //       const coefficient = parseFraction(coef);
// // // // // // //       const insideNormalized = inside.replace(/(?<!^)-/g, '+-');
// // // // // // //       const terms = insideNormalized.split('+').filter(term => term !== '');
      
// // // // // // //       const expandedTerms = terms.map(term => {
// // // // // // //         const termValue = parseFraction(term.replace(/[a-z]/g, '')) || 1;
// // // // // // //         const variable = term.match(/[a-z]/);
// // // // // // //         const result = coefficient * termValue;
        
// // // // // // //         if (variable) {
// // // // // // //           return result === 1 ? variable[0] : result === -1 ? `-${variable[0]}` : `${result}${variable[0]}`;
// // // // // // //         } else {
// // // // // // //           return result.toString();
// // // // // // //         }
// // // // // // //       });
      
// // // // // // //       let result = expandedTerms[0];
// // // // // // //       for (let i = 1; i < expandedTerms.length; i++) {
// // // // // // //         const term = expandedTerms[i];
// // // // // // //         if (term.startsWith('-')) {
// // // // // // //           result += term;
// // // // // // //         } else {
// // // // // // //           result += '+' + term;
// // // // // // //         }
// // // // // // //       }
      
// // // // // // //       return result;
// // // // // // //     });
// // // // // // //   };

// // // // // // //   const parseLinearEquation = (eq) => {
// // // // // // //     let cleanEq = eq.replace(/\s+/g, '').toLowerCase();
// // // // // // //     cleanEq = expandParentheses(cleanEq);
    
// // // // // // //     if (!cleanEq.includes('=')) {
// // // // // // //       throw new Error('Equation must contain an equals sign (=)');
// // // // // // //     }
    
// // // // // // //     const sides = cleanEq.split('=');
// // // // // // //     const leftSide = sides[0];
// // // // // // //     const rightSide = sides[1];
    
// // // // // // //     if (!leftSide || !rightSide) {
// // // // // // //       throw new Error('Both sides of the equation must have content');
// // // // // // //     }
    
// // // // // // //     const variableMatch = cleanEq.match(/[a-z]/);
// // // // // // //     if (!variableMatch) {
// // // // // // //       throw new Error('No variable found in the equation');
// // // // // // //     }
// // // // // // //     const variable = variableMatch[0];
    
// // // // // // //     const parseExpression = (expr) => {
// // // // // // //       let coefficient = 0;
// // // // // // //       let constant = 0;
      
// // // // // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // // // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // // // // //       for (let term of terms) {
// // // // // // //         if (term.includes(variable)) {
// // // // // // //           const pattern = new RegExp(`^([+-]?\\d*\\.?\\d*\/?\/?\d*)${variable}$`);
// // // // // // //           const coefMatch = term.match(pattern);
// // // // // // //           if (coefMatch) {
// // // // // // //             let coef = coefMatch[1];
// // // // // // //             if (coef === '' || coef === '+') coef = '1';
// // // // // // //             if (coef === '-') coef = '-1';
// // // // // // //             coefficient += parseFraction(coef);
// // // // // // //           } else {
// // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // //           }
// // // // // // //         } else {
// // // // // // //           const constMatch = term.match(/^([+-]?\d*\.?\d*\/?\/?\d*)$/);
// // // // // // //           if (constMatch) {
// // // // // // //             constant += parseFraction(constMatch[1]);
// // // // // // //           } else {
// // // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // // //           }
// // // // // // //         }
// // // // // // //       }
      
// // // // // // //       return { coefficient, constant };
// // // // // // //     };
    
// // // // // // //     const left = parseExpression(leftSide);
// // // // // // //     const right = parseExpression(rightSide);
    
// // // // // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // // // // //     const finalConstant = left.constant - right.constant;
    
// // // // // // //     return { 
// // // // // // //       coefficient: finalCoeff, 
// // // // // // //       constant: finalConstant, 
// // // // // // //       variable,
// // // // // // //       expandedEquation: cleanEq
// // // // // // //     };
// // // // // // //   };

// // // // // // //   const solveLinearEquation = (coefficient, constant, variable, originalEquation, leftSide, rightSide, expandedEquation) => {
// // // // // // //     const solutionSteps = [];
    
// // // // // // //     if (coefficient === 0) {
// // // // // // //       if (constant === 0) {
// // // // // // //         return { 
// // // // // // //           solution: 'infinitely many solutions', 
// // // // // // //           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
// // // // // // //         };
// // // // // // //       } else {
// // // // // // //         return { 
// // // // // // //           solution: 'no solution', 
// // // // // // //           steps: [originalEquation, `${constant} = 0`, 'This is never true, so there is no solution'] 
// // // // // // //         };
// // // // // // //       }
// // // // // // //     }
    
// // // // // // //     const result = -constant / coefficient;
    
// // // // // // //     solutionSteps.push(`Original equation: ${originalEquation}`);
    
// // // // // // //     const hasParentheses = originalEquation.includes('(');
    
// // // // // // //     if (hasParentheses) {
// // // // // // //       const parenthesesMatch = originalEquation.match(/([+-]?\d*\.?\d*\/?\/?\d*)\(([^)]+)\)/);
// // // // // // //       if (parenthesesMatch) {
// // // // // // //         let coef = parenthesesMatch[1];
// // // // // // //         if (coef === '' || coef === '+') coef = '1';
// // // // // // //         if (coef === '-') coef = '-1';
// // // // // // //         const insideTerms = parenthesesMatch[2];
        
// // // // // // //         solutionSteps.push(`Expand parentheses using distributive property: ${coef}(${insideTerms}) = ${expandedEquation}`);
// // // // // // //       } else {
// // // // // // //         solutionSteps.push(`Expand parentheses: ${expandedEquation}`);
// // // // // // //       }
      
// // // // // // //       const expSides = expandedEquation.split('=');
// // // // // // //       const expLeft = expSides[0];
// // // // // // //       const expRight = expSides[1];
// // // // // // //       const expLeftTerms = expLeft.match(/[+-]?[^+-]+/g) || [];
// // // // // // //       const expRightTerms = expRight.match(/[+-]?[^+-]+/g) || [];
      
// // // // // // //       let constantTermsLeft = [];
// // // // // // //       let variableTermsRight = [];
      
// // // // // // //       expLeftTerms.forEach(term => {
// // // // // // //         if (!term.includes(variable)) {
// // // // // // //           constantTermsLeft.push(term);
// // // // // // //         }
// // // // // // //       });
      
// // // // // // //       expRightTerms.forEach(term => {
// // // // // // //         if (term.includes(variable)) {
// // // // // // //           variableTermsRight.push(term);
// // // // // // //         }
// // // // // // //       });
      
// // // // // // //       if (variableTermsRight.length > 0) {
// // // // // // //         const termToMove = variableTermsRight[0];
// // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move variables to left side`);
// // // // // // //       }
      
// // // // // // //       if (constantTermsLeft.length > 0) {
// // // // // // //         const termToMove = constantTermsLeft[0];
// // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move constants to right side`);
// // // // // // //       }
      
// // // // // // //       solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
      
// // // // // // //     } else {
// // // // // // //       const leftTerms = leftSide.match(/[+-]?[^+-]+/g) || [];
// // // // // // //       const rightTerms = rightSide.match(/[+-]?[^+-]+/g) || [];
      
// // // // // // //       let variableTermsLeft = [];
// // // // // // //       let constantTermsLeft = [];
// // // // // // //       let variableTermsRight = [];
      
// // // // // // //       leftTerms.forEach(term => {
// // // // // // //         if (term.includes(variable)) {
// // // // // // //           variableTermsLeft.push(term);
// // // // // // //         } else {
// // // // // // //           constantTermsLeft.push(term);
// // // // // // //         }
// // // // // // //       });
      
// // // // // // //       rightTerms.forEach(term => {
// // // // // // //         if (term.includes(variable)) {
// // // // // // //           variableTermsRight.push(term);
// // // // // // //         }
// // // // // // //       });
      
// // // // // // //       if (constantTermsLeft.length > 0) {
// // // // // // //         const termToMove = constantTermsLeft[0];
// // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the right`);
// // // // // // //       }
      
// // // // // // //       if (variableTermsRight.length > 0) {
// // // // // // //         const termToMove = variableTermsRight[0];
// // // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
// // // // // // //       }
      
// // // // // // //       solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
// // // // // // //     }
    
// // // // // // //     solutionSteps.push(`Divide both sides by ${coefficient}: ${variable} = ${-constant}/${coefficient}`);
// // // // // // //     solutionSteps.push(`Solution: ${variable} = ${result}`);
    
// // // // // // //     return { solution: result, steps: solutionSteps };
// // // // // // //   };

// // // // // // //   const handleSolve = () => {
// // // // // // //     try {
// // // // // // //       setError('');
// // // // // // //       setSolution(null);
// // // // // // //       setSteps([]);
// // // // // // //       setVariable('');
      
// // // // // // //       if (!equation.trim()) {
// // // // // // //         setError('Please enter an equation');
// // // // // // //         return;
// // // // // // //       }
      
// // // // // // //       const parsed = parseLinearEquation(equation);
// // // // // // //       const sides = equation.split('=');
// // // // // // //       const leftSide = sides[0].trim();
// // // // // // //       const rightSide = sides[1].trim();
// // // // // // //       const result = solveLinearEquation(
// // // // // // //         parsed.coefficient, 
// // // // // // //         parsed.constant, 
// // // // // // //         parsed.variable, 
// // // // // // //         equation, 
// // // // // // //         leftSide, 
// // // // // // //         rightSide,
// // // // // // //         parsed.expandedEquation
// // // // // // //       );
      
// // // // // // //       setVariable(parsed.variable);
// // // // // // //       setSolution(result.solution);
// // // // // // //       setSteps(result.steps);
      
// // // // // // //     } catch (err) {
// // // // // // //       setError(err.message);
// // // // // // //       setSolution(null);
// // // // // // //       setSteps([]);
// // // // // // //       setVariable('');
// // // // // // //     }
// // // // // // //   };

// // // // // // //   const handleClear = () => {
// // // // // // //     setEquation('');
// // // // // // //     setSolution(null);
// // // // // // //     setError('');
// // // // // // //     setSteps([]);
// // // // // // //     setVariable('');
// // // // // // //   };

// // // // // // //   const handleKeyDown = (e) => {
// // // // // // //     if (e.key === 'Enter') {
// // // // // // //       handleSolve();
// // // // // // //     } else if (e.key === 'Escape') {
// // // // // // //       handleClear();
// // // // // // //     }
// // // // // // //   };

// // // // // // //   const handleExampleClick = (exampleEquation) => {
// // // // // // //     setEquation(exampleEquation);
// // // // // // //     setError('');
// // // // // // //     setSolution(null);
// // // // // // //     setSteps([]);
// // // // // // //     setVariable('');
// // // // // // //   };

// // // // // // //   return (
// // // // // // //     <div className={styles.container}>
// // // // // // //       <div className={styles.mainLayout}>
// // // // // // //         <div className={styles.leftPanel}>
// // // // // // //           <div className={styles.inputSection}>
// // // // // // //             <label className={styles.label}>
// // // // // // //               Enter your linear equation with any variable (Press Enter to solve, Escape to clear):
// // // // // // //             </label>
// // // // // // //             <input
// // // // // // //               type="text"
// // // // // // //               value={equation}
// // // // // // //               onChange={(e) => setEquation(e.target.value)}
// // // // // // //               placeholder="Enter equation like: 2x + 3 = 7, 2(x + 3) = 10, or 1.5x + 2/3 = 4"
// // // // // // //               className={styles.input}
// // // // // // //               onKeyDown={handleKeyDown}
// // // // // // //             />
// // // // // // //             <div className={styles.buttonGroup}>
// // // // // // //               <button onClick={handleSolve} className={styles.solveButton}>
// // // // // // //                 Solve
// // // // // // //               </button>
// // // // // // //               <button onClick={handleClear} className={styles.clearButton}>
// // // // // // //                 Clear
// // // // // // //               </button>
// // // // // // //             </div>
// // // // // // //           </div>

// // // // // // //           {error && (
// // // // // // //             <div className={styles.error}>
// // // // // // //               <strong>Error:</strong> {error}
// // // // // // //             </div>
// // // // // // //           )}
// // // // // // //         </div>

// // // // // // //         <div className={styles.rightPanel}>
// // // // // // //           {solution !== null ? (
// // // // // // //             <div className={styles.solutionSection}>
// // // // // // //               <h2 className={styles.solutionTitle}>Solution</h2>
// // // // // // //               <div className={styles.solution}>
// // // // // // //                 {typeof solution === 'string' ? solution : `${variable} = ${solution}`}
// // // // // // //               </div>
              
// // // // // // //               {steps.length > 0 && (
// // // // // // //                 <div className={styles.stepsSection}>
// // // // // // //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // // // // //                   <ol className={styles.stepsList}>
// // // // // // //                     {steps.map((step, index) => (
// // // // // // //                       <li key={index} className={styles.step}>
// // // // // // //                         {step}
// // // // // // //                       </li>
// // // // // // //                     ))}
// // // // // // //                   </ol>
// // // // // // //                 </div>
// // // // // // //               )}
// // // // // // //             </div>
// // // // // // //           ) : (
// // // // // // //             <div className={styles.examples}>
// // // // // // //               <h3 className={styles.examplesTitle}>Click an example to try:</h3>
              
// // // // // // //               <div className={styles.difficultySection}>
// // // // // // //                 <h4 className={styles.difficultyTitle}>Easy</h4>
// // // // // // //                 <ul className={styles.examplesList}>
// // // // // // //                   <li onClick={() => handleExampleClick('x = 5')}>x = 5</li>
// // // // // // //                   <li onClick={() => handleExampleClick('2x = 10')}>2x = 10</li>
// // // // // // //                   <li onClick={() => handleExampleClick('x + 3 = 8')}>x + 3 = 8</li>
// // // // // // //                   <li onClick={() => handleExampleClick('5y = 15')}>5y = 15</li>
// // // // // // //                 </ul>
// // // // // // //               </div>

// // // // // // //               <div className={styles.difficultySection}>
// // // // // // //                 <h4 className={styles.difficultyTitle}>Medium</h4>
// // // // // // //                 <ul className={styles.examplesList}>
// // // // // // //                   <li onClick={() => handleExampleClick('2x + 3 = 7')}>2x + 3 = 7</li>
// // // // // // //                   <li onClick={() => handleExampleClick('3y - 5 = 2y + 1')}>3y - 5 = 2y + 1</li>
// // // // // // //                   <li onClick={() => handleExampleClick('4z + 2 = z - 7')}>4z + 2 = z - 7</li>
// // // // // // //                   <li onClick={() => handleExampleClick('-2x + 6 = 12')}>-2x + 6 = 12</li>
// // // // // // //                 </ul>
// // // // // // //               </div>

// // // // // // //               <div className={styles.difficultySection}>
// // // // // // //                 <h4 className={styles.difficultyTitle}>Hard</h4>
// // // // // // //                 <ul className={styles.examplesList}>
// // // // // // //                   <li onClick={() => handleExampleClick('2(x + 3) = 10')}>2(x + 3) = 10</li>
// // // // // // //                   <li onClick={() => handleExampleClick('-3(2y - 1) = 9')}>-3(2y - 1) = 9</li>
// // // // // // //                   <li onClick={() => handleExampleClick('4/2(z - 2) = 2z + 8')}>4/2(z - 2) = 2z + 8</li>
// // // // // // //                   <li onClick={() => handleExampleClick('1.5x + 2/3 = 4')}>1.5x + 2/3 = 4</li>
// // // // // // //                 </ul>
// // // // // // //               </div>

// // // // // // //               <div className={styles.difficultySection}>
// // // // // // //                 <h4 className={styles.difficultyTitle}>Expert</h4>
// // // // // // //                 <ul className={styles.examplesList}>
// // // // // // //                   <li onClick={() => handleExampleClick('3/4y - 1/2 = 2y + 1/4')}>3/4y - 1/2 = 2y + 1/4</li>
// // // // // // //                   <li onClick={() => handleExampleClick('0.25z + 1.5 = 2.75z - 0.5')}>0.25z + 1.5 = 2.75z - 0.5</li>
// // // // // // //                   <li onClick={() => handleExampleClick('2/3(3x - 6) = 4x + 1/2')}>2/3(3x - 6) = 4x + 1/2</li>
// // // // // // //                   <li onClick={() => handleExampleClick('-1/4(8a + 12) = 3a - 5/2')}>-1/4(8a + 12) = 3a - 5/2</li>
// // // // // // //                 </ul>
// // // // // // //               </div>
// // // // // // //             </div>
// // // // // // //           )}
// // // // // // //         </div>
// // // // // // //       </div>
// // // // // // //     </div>
// // // // // // //   );
// // // // // // // };

// // // // // // // export default LinearEquationSolver;


// // // // // // import { useState } from 'react';
// // // // // // import styles from './LinearEquationSolver.module.css';

// // // // // // const LinearEquationSolver = () => {
// // // // // //   const [equation, setEquation] = useState('');
// // // // // //   const [solution, setSolution] = useState(null);
// // // // // //   const [error, setError] = useState('');
// // // // // //   const [steps, setSteps] = useState([]);
// // // // // //   const [variable, setVariable] = useState('');

// // // // // //   const parseFraction = (str) => {
// // // // // //     if (str.includes('/')) {
// // // // // //       const parts = str.split('/');
// // // // // //       return parseFloat(parts[0]) / parseFloat(parts[1]);
// // // // // //     }
// // // // // //     return parseFloat(str);
// // // // // //   };

// // // // // //   const expandParentheses = (equation) => {
// // // // // //     const pattern = /([+-]?\d*\.?\d*\/?\/?\d*)\(([^)]+)\)/g;
    
// // // // // //     return equation.replace(pattern, (match, coef, inside) => {
// // // // // //       if (coef === '' || coef === '+') coef = '1';
// // // // // //       if (coef === '-') coef = '-1';
      
// // // // // //       const coefficient = parseFraction(coef);
// // // // // //       const insideNormalized = inside.replace(/(?<!^)-/g, '+-');
// // // // // //       const terms = insideNormalized.split('+').filter(term => term !== '');
      
// // // // // //       const expandedTerms = terms.map(term => {
// // // // // //         const termValue = parseFraction(term.replace(/[a-z]/g, '')) || 1;
// // // // // //         const variable = term.match(/[a-z]/);
// // // // // //         const result = coefficient * termValue;
        
// // // // // //         if (variable) {
// // // // // //           return result === 1 ? variable[0] : result === -1 ? `-${variable[0]}` : `${result}${variable[0]}`;
// // // // // //         } else {
// // // // // //           return result.toString();
// // // // // //         }
// // // // // //       });
      
// // // // // //       let result = expandedTerms[0];
// // // // // //       for (let i = 1; i < expandedTerms.length; i++) {
// // // // // //         const term = expandedTerms[i];
// // // // // //         if (term.startsWith('-')) {
// // // // // //           result += term;
// // // // // //         } else {
// // // // // //           result += '+' + term;
// // // // // //         }
// // // // // //       }
      
// // // // // //       return result;
// // // // // //     });
// // // // // //   };

// // // // // //   const parseLinearEquation = (eq) => {
// // // // // //     let cleanEq = eq.replace(/\s+/g, '').toLowerCase();
// // // // // //     cleanEq = expandParentheses(cleanEq);
    
// // // // // //     if (!cleanEq.includes('=')) {
// // // // // //       throw new Error('Equation must contain an equals sign (=)');
// // // // // //     }
    
// // // // // //     const sides = cleanEq.split('=');
// // // // // //     const leftSide = sides[0];
// // // // // //     const rightSide = sides[1];
    
// // // // // //     if (!leftSide || !rightSide) {
// // // // // //       throw new Error('Both sides of the equation must have content');
// // // // // //     }
    
// // // // // //     const variableMatch = cleanEq.match(/[a-z]/);
// // // // // //     if (!variableMatch) {
// // // // // //       throw new Error('No variable found in the equation');
// // // // // //     }
// // // // // //     const variable = variableMatch[0];
    
// // // // // //     const parseExpression = (expr) => {
// // // // // //       let coefficient = 0;
// // // // // //       let constant = 0;
      
// // // // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // // // //       for (let term of terms) {
// // // // // //         if (term.includes(variable)) {
// // // // // //           const pattern = new RegExp(`^([+-]?\\d*\\.?\\d*\/?\/?\d*)${variable}$`);
// // // // // //           const coefMatch = term.match(pattern);
// // // // // //           if (coefMatch) {
// // // // // //             let coef = coefMatch[1];
// // // // // //             if (coef === '' || coef === '+') coef = '1';
// // // // // //             if (coef === '-') coef = '-1';
// // // // // //             coefficient += parseFraction(coef);
// // // // // //           } else {
// // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // //           }
// // // // // //         } else {
// // // // // //           const constMatch = term.match(/^([+-]?\d*\.?\d*\/?\/?\d*)$/);
// // // // // //           if (constMatch) {
// // // // // //             constant += parseFraction(constMatch[1]);
// // // // // //           } else {
// // // // // //             throw new Error(`Invalid term: ${term}`);
// // // // // //           }
// // // // // //         }
// // // // // //       }
      
// // // // // //       return { coefficient, constant };
// // // // // //     };
    
// // // // // //     const left = parseExpression(leftSide);
// // // // // //     const right = parseExpression(rightSide);
    
// // // // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // // // //     const finalConstant = left.constant - right.constant;
    
// // // // // //     return { 
// // // // // //       coefficient: finalCoeff, 
// // // // // //       constant: finalConstant, 
// // // // // //       variable,
// // // // // //       expandedEquation: cleanEq
// // // // // //     };
// // // // // //   };

// // // // // //   const solveLinearEquation = (coefficient, constant, variable, originalEquation, leftSide, rightSide, expandedEquation) => {
// // // // // //     const solutionSteps = [];
    
// // // // // //     if (coefficient === 0) {
// // // // // //       if (constant === 0) {
// // // // // //         return { 
// // // // // //           solution: 'infinitely many solutions', 
// // // // // //           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
// // // // // //         };
// // // // // //       } else {
// // // // // //         return { 
// // // // // //           solution: 'no solution', 
// // // // // //           steps: [originalEquation, `${constant} = 0`, 'This is never true, so there is no solution'] 
// // // // // //         };
// // // // // //       }
// // // // // //     }
    
// // // // // //     const result = -constant / coefficient;
    
// // // // // //     solutionSteps.push(`Original equation: ${originalEquation}`);
    
// // // // // //     const hasParentheses = originalEquation.includes('(');
    
// // // // // //     if (hasParentheses) {
// // // // // //       const parenthesesMatch = originalEquation.match(/([+-]?\d*\.?\d*\/?\/?\d*)\(([^)]+)\)/);
// // // // // //       if (parenthesesMatch) {
// // // // // //         let coef = parenthesesMatch[1];
// // // // // //         if (coef === '' || coef === '+') coef = '1';
// // // // // //         if (coef === '-') coef = '-1';
// // // // // //         const insideTerms = parenthesesMatch[2];
        
// // // // // //         solutionSteps.push(`Expand parentheses using distributive property: ${coef}(${insideTerms}) = ${expandedEquation}`);
// // // // // //       } else {
// // // // // //         solutionSteps.push(`Expand parentheses: ${expandedEquation}`);
// // // // // //       }
      
// // // // // //       const expSides = expandedEquation.split('=');
// // // // // //       const expLeft = expSides[0];
// // // // // //       const expRight = expSides[1];
// // // // // //       const expLeftTerms = expLeft.match(/[+-]?[^+-]+/g) || [];
// // // // // //       const expRightTerms = expRight.match(/[+-]?[^+-]+/g) || [];
      
// // // // // //       let constantTermsLeft = [];
// // // // // //       let variableTermsRight = [];
      
// // // // // //       expLeftTerms.forEach(term => {
// // // // // //         if (!term.includes(variable)) {
// // // // // //           constantTermsLeft.push(term);
// // // // // //         }
// // // // // //       });
      
// // // // // //       expRightTerms.forEach(term => {
// // // // // //         if (term.includes(variable)) {
// // // // // //           variableTermsRight.push(term);
// // // // // //         }
// // // // // //       });
      
// // // // // //       if (variableTermsRight.length > 0) {
// // // // // //         const termToMove = variableTermsRight[0];
// // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move variables to left side`);
// // // // // //       }
      
// // // // // //       if (constantTermsLeft.length > 0) {
// // // // // //         const termToMove = constantTermsLeft[0];
// // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move constants to right side`);
// // // // // //       }
      
// // // // // //       solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
      
// // // // // //     } else {
// // // // // //       const leftTerms = leftSide.match(/[+-]?[^+-]+/g) || [];
// // // // // //       const rightTerms = rightSide.match(/[+-]?[^+-]+/g) || [];
      
// // // // // //       let variableTermsLeft = [];
// // // // // //       let constantTermsLeft = [];
// // // // // //       let variableTermsRight = [];
      
// // // // // //       leftTerms.forEach(term => {
// // // // // //         if (term.includes(variable)) {
// // // // // //           variableTermsLeft.push(term);
// // // // // //         } else {
// // // // // //           constantTermsLeft.push(term);
// // // // // //         }
// // // // // //       });
      
// // // // // //       rightTerms.forEach(term => {
// // // // // //         if (term.includes(variable)) {
// // // // // //           variableTermsRight.push(term);
// // // // // //         }
// // // // // //       });
      
// // // // // //       if (constantTermsLeft.length > 0) {
// // // // // //         const termToMove = constantTermsLeft[0];
// // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the right`);
// // // // // //       }
      
// // // // // //       if (variableTermsRight.length > 0) {
// // // // // //         const termToMove = variableTermsRight[0];
// // // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
// // // // // //       }
      
// // // // // //       solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
// // // // // //     }
    
// // // // // //     solutionSteps.push(`Divide both sides by ${coefficient}: ${variable} = ${-constant}/${coefficient}`);
// // // // // //     solutionSteps.push(`Solution: ${variable} = ${result}`);
    
// // // // // //     return { solution: result, steps: solutionSteps };
// // // // // //   };

// // // // // //   const handleSolve = () => {
// // // // // //     try {
// // // // // //       setError('');
// // // // // //       setSolution(null);
// // // // // //       setSteps([]);
// // // // // //       setVariable('');
      
// // // // // //       if (!equation.trim()) {
// // // // // //         setError('Please enter an equation');
// // // // // //         return;
// // // // // //       }
      
// // // // // //       const parsed = parseLinearEquation(equation);
// // // // // //       const sides = equation.split('=');
// // // // // //       const leftSide = sides[0].trim();
// // // // // //       const rightSide = sides[1].trim();
// // // // // //       const result = solveLinearEquation(
// // // // // //         parsed.coefficient, 
// // // // // //         parsed.constant, 
// // // // // //         parsed.variable, 
// // // // // //         equation, 
// // // // // //         leftSide, 
// // // // // //         rightSide,
// // // // // //         parsed.expandedEquation
// // // // // //       );
      
// // // // // //       setVariable(parsed.variable);
// // // // // //       setSolution(result.solution);
// // // // // //       setSteps(result.steps);
      
// // // // // //     } catch (err) {
// // // // // //       setError(err.message);
// // // // // //       setSolution(null);
// // // // // //       setSteps([]);
// // // // // //       setVariable('');
// // // // // //     }
// // // // // //   };

// // // // // //   const handleClear = () => {
// // // // // //     setEquation('');
// // // // // //     setSolution(null);
// // // // // //     setError('');
// // // // // //     setSteps([]);
// // // // // //     setVariable('');
// // // // // //   };

// // // // // //   const handleKeyDown = (e) => {
// // // // // //     if (e.key === 'Enter') {
// // // // // //       handleSolve();
// // // // // //     } else if (e.key === 'Escape') {
// // // // // //       handleClear();
// // // // // //     }
// // // // // //   };

// // // // // //   const handleExampleClick = (exampleEquation) => {
// // // // // //     setEquation(exampleEquation);
// // // // // //     setError('');
// // // // // //     setSolution(null);
// // // // // //     setSteps([]);
// // // // // //     setVariable('');
// // // // // //   };

// // // // // //   const generateRandomEquation = (level) => {
// // // // // //     const variables = ['x', 'y', 'z', 'a', 'b'];
// // // // // //     const variable = variables[Math.floor(Math.random() * variables.length)];
    
// // // // // //     let equation = '';
    
// // // // // //     switch(level) {
// // // // // //       case 'easy':
// // // // // //         // ax = b or x + a = b
// // // // // //         if (Math.random() < 0.5) {
// // // // // //           const a = Math.floor(Math.random() * 8) + 2;
// // // // // //           const b = a * (Math.floor(Math.random() * 10) + 1);
// // // // // //           equation = `${a}${variable} = ${b}`;
// // // // // //         } else {
// // // // // //           const a = Math.floor(Math.random() * 10) + 1;
// // // // // //           const x = Math.floor(Math.random() * 10) + 1;
// // // // // //           const b = x + a;
// // // // // //           equation = `${variable} + ${a} = ${b}`;
// // // // // //         }
// // // // // //         break;
        
// // // // // //       case 'medium':
// // // // // //         // ax + b = cx + d
// // // // // //         const a = Math.floor(Math.random() * 5) + 2;
// // // // // //         const b = Math.floor(Math.random() * 10) + 1;
// // // // // //         const c = Math.floor(Math.random() * 3) + 1;
// // // // // //         const d = Math.floor(Math.random() * 10) + 1;
// // // // // //         equation = `${a}${variable} + ${b} = ${c}${variable} + ${d}`;
// // // // // //         break;
        
// // // // // //       case 'hard':
// // // // // //         // a(x + b) = c
// // // // // //         const coef = Math.floor(Math.random() * 4) + 2;
// // // // // //         const inside = Math.floor(Math.random() * 8) + 1;
// // // // // //         const result = coef * (Math.floor(Math.random() * 5) + inside + 1);
// // // // // //         equation = `${coef}(${variable} + ${inside}) = ${result}`;
// // // // // //         break;
        
// // // // // //       case 'expert':
// // // // // //         // Fraction coefficients
// // // // // //         const num1 = Math.floor(Math.random() * 3) + 1;
// // // // // //         const den1 = Math.floor(Math.random() * 3) + 2;
// // // // // //         const num2 = Math.floor(Math.random() * 4) + 1;
// // // // // //         const den2 = Math.floor(Math.random() * 4) + 2;
// // // // // //         const const1 = Math.floor(Math.random() * 6) + 1;
// // // // // //         const const2 = Math.floor(Math.random() * 8) + 1;
// // // // // //         equation = `${num1}/${den1}${variable} + ${const1} = ${num2}/${den2}${variable} + ${const2}`;
// // // // // //         break;
// // // // // //     }
    
// // // // // //     setEquation(equation);
// // // // // //     setError('');
// // // // // //     setSolution(null);
// // // // // //     setSteps([]);
// // // // // //     setVariable('');
// // // // // //   };

// // // // // //   return (
// // // // // //     <div className={styles.container}>
// // // // // //       <div className={styles.mainLayout}>
// // // // // //         <div className={styles.leftPanel}>
// // // // // //           <div className={styles.inputSection}>
// // // // // //             <label className={styles.label}>
// // // // // //               Enter your linear equation with any variable (Press Enter to solve, Escape to clear):
// // // // // //             </label>
// // // // // //             <input
// // // // // //               type="text"
// // // // // //               value={equation}
// // // // // //               onChange={(e) => setEquation(e.target.value)}
// // // // // //               placeholder="Enter equation like: 2x + 3 = 7, 2(x + 3) = 10, or 1.5x + 2/3 = 4"
// // // // // //               className={styles.input}
// // // // // //               onKeyDown={handleKeyDown}
// // // // // //             />
// // // // // //             <div className={styles.buttonGroup}>
// // // // // //               <button onClick={handleSolve} className={styles.solveButton}>
// // // // // //                 Solve
// // // // // //               </button>
// // // // // //               <button onClick={handleClear} className={styles.clearButton}>
// // // // // //                 Clear
// // // // // //               </button>
// // // // // //             </div>
            
// // // // // //             <div className={styles.generatorSection}>
// // // // // //               <label className={styles.generatorLabel}>Generate random equation:</label>
// // // // // //               <div className={styles.generatorButtons}>
// // // // // //                 <button onClick={() => generateRandomEquation('easy')} className={styles.generatorButton}>
// // // // // //                   Easy (ax = b)
// // // // // //                 </button>
// // // // // //                 <button onClick={() => generateRandomEquation('medium')} className={styles.generatorButton}>
// // // // // //                   Medium (ax + b = cx + d)
// // // // // //                 </button>
// // // // // //                 <button onClick={() => generateRandomEquation('hard')} className={styles.generatorButton}>
// // // // // //                   Hard (a(x + b) = c)
// // // // // //                 </button>
// // // // // //                 <button onClick={() => generateRandomEquation('expert')} className={styles.generatorButton}>
// // // // // //                   Expert (fractions)
// // // // // //                 </button>
// // // // // //               </div>
// // // // // //             </div>
// // // // // //           </div>

// // // // // //           {error && (
// // // // // //             <div className={styles.error}>
// // // // // //               <strong>Error:</strong> {error}
// // // // // //             </div>
// // // // // //           )}
// // // // // //         </div>

// // // // // //         <div className={styles.rightPanel}>
// // // // // //           {solution !== null ? (
// // // // // //             <div className={styles.solutionSection}>
// // // // // //               <h2 className={styles.solutionTitle}>Solution</h2>
// // // // // //               <div className={styles.solution}>
// // // // // //                 {typeof solution === 'string' ? solution : `${variable} = ${solution}`}
// // // // // //               </div>
              
// // // // // //               {steps.length > 0 && (
// // // // // //                 <div className={styles.stepsSection}>
// // // // // //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // // // //                   <ol className={styles.stepsList}>
// // // // // //                     {steps.map((step, index) => (
// // // // // //                       <li key={index} className={styles.step}>
// // // // // //                         {step}
// // // // // //                       </li>
// // // // // //                     ))}
// // // // // //                   </ol>
// // // // // //                 </div>
// // // // // //               )}
// // // // // //             </div>
// // // // // //           ) : (
// // // // // //             <div className={styles.examples}>
// // // // // //               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // // // // //               <ul className={styles.examplesList}>
// // // // // //                 <li onClick={() => handleExampleClick('2x + 3 = 7')}>2x + 3 = 7</li>
// // // // // //                 <li onClick={() => handleExampleClick('3y - 5 = 2y + 1')}>3y - 5 = 2y + 1</li>
// // // // // //                 <li onClick={() => handleExampleClick('5a = 15')}>5a = 15</li>
// // // // // //                 <li onClick={() => handleExampleClick('2(x + 3) = 10')}>2(x + 3) = 10</li>
// // // // // //                 <li onClick={() => handleExampleClick('-3(2y - 1) = 9')}>-3(2y - 1) = 9</li>
// // // // // //                 <li onClick={() => handleExampleClick('4(z - 2) = 2z + 8')}>4(z - 2) = 2z + 8</li>
// // // // // //                 <li onClick={() => handleExampleClick('1.5x + 2/3 = 4')}>1.5x + 2/3 = 4</li>
// // // // // //                 <li onClick={() => handleExampleClick('3/4y - 1/2 = 2y + 1/4')}>3/4y - 1/2 = 2y + 1/4</li>
// // // // // //                 <li onClick={() => handleExampleClick('0.25z + 1.5 = 2.75')}>0.25z + 1.5 = 2.75</li>
// // // // // //               </ul>
// // // // // //             </div>
// // // // // //           )}
// // // // // //         </div>
// // // // // //       </div>
// // // // // //     </div>
// // // // // //   );
// // // // // // };

// // // // // // export default LinearEquationSolver;


// // // // // import { useState } from 'react';
// // // // // import styles from './LinearEquationSolver.module.css';

// // // // // const LinearEquationSolver = () => {
// // // // //   const [equation, setEquation] = useState('');
// // // // //   const [solution, setSolution] = useState(null);
// // // // //   const [error, setError] = useState('');
// // // // //   const [steps, setSteps] = useState([]);
// // // // //   const [variable, setVariable] = useState('');

// // // // //   const parseFraction = (str) => {
// // // // //     if (str.includes('/')) {
// // // // //       const parts = str.split('/');
// // // // //       return parseFloat(parts[0]) / parseFloat(parts[1]);
// // // // //     }
// // // // //     return parseFloat(str);
// // // // //   };

// // // // //   const expandParentheses = (equation) => {
// // // // //     const pattern = /([+-]?\d*\.?\d*\/?\/?\d*)\(([^)]+)\)/g;
    
// // // // //     return equation.replace(pattern, (match, coef, inside) => {
// // // // //       if (coef === '' || coef === '+') coef = '1';
// // // // //       if (coef === '-') coef = '-1';
      
// // // // //       const coefficient = parseFraction(coef);
// // // // //       const insideNormalized = inside.replace(/(?<!^)-/g, '+-');
// // // // //       const terms = insideNormalized.split('+').filter(term => term !== '');
      
// // // // //       const expandedTerms = terms.map(term => {
// // // // //         const termValue = parseFraction(term.replace(/[a-z]/g, '')) || 1;
// // // // //         const variable = term.match(/[a-z]/);
// // // // //         const result = coefficient * termValue;
        
// // // // //         if (variable) {
// // // // //           return result === 1 ? variable[0] : result === -1 ? `-${variable[0]}` : `${result}${variable[0]}`;
// // // // //         } else {
// // // // //           return result.toString();
// // // // //         }
// // // // //       });
      
// // // // //       let result = expandedTerms[0];
// // // // //       for (let i = 1; i < expandedTerms.length; i++) {
// // // // //         const term = expandedTerms[i];
// // // // //         if (term.startsWith('-')) {
// // // // //           result += term;
// // // // //         } else {
// // // // //           result += '+' + term;
// // // // //         }
// // // // //       }
      
// // // // //       return result;
// // // // //     });
// // // // //   };

// // // // //   const parseLinearEquation = (eq) => {
// // // // //     let cleanEq = eq.replace(/\s+/g, '').toLowerCase();
// // // // //     cleanEq = expandParentheses(cleanEq);
    
// // // // //     if (!cleanEq.includes('=')) {
// // // // //       throw new Error('Equation must contain an equals sign (=)');
// // // // //     }
    
// // // // //     const sides = cleanEq.split('=');
// // // // //     const leftSide = sides[0];
// // // // //     const rightSide = sides[1];
    
// // // // //     if (!leftSide || !rightSide) {
// // // // //       throw new Error('Both sides of the equation must have content');
// // // // //     }
    
// // // // //     const variableMatch = cleanEq.match(/[a-z]/);
// // // // //     if (!variableMatch) {
// // // // //       throw new Error('No variable found in the equation');
// // // // //     }
// // // // //     const variable = variableMatch[0];
    
// // // // //     const parseExpression = (expr) => {
// // // // //       let coefficient = 0;
// // // // //       let constant = 0;
      
// // // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // // //       for (let term of terms) {
// // // // //         if (term.includes(variable)) {
// // // // //           const pattern = new RegExp(`^([+-]?\\d*\\.?\\d*\/?\/?\d*)${variable}$`);
// // // // //           const coefMatch = term.match(pattern);
// // // // //           if (coefMatch) {
// // // // //             let coef = coefMatch[1];
// // // // //             if (coef === '' || coef === '+') coef = '1';
// // // // //             if (coef === '-') coef = '-1';
// // // // //             coefficient += parseFraction(coef);
// // // // //           } else {
// // // // //             throw new Error(`Invalid term: ${term}`);
// // // // //           }
// // // // //         } else {
// // // // //           const constMatch = term.match(/^([+-]?\d*\.?\d*\/?\/?\d*)$/);
// // // // //           if (constMatch && constMatch[1] !== '') {
// // // // //             constant += parseFraction(constMatch[1]);
// // // // //           } else if (term !== '') {
// // // // //             throw new Error(`Invalid term: ${term}`);
// // // // //           }
// // // // //         }
// // // // //       }
      
// // // // //       return { coefficient, constant };
// // // // //     };
    
// // // // //     const left = parseExpression(leftSide);
// // // // //     const right = parseExpression(rightSide);
    
// // // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // // //     const finalConstant = left.constant - right.constant;
    
// // // // //     return { 
// // // // //       coefficient: finalCoeff, 
// // // // //       constant: finalConstant, 
// // // // //       variable,
// // // // //       expandedEquation: cleanEq
// // // // //     };
// // // // //   };

// // // // //   const solveLinearEquation = (coefficient, constant, variable, originalEquation, leftSide, rightSide, expandedEquation) => {
// // // // //     const solutionSteps = [];
    
// // // // //     if (coefficient === 0) {
// // // // //       if (constant === 0) {
// // // // //         return { 
// // // // //           solution: 'infinitely many solutions', 
// // // // //           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
// // // // //         };
// // // // //       } else {
// // // // //         return { 
// // // // //           solution: 'no solution', 
// // // // //           steps: [originalEquation, `${constant} = 0`, 'This is never true, so there is no solution'] 
// // // // //         };
// // // // //       }
// // // // //     }
    
// // // // //     const result = -constant / coefficient;
    
// // // // //     solutionSteps.push(`Original equation: ${originalEquation}`);
    
// // // // //     const hasParentheses = originalEquation.includes('(');
    
// // // // //     if (hasParentheses) {
// // // // //       const parenthesesMatch = originalEquation.match(/([+-]?\d*\.?\d*\/?\/?\d*)\(([^)]+)\)/);
// // // // //       if (parenthesesMatch) {
// // // // //         let coef = parenthesesMatch[1];
// // // // //         if (coef === '' || coef === '+') coef = '1';
// // // // //         if (coef === '-') coef = '-1';
// // // // //         const insideTerms = parenthesesMatch[2];
        
// // // // //         solutionSteps.push(`Expand parentheses using distributive property: ${coef}(${insideTerms}) = ${expandedEquation}`);
// // // // //       } else {
// // // // //         solutionSteps.push(`Expand parentheses: ${expandedEquation}`);
// // // // //       }
      
// // // // //       const expSides = expandedEquation.split('=');
// // // // //       const expLeft = expSides[0];
// // // // //       const expRight = expSides[1];
// // // // //       const expLeftTerms = expLeft.match(/[+-]?[^+-]+/g) || [];
// // // // //       const expRightTerms = expRight.match(/[+-]?[^+-]+/g) || [];
      
// // // // //       let constantTermsLeft = [];
// // // // //       let variableTermsRight = [];
      
// // // // //       expLeftTerms.forEach(term => {
// // // // //         if (!term.includes(variable)) {
// // // // //           constantTermsLeft.push(term);
// // // // //         }
// // // // //       });
      
// // // // //       expRightTerms.forEach(term => {
// // // // //         if (term.includes(variable)) {
// // // // //           variableTermsRight.push(term);
// // // // //         }
// // // // //       });
      
// // // // //       if (variableTermsRight.length > 0) {
// // // // //         const termToMove = variableTermsRight[0];
// // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move variables to left side`);
// // // // //       }
      
// // // // //       if (constantTermsLeft.length > 0) {
// // // // //         const termToMove = constantTermsLeft[0];
// // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move constants to right side`);
// // // // //       }
      
// // // // //       solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
      
// // // // //     } else {
// // // // //       const leftTerms = leftSide.match(/[+-]?[^+-]+/g) || [];
// // // // //       const rightTerms = rightSide.match(/[+-]?[^+-]+/g) || [];
      
// // // // //       let variableTermsLeft = [];
// // // // //       let constantTermsLeft = [];
// // // // //       let variableTermsRight = [];
      
// // // // //       leftTerms.forEach(term => {
// // // // //         if (term.includes(variable)) {
// // // // //           variableTermsLeft.push(term);
// // // // //         } else {
// // // // //           constantTermsLeft.push(term);
// // // // //         }
// // // // //       });
      
// // // // //       rightTerms.forEach(term => {
// // // // //         if (term.includes(variable)) {
// // // // //           variableTermsRight.push(term);
// // // // //         }
// // // // //       });
      
// // // // //       if (constantTermsLeft.length > 0) {
// // // // //         const termToMove = constantTermsLeft[0];
// // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the right`);
// // // // //       }
      
// // // // //       if (variableTermsRight.length > 0) {
// // // // //         const termToMove = variableTermsRight[0];
// // // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
// // // // //       }
      
// // // // //       solutionSteps.push(`Combine like terms: ${coefficient}${variable} = ${-constant}`);
// // // // //     }
    
// // // // //     solutionSteps.push(`Divide both sides by ${coefficient}: ${variable} = ${-constant}/${coefficient}`);
// // // // //     solutionSteps.push(`Solution: ${variable} = ${result}`);
    
// // // // //     return { solution: result, steps: solutionSteps };
// // // // //   };

// // // // //   const handleSolve = () => {
// // // // //     try {
// // // // //       setError('');
// // // // //       setSolution(null);
// // // // //       setSteps([]);
// // // // //       setVariable('');
      
// // // // //       if (!equation.trim()) {
// // // // //         setError('Please enter an equation');
// // // // //         return;
// // // // //       }
      
// // // // //       const parsed = parseLinearEquation(equation);
// // // // //       const sides = equation.split('=');
// // // // //       const leftSide = sides[0].trim();
// // // // //       const rightSide = sides[1].trim();
// // // // //       const result = solveLinearEquation(
// // // // //         parsed.coefficient, 
// // // // //         parsed.constant, 
// // // // //         parsed.variable, 
// // // // //         equation, 
// // // // //         leftSide, 
// // // // //         rightSide,
// // // // //         parsed.expandedEquation
// // // // //       );
      
// // // // //       setVariable(parsed.variable);
// // // // //       setSolution(result.solution);
// // // // //       setSteps(result.steps);
      
// // // // //     } catch (err) {
// // // // //       setError(err.message);
// // // // //       setSolution(null);
// // // // //       setSteps([]);
// // // // //       setVariable('');
// // // // //     }
// // // // //   };

// // // // //   const handleClear = () => {
// // // // //     setEquation('');
// // // // //     setSolution(null);
// // // // //     setError('');
// // // // //     setSteps([]);
// // // // //     setVariable('');
// // // // //   };

// // // // //   const handleKeyDown = (e) => {
// // // // //     if (e.key === 'Enter') {
// // // // //       handleSolve();
// // // // //     } else if (e.key === 'Escape') {
// // // // //       handleClear();
// // // // //     }
// // // // //   };

// // // // //   const handleExampleClick = (exampleEquation) => {
// // // // //     setEquation(exampleEquation);
// // // // //     setError('');
// // // // //     setSolution(null);
// // // // //     setSteps([]);
// // // // //     setVariable('');
// // // // //   };

// // // // //   const generateRandomEquation = (level) => {
// // // // //     const variables = ['x', 'y', 'z', 'a', 'b'];
// // // // //     const variable = variables[Math.floor(Math.random() * variables.length)];
    
// // // // //     let equation = '';
    
// // // // //     switch(level) {
// // // // //       case 'easy':
// // // // //         // ax = b or x + a = b
// // // // //         if (Math.random() < 0.5) {
// // // // //           const a = Math.floor(Math.random() * 8) + 2;
// // // // //           const b = a * (Math.floor(Math.random() * 10) + 1);
// // // // //           equation = `${a}${variable} = ${b}`;
// // // // //         } else {
// // // // //           const a = Math.floor(Math.random() * 10) + 1;
// // // // //           const x = Math.floor(Math.random() * 10) + 1;
// // // // //           const b = x + a;
// // // // //           equation = `${variable} + ${a} = ${b}`;
// // // // //         }
// // // // //         break;
        
// // // // //       case 'medium':
// // // // //         // ax + b = cx + d
// // // // //         const a = Math.floor(Math.random() * 5) + 2;
// // // // //         const b = Math.floor(Math.random() * 10) + 1;
// // // // //         const c = Math.floor(Math.random() * 3) + 1;
// // // // //         const d = Math.floor(Math.random() * 10) + 1;
// // // // //         equation = `${a}${variable} + ${b} = ${c}${variable} + ${d}`;
// // // // //         break;
        
// // // // //       case 'hard':
// // // // //         // a(x + b) = c
// // // // //         const coef = Math.floor(Math.random() * 4) + 2;
// // // // //         const inside = Math.floor(Math.random() * 8) + 1;
// // // // //         const result = coef * (Math.floor(Math.random() * 5) + inside + 1);
// // // // //         equation = `${coef}(${variable} + ${inside}) = ${result}`;
// // // // //         break;
        
// // // // //       case 'expert':
// // // // //         // Fraction coefficients
// // // // //         const num1 = Math.floor(Math.random() * 3) + 1;
// // // // //         const den1 = Math.floor(Math.random() * 3) + 2;
// // // // //         const num2 = Math.floor(Math.random() * 4) + 1;
// // // // //         const den2 = Math.floor(Math.random() * 4) + 2;
// // // // //         const const1 = Math.floor(Math.random() * 6) + 1;
// // // // //         const const2 = Math.floor(Math.random() * 8) + 1;
// // // // //         equation = `${num1}/${den1}${variable} + ${const1} = ${num2}/${den2}${variable} + ${const2}`;
// // // // //         break;
// // // // //     }
    
// // // // //     setEquation(equation);
// // // // //     setError('');
// // // // //     setSolution(null);
// // // // //     setSteps([]);
// // // // //     setVariable('');
// // // // //   };

// // // // //   return (
// // // // //     <div className={styles.container}>
// // // // //       <div className={styles.mainLayout}>
// // // // //         <div className={styles.leftPanel}>
// // // // //           <div className={styles.inputSection}>
// // // // //             <label className={styles.label}>
// // // // //               Enter your linear equation with any variable (Press Enter to solve, Escape to clear):
// // // // //             </label>
// // // // //             <input
// // // // //               type="text"
// // // // //               value={equation}
// // // // //               onChange={(e) => setEquation(e.target.value)}
// // // // //               placeholder="Enter equation like: 2x + 3 = 7, 2(x + 3) = 10, or 1.5x + 2/3 = 4"
// // // // //               className={styles.input}
// // // // //               onKeyDown={handleKeyDown}
// // // // //             />
// // // // //             <div className={styles.buttonGroup}>
// // // // //               <button onClick={handleSolve} className={styles.solveButton}>
// // // // //                 Solve
// // // // //               </button>
// // // // //               <button onClick={handleClear} className={styles.clearButton}>
// // // // //                 Clear
// // // // //               </button>
// // // // //             </div>
            
// // // // //             <div className={styles.generatorSection}>
// // // // //               <label className={styles.generatorLabel}>Generate random equation:</label>
// // // // //               <div className={styles.generatorButtons}>
// // // // //                 <button onClick={() => generateRandomEquation('easy')} className={styles.generatorButton}>
// // // // //                   Easy (ax = b)
// // // // //                 </button>
// // // // //                 <button onClick={() => generateRandomEquation('medium')} className={styles.generatorButton}>
// // // // //                   Medium (ax + b = cx + d)
// // // // //                 </button>
// // // // //                 <button onClick={() => generateRandomEquation('hard')} className={styles.generatorButton}>
// // // // //                   Hard (a(x + b) = c)
// // // // //                 </button>
// // // // //                 <button onClick={() => generateRandomEquation('expert')} className={styles.generatorButton}>
// // // // //                   Expert (fractions)
// // // // //                 </button>
// // // // //               </div>
// // // // //             </div>
// // // // //           </div>

// // // // //           {error && (
// // // // //             <div className={styles.error}>
// // // // //               <strong>Error:</strong> {error}
// // // // //             </div>
// // // // //           )}
// // // // //         </div>

// // // // //         <div className={styles.rightPanel}>
// // // // //           {solution !== null ? (
// // // // //             <div className={styles.solutionSection}>
// // // // //               <h2 className={styles.solutionTitle}>Solution</h2>
// // // // //               <div className={styles.solution}>
// // // // //                 {typeof solution === 'string' ? solution : `${variable} = ${solution}`}
// // // // //               </div>
              
// // // // //               {steps.length > 0 && (
// // // // //                 <div className={styles.stepsSection}>
// // // // //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // // //                   <ol className={styles.stepsList}>
// // // // //                     {steps.map((step, index) => (
// // // // //                       <li key={index} className={styles.step}>
// // // // //                         {step}
// // // // //                       </li>
// // // // //                     ))}
// // // // //                   </ol>
// // // // //                 </div>
// // // // //               )}
// // // // //             </div>
// // // // //           ) : (
// // // // //             <div className={styles.examples}>
// // // // //               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // // // //               <ul className={styles.examplesList}>
// // // // //                 <li onClick={() => handleExampleClick('2x + 3 = 7')}>2x + 3 = 7</li>
// // // // //                 <li onClick={() => handleExampleClick('3y - 5 = 2y + 1')}>3y - 5 = 2y + 1</li>
// // // // //                 <li onClick={() => handleExampleClick('5a = 15')}>5a = 15</li>
// // // // //                 <li onClick={() => handleExampleClick('2(x + 3) = 10')}>2(x + 3) = 10</li>
// // // // //                 <li onClick={() => handleExampleClick('-3(2y - 1) = 9')}>-3(2y - 1) = 9</li>
// // // // //                 <li onClick={() => handleExampleClick('4(z - 2) = 2z + 8')}>4(z - 2) = 2z + 8</li>
// // // // //                 <li onClick={() => handleExampleClick('1.5x + 2/3 = 4')}>1.5x + 2/3 = 4</li>
// // // // //                 <li onClick={() => handleExampleClick('3/4y - 1/2 = 2y + 1/4')}>3/4y - 1/2 = 2y + 1/4</li>
// // // // //                 <li onClick={() => handleExampleClick('0.25z + 1.5 = 2.75')}>0.25z + 1.5 = 2.75</li>
// // // // //               </ul>
// // // // //             </div>
// // // // //           )}
// // // // //         </div>
// // // // //       </div>
// // // // //     </div>
// // // // //   );
// // // // // };

// // // // // export default LinearEquationSolver;


// // // // import { useState } from 'react';
// // // // import styles from './LinearEquationSolver.module.css';

// // // // const LinearEquationSolver = () => {
// // // //   const [equation, setEquation] = useState('');
// // // //   const [solution, setSolution] = useState(null);
// // // //   const [error, setError] = useState('');
// // // //   const [steps, setSteps] = useState([]);
// // // //   const [variable, setVariable] = useState('');

// // // //   const parseFraction = (str) => {
// // // //     if (!str || str === '') return 0;
    
// // // //     // Handle negative signs
// // // //     const isNegative = str.startsWith('-');
// // // //     const cleanStr = str.replace(/^[+-]/, '');
    
// // // //     if (cleanStr.includes('/')) {
// // // //       const parts = cleanStr.split('/');
// // // //       if (parts.length !== 2) return NaN;
      
// // // //       const numerator = parseFloat(parts[0]);
// // // //       const denominator = parseFloat(parts[1]);
      
// // // //       if (isNaN(numerator) || isNaN(denominator) || denominator === 0) {
// // // //         return NaN;
// // // //       }
      
// // // //       const result = numerator / denominator;
// // // //       return isNegative ? -result : result;
// // // //     }
    
// // // //     const result = parseFloat(cleanStr);
// // // //     return isNaN(result) ? NaN : (isNegative ? -result : result);
// // // //   };

// // // //   const expandParentheses = (equation) => {
// // // //     const pattern = /([+-]?\d*\.?\d*(?:\/\d+)?)\(([^)]+)\)/g;
    
// // // //     return equation.replace(pattern, (match, coef, inside) => {
// // // //       if (coef === '' || coef === '+') coef = '1';
// // // //       if (coef === '-') coef = '-1';
      
// // // //       const coefficient = parseFraction(coef);
// // // //       if (isNaN(coefficient)) {
// // // //         throw new Error(`Invalid coefficient: ${coef}`);
// // // //       }
      
// // // //       const insideNormalized = inside.replace(/(?<!^|[+-])-/g, '+-');
// // // //       const terms = insideNormalized.split('+').filter(term => term !== '');
      
// // // //       const expandedTerms = terms.map(term => {
// // // //         const variableMatch = term.match(/[a-z]/);
// // // //         const variable = variableMatch ? variableMatch[0] : null;
        
// // // //         if (variable) {
// // // //           const coeffStr = term.replace(/[a-z]/g, '');
// // // //           let termCoeff = 1;
          
// // // //           if (coeffStr === '' || coeffStr === '+') {
// // // //             termCoeff = 1;
// // // //           } else if (coeffStr === '-') {
// // // //             termCoeff = -1;
// // // //           } else {
// // // //             termCoeff = parseFraction(coeffStr);
// // // //             if (isNaN(termCoeff)) {
// // // //               throw new Error(`Invalid term coefficient: ${coeffStr}`);
// // // //             }
// // // //           }
          
// // // //           const result = coefficient * termCoeff;
          
// // // //           if (result === 1) {
// // // //             return variable;
// // // //           } else if (result === -1) {
// // // //             return `-${variable}`;
// // // //           } else {
// // // //             return `${result}${variable}`;
// // // //           }
// // // //         } else {
// // // //           const constValue = parseFraction(term);
// // // //           if (isNaN(constValue)) {
// // // //             throw new Error(`Invalid constant term: ${term}`);
// // // //           }
// // // //           return (coefficient * constValue).toString();
// // // //         }
// // // //       });
      
// // // //       let result = expandedTerms[0];
// // // //       for (let i = 1; i < expandedTerms.length; i++) {
// // // //         const term = expandedTerms[i];
// // // //         if (term.startsWith('-')) {
// // // //           result += term;
// // // //         } else {
// // // //           result += '+' + term;
// // // //         }
// // // //       }
      
// // // //       return result;
// // // //     });
// // // //   };

// // // //   const parseLinearEquation = (eq) => {
// // // //     let cleanEq = eq.replace(/\s+/g, '').toLowerCase();
// // // //     cleanEq = expandParentheses(cleanEq);
    
// // // //     if (!cleanEq.includes('=')) {
// // // //       throw new Error('Equation must contain an equals sign (=)');
// // // //     }
    
// // // //     const sides = cleanEq.split('=');
// // // //     if (sides.length !== 2) {
// // // //       throw new Error('Equation must have exactly one equals sign');
// // // //     }
    
// // // //     const leftSide = sides[0];
// // // //     const rightSide = sides[1];
    
// // // //     if (!leftSide || !rightSide) {
// // // //       throw new Error('Both sides of the equation must have content');
// // // //     }
    
// // // //     const variableMatch = cleanEq.match(/[a-z]/);
// // // //     if (!variableMatch) {
// // // //       throw new Error('No variable found in the equation');
// // // //     }
// // // //     const variable = variableMatch[0];
    
// // // //     const parseExpression = (expr) => {
// // // //       let coefficient = 0;
// // // //       let constant = 0;
      
// // // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // // //       for (let term of terms) {
// // // //         if (term.includes(variable)) {
// // // //           const pattern = new RegExp(`^([+-]?\\d*\\.?\\d*(?:\\/\\d+)?)${variable}$`);
// // // //           const coefMatch = term.match(pattern);
// // // //           if (coefMatch) {
// // // //             let coef = coefMatch[1];
// // // //             if (coef === '' || coef === '+') coef = '1';
// // // //             if (coef === '-') coef = '-1';
            
// // // //             const parsedCoef = parseFraction(coef);
// // // //             if (isNaN(parsedCoef)) {
// // // //               throw new Error(`Invalid coefficient: ${coef}`);
// // // //             }
// // // //             coefficient += parsedCoef;
// // // //           } else {
// // // //             throw new Error(`Invalid term: ${term}`);
// // // //           }
// // // //         } else {
// // // //           const constMatch = term.match(/^([+-]?\d*\.?\d*(?:\/\d+)?)$/);
// // // //           if (constMatch && constMatch[1] !== '') {
// // // //             const parsedConst = parseFraction(constMatch[1]);
// // // //             if (isNaN(parsedConst)) {
// // // //               throw new Error(`Invalid constant: ${constMatch[1]}`);
// // // //             }
// // // //             constant += parsedConst;
// // // //           } else if (term !== '') {
// // // //             throw new Error(`Invalid term: ${term}`);
// // // //           }
// // // //         }
// // // //       }
      
// // // //       return { coefficient, constant };
// // // //     };
    
// // // //     const left = parseExpression(leftSide);
// // // //     const right = parseExpression(rightSide);
    
// // // //     const finalCoeff = left.coefficient - right.coefficient;
// // // //     const finalConstant = left.constant - right.constant;
    
// // // //     return { 
// // // //       coefficient: finalCoeff, 
// // // //       constant: finalConstant, 
// // // //       variable,
// // // //       expandedEquation: cleanEq
// // // //     };
// // // //   };

// // // //   const formatNumber = (num) => {
// // // //     if (Number.isInteger(num)) {
// // // //       return num.toString();
// // // //     } else {
// // // //       // Check if it's a simple fraction
// // // //       const tolerance = 1e-10;
// // // //       for (let denom = 2; denom <= 20; denom++) {
// // // //         const numerator = Math.round(num * denom);
// // // //         if (Math.abs(num - numerator / denom) < tolerance) {
// // // //           if (numerator === denom) return '1';
// // // //           if (numerator === -denom) return '-1';
// // // //           return `${numerator}/${denom}`;
// // // //         }
// // // //       }
// // // //       return num.toFixed(4).replace(/\.?0+$/, '');
// // // //     }
// // // //   };

// // // //   const solveLinearEquation = (coefficient, constant, variable, originalEquation, leftSide, rightSide, expandedEquation) => {
// // // //     const solutionSteps = [];
    
// // // //     if (Math.abs(coefficient) < 1e-10) {
// // // //       if (Math.abs(constant) < 1e-10) {
// // // //         return { 
// // // //           solution: 'infinitely many solutions', 
// // // //           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
// // // //         };
// // // //       } else {
// // // //         return { 
// // // //           solution: 'no solution', 
// // // //           steps: [originalEquation, `${formatNumber(constant)} = 0`, 'This is never true, so there is no solution'] 
// // // //         };
// // // //       }
// // // //     }
    
// // // //     const result = -constant / coefficient;
    
// // // //     solutionSteps.push(`Original equation: ${originalEquation}`);
    
// // // //     const hasParentheses = originalEquation.includes('(');
    
// // // //     if (hasParentheses) {
// // // //       const parenthesesMatch = originalEquation.match(/([+-]?\d*\.?\d*(?:\/\d+)?)\(([^)]+)\)/);
// // // //       if (parenthesesMatch) {
// // // //         let coef = parenthesesMatch[1];
// // // //         if (coef === '' || coef === '+') coef = '1';
// // // //         if (coef === '-') coef = '-1';
// // // //         const insideTerms = parenthesesMatch[2];
        
// // // //         solutionSteps.push(`Expand parentheses using distributive property: ${coef}(${insideTerms})`);
// // // //       }
      
// // // //       solutionSteps.push(`After expanding: ${expandedEquation}`);
      
// // // //       const expSides = expandedEquation.split('=');
// // // //       const expLeft = expSides[0];
// // // //       const expRight = expSides[1];
// // // //       const expLeftTerms = expLeft.match(/[+-]?[^+-]+/g) || [];
// // // //       const expRightTerms = expRight.match(/[+-]?[^+-]+/g) || [];
      
// // // //       let constantTermsLeft = [];
// // // //       let variableTermsRight = [];
      
// // // //       expLeftTerms.forEach(term => {
// // // //         if (!term.includes(variable)) {
// // // //           constantTermsLeft.push(term);
// // // //         }
// // // //       });
      
// // // //       expRightTerms.forEach(term => {
// // // //         if (term.includes(variable)) {
// // // //           variableTermsRight.push(term);
// // // //         }
// // // //       });
      
// // // //       if (variableTermsRight.length > 0) {
// // // //         const termToMove = variableTermsRight[0];
// // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move variables to left side`);
// // // //       }
      
// // // //       if (constantTermsLeft.length > 0) {
// // // //         const termToMove = constantTermsLeft[0];
// // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move constants to right side`);
// // // //       }
      
// // // //       solutionSteps.push(`Combine like terms: ${formatNumber(coefficient)}${variable} = ${formatNumber(-constant)}`);
      
// // // //     } else {
// // // //       const leftTerms = leftSide.match(/[+-]?[^+-]+/g) || [];
// // // //       const rightTerms = rightSide.match(/[+-]?[^+-]+/g) || [];
      
// // // //       let variableTermsLeft = [];
// // // //       let constantTermsLeft = [];
// // // //       let variableTermsRight = [];
      
// // // //       leftTerms.forEach(term => {
// // // //         if (term.includes(variable)) {
// // // //           variableTermsLeft.push(term);
// // // //         } else {
// // // //           constantTermsLeft.push(term);
// // // //         }
// // // //       });
      
// // // //       rightTerms.forEach(term => {
// // // //         if (term.includes(variable)) {
// // // //           variableTermsRight.push(term);
// // // //         }
// // // //       });
      
// // // //       if (constantTermsLeft.length > 0) {
// // // //         const termToMove = constantTermsLeft[0];
// // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the right`);
// // // //       }
      
// // // //       if (variableTermsRight.length > 0) {
// // // //         const termToMove = variableTermsRight[0];
// // // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
// // // //       }
      
// // // //       solutionSteps.push(`Combine like terms: ${formatNumber(coefficient)}${variable} = ${formatNumber(-constant)}`);
// // // //     }
    
// // // //     if (coefficient !== 1) {
// // // //       solutionSteps.push(`Divide both sides by ${formatNumber(coefficient)}: ${variable} = ${formatNumber(-constant)}/${formatNumber(coefficient)}`);
// // // //     }
    
// // // //     solutionSteps.push(`Solution: ${variable} = ${formatNumber(result)}`);
    
// // // //     return { solution: result, steps: solutionSteps };
// // // //   };

// // // //   const handleSolve = () => {
// // // //     try {
// // // //       setError('');
// // // //       setSolution(null);
// // // //       setSteps([]);
// // // //       setVariable('');
      
// // // //       if (!equation.trim()) {
// // // //         setError('Please enter an equation');
// // // //         return;
// // // //       }
      
// // // //       const parsed = parseLinearEquation(equation);
// // // //       const sides = equation.split('=');
// // // //       const leftSide = sides[0].trim();
// // // //       const rightSide = sides[1].trim();
// // // //       const result = solveLinearEquation(
// // // //         parsed.coefficient, 
// // // //         parsed.constant, 
// // // //         parsed.variable, 
// // // //         equation, 
// // // //         leftSide, 
// // // //         rightSide,
// // // //         parsed.expandedEquation
// // // //       );
      
// // // //       setVariable(parsed.variable);
// // // //       setSolution(result.solution);
// // // //       setSteps(result.steps);
      
// // // //     } catch (err) {
// // // //       setError(err.message);
// // // //       setSolution(null);
// // // //       setSteps([]);
// // // //       setVariable('');
// // // //     }
// // // //   };

// // // //   const handleClear = () => {
// // // //     setEquation('');
// // // //     setSolution(null);
// // // //     setError('');
// // // //     setSteps([]);
// // // //     setVariable('');
// // // //   };

// // // //   const handleKeyDown = (e) => {
// // // //     if (e.key === 'Enter') {
// // // //       handleSolve();
// // // //     } else if (e.key === 'Escape') {
// // // //       handleClear();
// // // //     }
// // // //   };

// // // //   const handleExampleClick = (exampleEquation) => {
// // // //     setEquation(exampleEquation);
// // // //     setError('');
// // // //     setSolution(null);
// // // //     setSteps([]);
// // // //     setVariable('');
// // // //   };

// // // //   const generateRandomEquation = (level) => {
// // // //     const variables = ['x', 'y', 'z', 'a', 'b'];
// // // //     const variable = variables[Math.floor(Math.random() * variables.length)];
    
// // // //     let equation = '';
    
// // // //     switch(level) {
// // // //       case 'easy':
// // // //         // ax = b or x + a = b
// // // //         if (Math.random() < 0.5) {
// // // //           const a = Math.floor(Math.random() * 8) + 2;
// // // //           const b = a * (Math.floor(Math.random() * 10) + 1);
// // // //           equation = `${a}${variable} = ${b}`;
// // // //         } else {
// // // //           const a = Math.floor(Math.random() * 10) + 1;
// // // //           const x = Math.floor(Math.random() * 10) + 1;
// // // //           const b = x + a;
// // // //           equation = `${variable} + ${a} = ${b}`;
// // // //         }
// // // //         break;
        
// // // //       case 'medium':
// // // //         // ax + b = cx + d
// // // //         const a = Math.floor(Math.random() * 5) + 2;
// // // //         const b = Math.floor(Math.random() * 10) + 1;
// // // //         const c = Math.floor(Math.random() * 3) + 1;
// // // //         const d = Math.floor(Math.random() * 10) + 1;
// // // //         equation = `${a}${variable} + ${b} = ${c}${variable} + ${d}`;
// // // //         break;
        
// // // //       case 'hard':
// // // //         // a(x + b) = c
// // // //         const coef = Math.floor(Math.random() * 4) + 2;
// // // //         const inside = Math.floor(Math.random() * 8) + 1;
// // // //         const result = coef * (Math.floor(Math.random() * 5) + inside + 1);
// // // //         equation = `${coef}(${variable} + ${inside}) = ${result}`;
// // // //         break;
        
// // // //       case 'expert':
// // // //         // Fraction coefficients
// // // //         const num1 = Math.floor(Math.random() * 3) + 1;
// // // //         const den1 = Math.floor(Math.random() * 3) + 2;
// // // //         const num2 = Math.floor(Math.random() * 4) + 1;
// // // //         const den2 = Math.floor(Math.random() * 4) + 2;
// // // //         const const1 = Math.floor(Math.random() * 6) + 1;
// // // //         const const2 = Math.floor(Math.random() * 8) + 1;
// // // //         equation = `${num1}/${den1}${variable} + ${const1} = ${num2}/${den2}${variable} + ${const2}`;
// // // //         break;
// // // //     }
    
// // // //     setEquation(equation);
// // // //     setError('');
// // // //     setSolution(null);
// // // //     setSteps([]);
// // // //     setVariable('');
// // // //   };

// // // //   const formatSolution = (solution) => {
// // // //     if (typeof solution === 'string') {
// // // //       return solution;
// // // //     }
// // // //     return `${variable} = ${formatNumber(solution)}`;
// // // //   };

// // // //   return (
// // // //     <div className={styles.container}>
// // // //       <div className={styles.mainLayout}>
// // // //         <div className={styles.leftPanel}>
// // // //           <div className={styles.inputSection}>
// // // //             <label className={styles.label}>
// // // //               Enter your linear equation with any variable (Press Enter to solve, Escape to clear):
// // // //             </label>
// // // //             <input
// // // //               type="text"
// // // //               value={equation}
// // // //               onChange={(e) => setEquation(e.target.value)}
// // // //               placeholder="Enter equation like: 2x + 3 = 7, 2(x + 3) = 10, or 1.5x + 2/3 = 4"
// // // //               className={styles.input}
// // // //               onKeyDown={handleKeyDown}
// // // //             />
// // // //             <div className={styles.buttonGroup}>
// // // //               <button onClick={handleSolve} className={styles.solveButton}>
// // // //                 Solve
// // // //               </button>
// // // //               <button onClick={handleClear} className={styles.clearButton}>
// // // //                 Clear
// // // //               </button>
// // // //             </div>
            
// // // //             <div className={styles.generatorSection}>
// // // //               <label className={styles.generatorLabel}>Generate random equation:</label>
// // // //               <div className={styles.generatorButtons}>
// // // //                 <button onClick={() => generateRandomEquation('easy')} className={styles.generatorButton}>
// // // //                   Easy (ax = b)
// // // //                 </button>
// // // //                 <button onClick={() => generateRandomEquation('medium')} className={styles.generatorButton}>
// // // //                   Medium (ax + b = cx + d)
// // // //                 </button>
// // // //                 <button onClick={() => generateRandomEquation('hard')} className={styles.generatorButton}>
// // // //                   Hard (a(x + b) = c)
// // // //                 </button>
// // // //                 <button onClick={() => generateRandomEquation('expert')} className={styles.generatorButton}>
// // // //                   Expert (fractions)
// // // //                 </button>
// // // //               </div>
// // // //             </div>
// // // //           </div>

// // // //           {error && (
// // // //             <div className={styles.error}>
// // // //               <strong>Error:</strong> {error}
// // // //             </div>
// // // //           )}
// // // //         </div>

// // // //         <div className={styles.rightPanel}>
// // // //           {solution !== null ? (
// // // //             <div className={styles.solutionSection}>
// // // //               <h2 className={styles.solutionTitle}>Solution</h2>
// // // //               <div className={styles.solution}>
// // // //                 {formatSolution(solution)}
// // // //               </div>
              
// // // //               {steps.length > 0 && (
// // // //                 <div className={styles.stepsSection}>
// // // //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // // //                   <ol className={styles.stepsList}>
// // // //                     {steps.map((step, index) => (
// // // //                       <li key={index} className={styles.step}>
// // // //                         {step}
// // // //                       </li>
// // // //                     ))}
// // // //                   </ol>
// // // //                 </div>
// // // //               )}
// // // //             </div>
// // // //           ) : (
// // // //             <div className={styles.examples}>
// // // //               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // // //               <ul className={styles.examplesList}>
// // // //                 <li onClick={() => handleExampleClick('2x + 3 = 7')}>2x + 3 = 7</li>
// // // //                 <li onClick={() => handleExampleClick('3y - 5 = 2y + 1')}>3y - 5 = 2y + 1</li>
// // // //                 <li onClick={() => handleExampleClick('5a = 15')}>5a = 15</li>
// // // //                 <li onClick={() => handleExampleClick('2(x + 3) = 10')}>2(x + 3) = 10</li>
// // // //                 <li onClick={() => handleExampleClick('-3(2y - 1) = 9')}>-3(2y - 1) = 9</li>
// // // //                 <li onClick={() => handleExampleClick('4(z - 2) = 2z + 8')}>4(z - 2) = 2z + 8</li>
// // // //                 <li onClick={() => handleExampleClick('1.5x + 2/3 = 4')}>1.5x + 2/3 = 4</li>
// // // //                 <li onClick={() => handleExampleClick('3/4y - 1/2 = 2y + 1/4')}>3/4y - 1/2 = 2y + 1/4</li>
// // // //                 <li onClick={() => handleExampleClick('0.25z + 1.5 = 2.75')}>0.25z + 1.5 = 2.75</li>
// // // //               </ul>
// // // //             </div>
// // // //           )}
// // // //         </div>
// // // //       </div>
// // // //     </div>
// // // //   );
// // // // };

// // // // export default LinearEquationSolver;


// // // import { useState } from 'react';
// // // import styles from './LinearEquationSolver.module.css';

// // // const LinearEquationSolver = () => {
// // //   const [equation, setEquation] = useState('');
// // //   const [solution, setSolution] = useState(null);
// // //   const [error, setError] = useState('');
// // //   const [steps, setSteps] = useState([]);
// // //   const [variable, setVariable] = useState('');

// // //   const parseFraction = (str) => {
// // //     if (!str || str === '') return 0;
    
// // //     // Handle negative signs
// // //     const isNegative = str.startsWith('-');
// // //     const cleanStr = str.replace(/^[+-]/, '');
    
// // //     if (cleanStr.includes('/')) {
// // //       const parts = cleanStr.split('/');
// // //       if (parts.length !== 2) return NaN;
      
// // //       const numerator = parseFloat(parts[0]);
// // //       const denominator = parseFloat(parts[1]);
      
// // //       if (isNaN(numerator) || isNaN(denominator) || denominator === 0) {
// // //         return NaN;
// // //       }
      
// // //       const result = numerator / denominator;
// // //       return isNegative ? -result : result;
// // //     }
    
// // //     const result = parseFloat(cleanStr);
// // //     return isNaN(result) ? NaN : (isNegative ? -result : result);
// // //   };

// // //   const expandParentheses = (equation) => {
// // //     const pattern = /([+-]?\d*\.?\d*(?:\/\d+)?)\(([^)]+)\)/g;
    
// // //     return equation.replace(pattern, (match, coef, inside) => {
// // //       if (coef === '' || coef === '+') coef = '1';
// // //       if (coef === '-') coef = '-1';
      
// // //       const coefficient = parseFraction(coef);
// // //       if (isNaN(coefficient)) {
// // //         throw new Error(`Invalid coefficient: ${coef}`);
// // //       }
      
// // //       const insideNormalized = inside.replace(/(?<!^|[+-])-/g, '+-');
// // //       const terms = insideNormalized.split('+').filter(term => term !== '');
      
// // //       const expandedTerms = terms.map(term => {
// // //         const variableMatch = term.match(/[a-z]/);
// // //         const variable = variableMatch ? variableMatch[0] : null;
        
// // //         if (variable) {
// // //           const coeffStr = term.replace(/[a-z]/g, '');
// // //           let termCoeff = 1;
          
// // //           if (coeffStr === '' || coeffStr === '+') {
// // //             termCoeff = 1;
// // //           } else if (coeffStr === '-') {
// // //             termCoeff = -1;
// // //           } else {
// // //             termCoeff = parseFraction(coeffStr);
// // //             if (isNaN(termCoeff)) {
// // //               throw new Error(`Invalid term coefficient: ${coeffStr}`);
// // //             }
// // //           }
          
// // //           const result = coefficient * termCoeff;
          
// // //           if (result === 1) {
// // //             return variable;
// // //           } else if (result === -1) {
// // //             return `-${variable}`;
// // //           } else {
// // //             return `${result}${variable}`;
// // //           }
// // //         } else {
// // //           const constValue = parseFraction(term);
// // //           if (isNaN(constValue)) {
// // //             throw new Error(`Invalid constant term: ${term}`);
// // //           }
// // //           return (coefficient * constValue).toString();
// // //         }
// // //       });
      
// // //       let result = expandedTerms[0];
// // //       for (let i = 1; i < expandedTerms.length; i++) {
// // //         const term = expandedTerms[i];
// // //         if (term.startsWith('-')) {
// // //           result += term;
// // //         } else {
// // //           result += '+' + term;
// // //         }
// // //       }
      
// // //       return result;
// // //     });
// // //   };

// // //   const parseLinearEquation = (eq) => {
// // //     let cleanEq = eq.replace(/\s+/g, '').toLowerCase();
// // //     cleanEq = expandParentheses(cleanEq);
    
// // //     if (!cleanEq.includes('=')) {
// // //       throw new Error('Equation must contain an equals sign (=)');
// // //     }
    
// // //     const sides = cleanEq.split('=');
// // //     if (sides.length !== 2) {
// // //       throw new Error('Equation must have exactly one equals sign');
// // //     }
    
// // //     const leftSide = sides[0];
// // //     const rightSide = sides[1];
    
// // //     if (!leftSide || !rightSide) {
// // //       throw new Error('Both sides of the equation must have content');
// // //     }
    
// // //     const variableMatch = cleanEq.match(/[a-z]/);
// // //     if (!variableMatch) {
// // //       throw new Error('No variable found in the equation');
// // //     }
// // //     const variable = variableMatch[0];
    
// // //     const parseExpression = (expr) => {
// // //       let coefficient = 0;
// // //       let constant = 0;
      
// // //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// // //       const terms = normalized.split('+').filter(term => term !== '');
      
// // //       for (let term of terms) {
// // //         if (term.includes(variable)) {
// // //           const pattern = new RegExp(`^([+-]?\\d*\\.?\\d*(?:\\/\\d+)?)${variable}$`);
// // //           const coefMatch = term.match(pattern);
// // //           if (coefMatch) {
// // //             let coef = coefMatch[1];
// // //             if (coef === '' || coef === '+') coef = '1';
// // //             if (coef === '-') coef = '-1';
            
// // //             const parsedCoef = parseFraction(coef);
// // //             if (isNaN(parsedCoef)) {
// // //               throw new Error(`Invalid coefficient: ${coef}`);
// // //             }
// // //             coefficient += parsedCoef;
// // //           } else {
// // //             throw new Error(`Invalid term: ${term}`);
// // //           }
// // //         } else {
// // //           const constMatch = term.match(/^([+-]?\d*\.?\d*(?:\/\d+)?)$/);
// // //           if (constMatch && constMatch[1] !== '') {
// // //             const parsedConst = parseFraction(constMatch[1]);
// // //             if (isNaN(parsedConst)) {
// // //               throw new Error(`Invalid constant: ${constMatch[1]}`);
// // //             }
// // //             constant += parsedConst;
// // //           } else if (term !== '') {
// // //             throw new Error(`Invalid term: ${term}`);
// // //           }
// // //         }
// // //       }
      
// // //       return { coefficient, constant };
// // //     };
    
// // //     const left = parseExpression(leftSide);
// // //     const right = parseExpression(rightSide);
    
// // //     const finalCoeff = left.coefficient - right.coefficient;
// // //     const finalConstant = left.constant - right.constant;
    
// // //     return { 
// // //       coefficient: finalCoeff, 
// // //       constant: finalConstant, 
// // //       variable,
// // //       expandedEquation: cleanEq
// // //     };
// // //   };

// // //   const formatNumber = (num) => {
// // //     if (Number.isInteger(num)) {
// // //       return num.toString();
// // //     } else {
// // //       // Check if it's a simple fraction
// // //       const tolerance = 1e-10;
// // //       for (let denom = 2; denom <= 20; denom++) {
// // //         const numerator = Math.round(num * denom);
// // //         if (Math.abs(num - numerator / denom) < tolerance) {
// // //           if (numerator === denom) return '1';
// // //           if (numerator === -denom) return '-1';
// // //           return `${numerator}/${denom}`;
// // //         }
// // //       }
// // //       return num.toFixed(4).replace(/\.?0+$/, '');
// // //     }
// // //   };

// // //   const solveLinearEquation = (coefficient, constant, variable, originalEquation, leftSide, rightSide, expandedEquation) => {
// // //     const solutionSteps = [];
    
// // //     if (Math.abs(coefficient) < 1e-10) {
// // //       if (Math.abs(constant) < 1e-10) {
// // //         return { 
// // //           solution: 'infinitely many solutions', 
// // //           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
// // //         };
// // //       } else {
// // //         return { 
// // //           solution: 'no solution', 
// // //           steps: [originalEquation, `${formatNumber(constant)} = 0`, 'This is never true, so there is no solution'] 
// // //         };
// // //       }
// // //     }
    
// // //     const result = -constant / coefficient;
    
// // //     solutionSteps.push(`Original equation: ${originalEquation}`);
    
// // //     const hasParentheses = originalEquation.includes('(');
    
// // //     if (hasParentheses) {
// // //       const parenthesesMatch = originalEquation.match(/([+-]?\d*\.?\d*(?:\/\d+)?)\(([^)]+)\)/);
// // //       if (parenthesesMatch) {
// // //         let coef = parenthesesMatch[1];
// // //         if (coef === '' || coef === '+') coef = '1';
// // //         if (coef === '-') coef = '-1';
// // //         const insideTerms = parenthesesMatch[2];
        
// // //         solutionSteps.push(`Expand parentheses using distributive property: ${coef}(${insideTerms})`);
// // //       }
      
// // //       solutionSteps.push(`After expanding: ${expandedEquation}`);
      
// // //       const expSides = expandedEquation.split('=');
// // //       const expLeft = expSides[0];
// // //       const expRight = expSides[1];
// // //       const expLeftTerms = expLeft.match(/[+-]?[^+-]+/g) || [];
// // //       const expRightTerms = expRight.match(/[+-]?[^+-]+/g) || [];
      
// // //       let constantTermsLeft = [];
// // //       let variableTermsRight = [];
      
// // //       expLeftTerms.forEach(term => {
// // //         if (!term.includes(variable)) {
// // //           constantTermsLeft.push(term);
// // //         }
// // //       });
      
// // //       expRightTerms.forEach(term => {
// // //         if (term.includes(variable)) {
// // //           variableTermsRight.push(term);
// // //         }
// // //       });
      
// // //       if (variableTermsRight.length > 0) {
// // //         const termToMove = variableTermsRight[0];
// // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move variables to left side`);
// // //       }
      
// // //       if (constantTermsLeft.length > 0) {
// // //         const termToMove = constantTermsLeft[0];
// // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move constants to right side`);
// // //       }
      
// // //       solutionSteps.push(`Combine like terms: ${formatNumber(coefficient)}${variable} = ${formatNumber(-constant)}`);
      
// // //     } else {
// // //       const leftTerms = leftSide.match(/[+-]?[^+-]+/g) || [];
// // //       const rightTerms = rightSide.match(/[+-]?[^+-]+/g) || [];
      
// // //       let variableTermsLeft = [];
// // //       let constantTermsLeft = [];
// // //       let variableTermsRight = [];
      
// // //       leftTerms.forEach(term => {
// // //         if (term.includes(variable)) {
// // //           variableTermsLeft.push(term);
// // //         } else {
// // //           constantTermsLeft.push(term);
// // //         }
// // //       });
      
// // //       rightTerms.forEach(term => {
// // //         if (term.includes(variable)) {
// // //           variableTermsRight.push(term);
// // //         }
// // //       });
      
// // //       if (constantTermsLeft.length > 0) {
// // //         const termToMove = constantTermsLeft[0];
// // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the right`);
// // //       }
      
// // //       if (variableTermsRight.length > 0) {
// // //         const termToMove = variableTermsRight[0];
// // //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
// // //       }
      
// // //       solutionSteps.push(`Combine like terms: ${formatNumber(coefficient)}${variable} = ${formatNumber(-constant)}`);
// // //     }
    
// // //     if (coefficient !== 1) {
// // //       solutionSteps.push(`Divide both sides by ${formatNumber(coefficient)}: ${variable} = ${formatNumber(-constant)}/${formatNumber(coefficient)}`);
// // //     }
    
// // //     solutionSteps.push(`Solution: ${variable} = ${formatNumber(result)}`);
    
// // //     return { solution: result, steps: solutionSteps };
// // //   };

// // //   const handleSolve = () => {
// // //     try {
// // //       setError('');
// // //       setSolution(null);
// // //       setSteps([]);
// // //       setVariable('');
      
// // //       if (!equation.trim()) {
// // //         setError('Please enter an equation');
// // //         return;
// // //       }
      
// // //       const parsed = parseLinearEquation(equation);
// // //       const sides = equation.split('=');
// // //       const leftSide = sides[0].trim();
// // //       const rightSide = sides[1].trim();
// // //       const result = solveLinearEquation(
// // //         parsed.coefficient, 
// // //         parsed.constant, 
// // //         parsed.variable, 
// // //         equation, 
// // //         leftSide, 
// // //         rightSide,
// // //         parsed.expandedEquation
// // //       );
      
// // //       setVariable(parsed.variable);
// // //       setSolution(result.solution);
// // //       setSteps(result.steps);
      
// // //     } catch (err) {
// // //       setError(err.message);
// // //       setSolution(null);
// // //       setSteps([]);
// // //       setVariable('');
// // //     }
// // //   };

// // //   const handleClear = () => {
// // //     setEquation('');
// // //     setSolution(null);
// // //     setError('');
// // //     setSteps([]);
// // //     setVariable('');
// // //   };

// // //   const handleKeyDown = (e) => {
// // //     if (e.key === 'Enter') {
// // //       handleSolve();
// // //     } else if (e.key === 'Escape') {
// // //       handleClear();
// // //     }
// // //   };

// // //   const handleExampleClick = (exampleEquation) => {
// // //     setEquation(exampleEquation);
// // //     setError('');
// // //     setSolution(null);
// // //     setSteps([]);
// // //     setVariable('');
    
// // //     // Return focus to input
// // //     setTimeout(() => {
// // //       const input = document.querySelector('input[type="text"]');
// // //       if (input) input.focus();
// // //     }, 0);
// // //   };

// // //   const generateRandomEquation = (level) => {
// // //     const variables = ['x', 'y', 'z', 'a', 'b'];
// // //     const variable = variables[Math.floor(Math.random() * variables.length)];
    
// // //     let equation = '';
    
// // //     switch(level) {
// // //       case 'easy':
// // //         // ax = b or x + a = b
// // //         if (Math.random() < 0.5) {
// // //           const a = Math.floor(Math.random() * 8) + 2;
// // //           const b = a * (Math.floor(Math.random() * 10) + 1);
// // //           equation = `${a}${variable} = ${b}`;
// // //         } else {
// // //           const a = Math.floor(Math.random() * 10) + 1;
// // //           const x = Math.floor(Math.random() * 10) + 1;
// // //           const b = x + a;
// // //           equation = `${variable} + ${a} = ${b}`;
// // //         }
// // //         break;
        
// // //       case 'medium':
// // //         // ax + b = cx + d
// // //         const a = Math.floor(Math.random() * 5) + 2;
// // //         const b = Math.floor(Math.random() * 10) + 1;
// // //         const c = Math.floor(Math.random() * 3) + 1;
// // //         const d = Math.floor(Math.random() * 10) + 1;
// // //         equation = `${a}${variable} + ${b} = ${c}${variable} + ${d}`;
// // //         break;
        
// // //       case 'hard':
// // //         // a(x + b) = c
// // //         const coef = Math.floor(Math.random() * 4) + 2;
// // //         const inside = Math.floor(Math.random() * 8) + 1;
// // //         const result = coef * (Math.floor(Math.random() * 5) + inside + 1);
// // //         equation = `${coef}(${variable} + ${inside}) = ${result}`;
// // //         break;
        
// // //       case 'expert':
// // //         // Fraction coefficients
// // //         const num1 = Math.floor(Math.random() * 3) + 1;
// // //         const den1 = Math.floor(Math.random() * 3) + 2;
// // //         const num2 = Math.floor(Math.random() * 4) + 1;
// // //         const den2 = Math.floor(Math.random() * 4) + 2;
// // //         const const1 = Math.floor(Math.random() * 6) + 1;
// // //         const const2 = Math.floor(Math.random() * 8) + 1;
// // //         equation = `${num1}/${den1}${variable} + ${const1} = ${num2}/${den2}${variable} + ${const2}`;
// // //         break;
// // //     }
    
// // //     setEquation(equation);
// // //     setError('');
// // //     setSolution(null);
// // //     setSteps([]);
// // //     setVariable('');
// // //   };

// // //   const formatSolution = (solution) => {
// // //     if (typeof solution === 'string') {
// // //       return solution;
// // //     }
// // //     return `${variable} = ${formatNumber(solution)}`;
// // //   };

// // //   return (
// // //     <div className={styles.container}>
// // //       <div className={styles.mainLayout}>
// // //         <div className={styles.leftPanel}>
// // //           <div className={styles.inputSection}>
// // //             <label className={styles.label}>
// // //               Enter your linear equation with any variable (Press Enter to solve, Escape to clear):
// // //             </label>
// // //             <input
// // //               type="text"
// // //               value={equation}
// // //               onChange={(e) => setEquation(e.target.value)}
// // //               placeholder="Enter equation like: 2x + 3 = 7, 2(x + 3) = 10, or 1.5x + 2/3 = 4"
// // //               className={styles.input}
// // //               onKeyDown={handleKeyDown}
// // //             />
// // //             <div className={styles.buttonGroup}>
// // //               <button onClick={handleSolve} className={styles.solveButton}>
// // //                 Solve
// // //               </button>
// // //               <button onClick={handleClear} className={styles.clearButton}>
// // //                 Clear
// // //               </button>
// // //             </div>
            
// // //             <div className={styles.generatorSection}>
// // //               <label className={styles.generatorLabel}>Generate random equation:</label>
// // //               <div className={styles.generatorButtons}>
// // //                 <button onClick={() => generateRandomEquation('easy')} className={styles.generatorButton}>
// // //                   Easy (ax = b)
// // //                 </button>
// // //                 <button onClick={() => generateRandomEquation('medium')} className={styles.generatorButton}>
// // //                   Medium (ax + b = cx + d)
// // //                 </button>
// // //                 <button onClick={() => generateRandomEquation('hard')} className={styles.generatorButton}>
// // //                   Hard (a(x + b) = c)
// // //                 </button>
// // //                 <button onClick={() => generateRandomEquation('expert')} className={styles.generatorButton}>
// // //                   Expert (fractions)
// // //                 </button>
// // //               </div>
// // //             </div>
// // //           </div>

// // //           {error && (
// // //             <div className={styles.error}>
// // //               <strong>Error:</strong> {error}
// // //             </div>
// // //           )}
// // //         </div>

// // //         <div className={styles.rightPanel}>
// // //           {solution !== null ? (
// // //             <div className={styles.solutionSection}>
// // //               <h2 className={styles.solutionTitle}>Solution</h2>
// // //               <div className={styles.solution}>
// // //                 {formatSolution(solution)}
// // //               </div>
              
// // //               {steps.length > 0 && (
// // //                 <div className={styles.stepsSection}>
// // //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// // //                   <ol className={styles.stepsList}>
// // //                     {steps.map((step, index) => (
// // //                       <li key={index} className={styles.step}>
// // //                         {step}
// // //                       </li>
// // //                     ))}
// // //                   </ol>
// // //                 </div>
// // //               )}
// // //             </div>
// // //           ) : (
// // //             <div className={styles.examples}>
// // //               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// // //               <ul className={styles.examplesList}>
// // //                 <li onClick={() => handleExampleClick('2x + 3 = 7')}>2x + 3 = 7</li>
// // //                 <li onClick={() => handleExampleClick('3y - 5 = 2y + 1')}>3y - 5 = 2y + 1</li>
// // //                 <li onClick={() => handleExampleClick('5a = 15')}>5a = 15</li>
// // //                 <li onClick={() => handleExampleClick('2(x + 3) = 10')}>2(x + 3) = 10</li>
// // //                 <li onClick={() => handleExampleClick('-3(2y - 1) = 9')}>-3(2y - 1) = 9</li>
// // //                 <li onClick={() => handleExampleClick('4(z - 2) = 2z + 8')}>4(z - 2) = 2z + 8</li>
// // //                 <li onClick={() => handleExampleClick('1.5x + 2/3 = 4')}>1.5x + 2/3 = 4</li>
// // //                 <li onClick={() => handleExampleClick('3/4y - 1/2 = 2y + 1/4')}>3/4y - 1/2 = 2y + 1/4</li>
// // //                 <li onClick={() => handleExampleClick('0.25z + 1.5 = 2.75')}>0.25z + 1.5 = 2.75</li>
// // //               </ul>
// // //             </div>
// // //           )}
// // //         </div>
// // //       </div>
// // //     </div>
// // //   );
// // // };

// // // export default LinearEquationSolver;


// // import { useState, useRef } from 'react';
// // import styles from './LinearEquationSolver.module.css';

// // const LinearEquationSolver = () => {
// //   const [equation, setEquation] = useState('');
// //   const [solution, setSolution] = useState(null);
// //   const [error, setError] = useState('');
// //   const [steps, setSteps] = useState([]);
// //   const [variable, setVariable] = useState('');
// //   const inputRef = useRef(null);

// //   const parseFraction = (str) => {
// //     if (!str || str === '') return 0;
    
// //     // Handle negative signs
// //     const isNegative = str.startsWith('-');
// //     const cleanStr = str.replace(/^[+-]/, '');
    
// //     if (cleanStr.includes('/')) {
// //       const parts = cleanStr.split('/');
// //       if (parts.length !== 2) return NaN;
      
// //       const numerator = parseFloat(parts[0]);
// //       const denominator = parseFloat(parts[1]);
      
// //       if (isNaN(numerator) || isNaN(denominator) || denominator === 0) {
// //         return NaN;
// //       }
      
// //       const result = numerator / denominator;
// //       return isNegative ? -result : result;
// //     }
    
// //     const result = parseFloat(cleanStr);
// //     return isNaN(result) ? NaN : (isNegative ? -result : result);
// //   };

// //   const expandParentheses = (equation) => {
// //     const pattern = /([+-]?\d*\.?\d*(?:\/\d+)?)\(([^)]+)\)/g;
    
// //     return equation.replace(pattern, (match, coef, inside) => {
// //       if (coef === '' || coef === '+') coef = '1';
// //       if (coef === '-') coef = '-1';
      
// //       const coefficient = parseFraction(coef);
// //       if (isNaN(coefficient)) {
// //         throw new Error(`Invalid coefficient: ${coef}`);
// //       }
      
// //       const insideNormalized = inside.replace(/(?<!^|[+-])-/g, '+-');
// //       const terms = insideNormalized.split('+').filter(term => term !== '');
      
// //       const expandedTerms = terms.map(term => {
// //         const variableMatch = term.match(/[a-z]/);
// //         const variable = variableMatch ? variableMatch[0] : null;
        
// //         if (variable) {
// //           const coeffStr = term.replace(/[a-z]/g, '');
// //           let termCoeff = 1;
          
// //           if (coeffStr === '' || coeffStr === '+') {
// //             termCoeff = 1;
// //           } else if (coeffStr === '-') {
// //             termCoeff = -1;
// //           } else {
// //             termCoeff = parseFraction(coeffStr);
// //             if (isNaN(termCoeff)) {
// //               throw new Error(`Invalid term coefficient: ${coeffStr}`);
// //             }
// //           }
          
// //           const result = coefficient * termCoeff;
          
// //           if (result === 1) {
// //             return variable;
// //           } else if (result === -1) {
// //             return `-${variable}`;
// //           } else {
// //             return `${result}${variable}`;
// //           }
// //         } else {
// //           const constValue = parseFraction(term);
// //           if (isNaN(constValue)) {
// //             throw new Error(`Invalid constant term: ${term}`);
// //           }
// //           return (coefficient * constValue).toString();
// //         }
// //       });
      
// //       let result = expandedTerms[0];
// //       for (let i = 1; i < expandedTerms.length; i++) {
// //         const term = expandedTerms[i];
// //         if (term.startsWith('-')) {
// //           result += term;
// //         } else {
// //           result += '+' + term;
// //         }
// //       }
      
// //       return result;
// //     });
// //   };

// //   const parseLinearEquation = (eq) => {
// //     let cleanEq = eq.replace(/\s+/g, '').toLowerCase();
// //     cleanEq = expandParentheses(cleanEq);
    
// //     if (!cleanEq.includes('=')) {
// //       throw new Error('Equation must contain an equals sign (=)');
// //     }
    
// //     const sides = cleanEq.split('=');
// //     if (sides.length !== 2) {
// //       throw new Error('Equation must have exactly one equals sign');
// //     }
    
// //     const leftSide = sides[0];
// //     const rightSide = sides[1];
    
// //     if (!leftSide || !rightSide) {
// //       throw new Error('Both sides of the equation must have content');
// //     }
    
// //     const variableMatch = cleanEq.match(/[a-z]/);
// //     if (!variableMatch) {
// //       throw new Error('No variable found in the equation');
// //     }
// //     const variable = variableMatch[0];
    
// //     const parseExpression = (expr) => {
// //       let coefficient = 0;
// //       let constant = 0;
      
// //       const normalized = expr.replace(/(?<!^)-/g, '+-');
// //       const terms = normalized.split('+').filter(term => term !== '');
      
// //       for (let term of terms) {
// //         if (term.includes(variable)) {
// //           const pattern = new RegExp(`^([+-]?\\d*\\.?\\d*(?:\\/\\d+)?)${variable}$`);
// //           const coefMatch = term.match(pattern);
// //           if (coefMatch) {
// //             let coef = coefMatch[1];
// //             if (coef === '' || coef === '+') coef = '1';
// //             if (coef === '-') coef = '-1';
            
// //             const parsedCoef = parseFraction(coef);
// //             if (isNaN(parsedCoef)) {
// //               throw new Error(`Invalid coefficient: ${coef}`);
// //             }
// //             coefficient += parsedCoef;
// //           } else {
// //             throw new Error(`Invalid term: ${term}`);
// //           }
// //         } else {
// //           const constMatch = term.match(/^([+-]?\d*\.?\d*(?:\/\d+)?)$/);
// //           if (constMatch && constMatch[1] !== '') {
// //             const parsedConst = parseFraction(constMatch[1]);
// //             if (isNaN(parsedConst)) {
// //               throw new Error(`Invalid constant: ${constMatch[1]}`);
// //             }
// //             constant += parsedConst;
// //           } else if (term !== '') {
// //             throw new Error(`Invalid term: ${term}`);
// //           }
// //         }
// //       }
      
// //       return { coefficient, constant };
// //     };
    
// //     const left = parseExpression(leftSide);
// //     const right = parseExpression(rightSide);
    
// //     const finalCoeff = left.coefficient - right.coefficient;
// //     const finalConstant = left.constant - right.constant;
    
// //     return { 
// //       coefficient: finalCoeff, 
// //       constant: finalConstant, 
// //       variable,
// //       expandedEquation: cleanEq
// //     };
// //   };

// //   const formatNumber = (num) => {
// //     if (Number.isInteger(num)) {
// //       return num.toString();
// //     } else {
// //       // Check if it's a simple fraction
// //       const tolerance = 1e-10;
// //       for (let denom = 2; denom <= 20; denom++) {
// //         const numerator = Math.round(num * denom);
// //         if (Math.abs(num - numerator / denom) < tolerance) {
// //           if (numerator === denom) return '1';
// //           if (numerator === -denom) return '-1';
// //           return `${numerator}/${denom}`;
// //         }
// //       }
// //       return num.toFixed(4).replace(/\.?0+$/, '');
// //     }
// //   };

// //   const solveLinearEquation = (coefficient, constant, variable, originalEquation, leftSide, rightSide, expandedEquation) => {
// //     const solutionSteps = [];
    
// //     if (Math.abs(coefficient) < 1e-10) {
// //       if (Math.abs(constant) < 1e-10) {
// //         return { 
// //           solution: 'infinitely many solutions', 
// //           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
// //         };
// //       } else {
// //         return { 
// //           solution: 'no solution', 
// //           steps: [originalEquation, `${formatNumber(constant)} = 0`, 'This is never true, so there is no solution'] 
// //         };
// //       }
// //     }
    
// //     const result = -constant / coefficient;
    
// //     solutionSteps.push(`Original equation: ${originalEquation}`);
    
// //     const hasParentheses = originalEquation.includes('(');
    
// //     if (hasParentheses) {
// //       const parenthesesMatch = originalEquation.match(/([+-]?\d*\.?\d*(?:\/\d+)?)\(([^)]+)\)/);
// //       if (parenthesesMatch) {
// //         let coef = parenthesesMatch[1];
// //         if (coef === '' || coef === '+') coef = '1';
// //         if (coef === '-') coef = '-1';
// //         const insideTerms = parenthesesMatch[2];
        
// //         solutionSteps.push(`Expand parentheses using distributive property: ${coef}(${insideTerms})`);
// //       }
      
// //       solutionSteps.push(`After expanding: ${expandedEquation}`);
      
// //       const expSides = expandedEquation.split('=');
// //       const expLeft = expSides[0];
// //       const expRight = expSides[1];
// //       const expLeftTerms = expLeft.match(/[+-]?[^+-]+/g) || [];
// //       const expRightTerms = expRight.match(/[+-]?[^+-]+/g) || [];
      
// //       let constantTermsLeft = [];
// //       let variableTermsRight = [];
      
// //       expLeftTerms.forEach(term => {
// //         if (!term.includes(variable)) {
// //           constantTermsLeft.push(term);
// //         }
// //       });
      
// //       expRightTerms.forEach(term => {
// //         if (term.includes(variable)) {
// //           variableTermsRight.push(term);
// //         }
// //       });
      
// //       if (variableTermsRight.length > 0) {
// //         const termToMove = variableTermsRight[0];
// //         solutionSteps.push(`Subtract ${termToMove} from both sides to move variables to left side`);
// //       }
      
// //       if (constantTermsLeft.length > 0) {
// //         const termToMove = constantTermsLeft[0];
// //         solutionSteps.push(`Subtract ${termToMove} from both sides to move constants to right side`);
// //       }
      
// //       solutionSteps.push(`Combine like terms: ${formatNumber(coefficient)}${variable} = ${formatNumber(-constant)}`);
      
// //     } else {
// //       const leftTerms = leftSide.match(/[+-]?[^+-]+/g) || [];
// //       const rightTerms = rightSide.match(/[+-]?[^+-]+/g) || [];
      
// //       let variableTermsLeft = [];
// //       let constantTermsLeft = [];
// //       let variableTermsRight = [];
      
// //       leftTerms.forEach(term => {
// //         if (term.includes(variable)) {
// //           variableTermsLeft.push(term);
// //         } else {
// //           constantTermsLeft.push(term);
// //         }
// //       });
      
// //       rightTerms.forEach(term => {
// //         if (term.includes(variable)) {
// //           variableTermsRight.push(term);
// //         }
// //       });
      
// //       if (constantTermsLeft.length > 0) {
// //         const termToMove = constantTermsLeft[0];
// //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the right`);
// //       }
      
// //       if (variableTermsRight.length > 0) {
// //         const termToMove = variableTermsRight[0];
// //         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
// //       }
      
// //       solutionSteps.push(`Combine like terms: ${formatNumber(coefficient)}${variable} = ${formatNumber(-constant)}`);
// //     }
    
// //     if (coefficient !== 1) {
// //       solutionSteps.push(`Divide both sides by ${formatNumber(coefficient)}: ${variable} = ${formatNumber(-constant)}/${formatNumber(coefficient)}`);
// //     }
    
// //     solutionSteps.push(`Solution: ${variable} = ${formatNumber(result)}`);
    
// //     return { solution: result, steps: solutionSteps };
// //   };

// //   const handleSolve = () => {
// //     try {
// //       setError('');
// //       setSolution(null);
// //       setSteps([]);
// //       setVariable('');
      
// //       if (!equation.trim()) {
// //         setError('Please enter an equation');
// //         inputRef.current?.focus();
// //         return;
// //       }
      
// //       const parsed = parseLinearEquation(equation);
// //       const sides = equation.split('=');
// //       const leftSide = sides[0].trim();
// //       const rightSide = sides[1].trim();
// //       const result = solveLinearEquation(
// //         parsed.coefficient, 
// //         parsed.constant, 
// //         parsed.variable, 
// //         equation, 
// //         leftSide, 
// //         rightSide,
// //         parsed.expandedEquation
// //       );
      
// //       setVariable(parsed.variable);
// //       setSolution(result.solution);
// //       setSteps(result.steps);
      
// //       // Return focus to input after solving
// //       setTimeout(() => inputRef.current?.focus(), 100);
      
// //     } catch (err) {
// //       setError(err.message);
// //       setSolution(null);
// //       setSteps([]);
// //       setVariable('');
// //       inputRef.current?.focus();
// //     }
// //   };

// //   const handleClear = () => {
// //     setEquation('');
// //     setSolution(null);
// //     setError('');
// //     setSteps([]);
// //     setVariable('');
// //     inputRef.current?.focus();
// //   };

// //   const handleKeyDown = (e) => {
// //     if (e.key === 'Enter') {
// //       handleSolve();
// //     } else if (e.key === 'Escape') {
// //       handleClear();
// //     }
// //   };

// //   const handleExampleClick = (exampleEquation) => {
// //     setEquation(exampleEquation);
// //     setError('');
// //     setSolution(null);
// //     setSteps([]);
// //     setVariable('');
    
// //     // Return focus to input
// //     setTimeout(() => inputRef.current?.focus(), 100);
// //   };

// //   const generateRandomEquation = (level) => {
// //     const variables = ['x', 'y', 'z', 'a', 'b'];
// //     const variable = variables[Math.floor(Math.random() * variables.length)];
    
// //     let equation = '';
    
// //     switch(level) {
// //       case 'easy':
// //         // ax = b or x + a = b
// //         if (Math.random() < 0.5) {
// //           const a = Math.floor(Math.random() * 8) + 2;
// //           const b = a * (Math.floor(Math.random() * 10) + 1);
// //           equation = `${a}${variable} = ${b}`;
// //         } else {
// //           const a = Math.floor(Math.random() * 10) + 1;
// //           const x = Math.floor(Math.random() * 10) + 1;
// //           const b = x + a;
// //           equation = `${variable} + ${a} = ${b}`;
// //         }
// //         break;
        
// //       case 'medium':
// //         // ax + b = cx + d
// //         const a = Math.floor(Math.random() * 5) + 2;
// //         const b = Math.floor(Math.random() * 10) + 1;
// //         const c = Math.floor(Math.random() * 3) + 1;
// //         const d = Math.floor(Math.random() * 10) + 1;
// //         equation = `${a}${variable} + ${b} = ${c}${variable} + ${d}`;
// //         break;
        
// //       case 'hard':
// //         // a(x + b) = c
// //         const coef = Math.floor(Math.random() * 4) + 2;
// //         const inside = Math.floor(Math.random() * 8) + 1;
// //         const result = coef * (Math.floor(Math.random() * 5) + inside + 1);
// //         equation = `${coef}(${variable} + ${inside}) = ${result}`;
// //         break;
        
// //       case 'expert':
// //         // Fraction coefficients
// //         const num1 = Math.floor(Math.random() * 3) + 1;
// //         const den1 = Math.floor(Math.random() * 3) + 2;
// //         const num2 = Math.floor(Math.random() * 4) + 1;
// //         const den2 = Math.floor(Math.random() * 4) + 2;
// //         const const1 = Math.floor(Math.random() * 6) + 1;
// //         const const2 = Math.floor(Math.random() * 8) + 1;
// //         equation = `${num1}/${den1}${variable} + ${const1} = ${num2}/${den2}${variable} + ${const2}`;
// //         break;
// //     }
    
// //     setEquation(equation);
// //     setError('');
// //     setSolution(null);
// //     setSteps([]);
// //     setVariable('');
    
// //     // Return focus to input after generating
// //     setTimeout(() => inputRef.current?.focus(), 100);
// //   };

// //   const formatSolution = (solution) => {
// //     if (typeof solution === 'string') {
// //       return solution;
// //     }
// //     return `${variable} = ${formatNumber(solution)}`;
// //   };

// //   return (
// //     <div className={styles.container}>
// //       <div className={styles.mainLayout}>
// //         <div className={styles.leftPanel}>
// //           <div className={styles.inputSection}>
// //             <label className={styles.label}>
// //               Enter your linear equation with any variable (Press Enter to solve, Escape to clear):
// //             </label>
// //             <input
// //               ref={inputRef}
// //               type="text"
// //               value={equation}
// //               onChange={(e) => setEquation(e.target.value)}
// //               placeholder="Enter equation like: 2x + 3 = 7, 2(x + 3) = 10, or 1.5x + 2/3 = 4"
// //               className={styles.input}
// //               onKeyDown={handleKeyDown}
// //             />
// //             <div className={styles.buttonGroup}>
// //               <button onClick={handleSolve} className={styles.solveButton}>
// //                 Solve
// //               </button>
// //               <button onClick={handleClear} className={styles.clearButton}>
// //                 Clear
// //               </button>
// //             </div>
            
// //             <div className={styles.generatorSection}>
// //               <label className={styles.generatorLabel}>Generate random equation:</label>
// //               <div className={styles.generatorButtons}>
// //                 <button onClick={() => generateRandomEquation('easy')} className={styles.generatorButton}>
// //                   Easy (ax = b)
// //                 </button>
// //                 <button onClick={() => generateRandomEquation('medium')} className={styles.generatorButton}>
// //                   Medium (ax + b = cx + d)
// //                 </button>
// //                 <button onClick={() => generateRandomEquation('hard')} className={styles.generatorButton}>
// //                   Hard (a(x + b) = c)
// //                 </button>
// //                 <button onClick={() => generateRandomEquation('expert')} className={styles.generatorButton}>
// //                   Expert (fractions)
// //                 </button>
// //               </div>
// //             </div>
// //           </div>

// //           {error && (
// //             <div className={styles.error}>
// //               <strong>Error:</strong> {error}
// //             </div>
// //           )}
// //         </div>

// //         <div className={styles.rightPanel}>
// //           {solution !== null ? (
// //             <div className={styles.solutionSection}>
// //               <h2 className={styles.solutionTitle}>Solution</h2>
// //               <div className={styles.solution}>
// //                 {formatSolution(solution)}
// //               </div>
              
// //               {steps.length > 0 && (
// //                 <div className={styles.stepsSection}>
// //                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
// //                   <ol className={styles.stepsList}>
// //                     {steps.map((step, index) => (
// //                       <li key={index} className={styles.step}>
// //                         {step}
// //                       </li>
// //                     ))}
// //                   </ol>
// //                 </div>
// //               )}
// //             </div>
// //           ) : (
// //             <div className={styles.examples}>
// //               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
// //               <ul className={styles.examplesList}>
// //                 <li onClick={() => handleExampleClick('2x + 3 = 7')}>2x + 3 = 7</li>
// //                 <li onClick={() => handleExampleClick('3y - 5 = 2y + 1')}>3y - 5 = 2y + 1</li>
// //                 <li onClick={() => handleExampleClick('5a = 15')}>5a = 15</li>
// //                 <li onClick={() => handleExampleClick('2(x + 3) = 10')}>2(x + 3) = 10</li>
// //                 <li onClick={() => handleExampleClick('-3(2y - 1) = 9')}>-3(2y - 1) = 9</li>
// //                 <li onClick={() => handleExampleClick('4(z - 2) = 2z + 8')}>4(z - 2) = 2z + 8</li>
// //                 <li onClick={() => handleExampleClick('1.5x + 2/3 = 4')}>1.5x + 2/3 = 4</li>
// //                 <li onClick={() => handleExampleClick('3/4y - 1/2 = 2y + 1/4')}>3/4y - 1/2 = 2y + 1/4</li>
// //                 <li onClick={() => handleExampleClick('0.25z + 1.5 = 2.75')}>0.25z + 1.5 = 2.75</li>
// //               </ul>
// //             </div>
// //           )}
// //         </div>
// //       </div>
// //     </div>
// //   );
// // };

// // export default LinearEquationSolver;


// import { useState, useRef } from 'react';
// import styles from './LinearEquationSolver.module.css';

// const LinearEquationSolver = () => {
//   const [equation, setEquation] = useState('');
//   const [solution, setSolution] = useState(null);
//   const [error, setError] = useState('');
//   const [steps, setSteps] = useState([]);
//   const [variable, setVariable] = useState('');
//   const [history, setHistory] = useState([]);
//   const inputRef = useRef(null);

//   const parseFraction = (str) => {
//     if (!str || str === '') return 0;
    
//     // Handle negative signs
//     const isNegative = str.startsWith('-');
//     const cleanStr = str.replace(/^[+-]/, '');
    
//     if (cleanStr.includes('/')) {
//       const parts = cleanStr.split('/');
//       if (parts.length !== 2) return NaN;
      
//       const numerator = parseFloat(parts[0]);
//       const denominator = parseFloat(parts[1]);
      
//       if (isNaN(numerator) || isNaN(denominator) || denominator === 0) {
//         return NaN;
//       }
      
//       const result = numerator / denominator;
//       return isNegative ? -result : result;
//     }
    
//     const result = parseFloat(cleanStr);
//     return isNaN(result) ? NaN : (isNegative ? -result : result);
//   };

//   const expandParentheses = (equation) => {
//     const pattern = /([+-]?\d*\.?\d*(?:\/\d+)?)\(([^)]+)\)/g;
    
//     return equation.replace(pattern, (match, coef, inside) => {
//       if (coef === '' || coef === '+') coef = '1';
//       if (coef === '-') coef = '-1';
      
//       const coefficient = parseFraction(coef);
//       if (isNaN(coefficient)) {
//         throw new Error(`Invalid coefficient: ${coef}`);
//       }
      
//       const insideNormalized = inside.replace(/(?<!^|[+-])-/g, '+-');
//       const terms = insideNormalized.split('+').filter(term => term !== '');
      
//       const expandedTerms = terms.map(term => {
//         const variableMatch = term.match(/[a-z]/);
//         const variable = variableMatch ? variableMatch[0] : null;
        
//         if (variable) {
//           const coeffStr = term.replace(/[a-z]/g, '');
//           let termCoeff = 1;
          
//           if (coeffStr === '' || coeffStr === '+') {
//             termCoeff = 1;
//           } else if (coeffStr === '-') {
//             termCoeff = -1;
//           } else {
//             termCoeff = parseFraction(coeffStr);
//             if (isNaN(termCoeff)) {
//               throw new Error(`Invalid term coefficient: ${coeffStr}`);
//             }
//           }
          
//           const result = coefficient * termCoeff;
          
//           if (result === 1) {
//             return variable;
//           } else if (result === -1) {
//             return `-${variable}`;
//           } else {
//             return `${result}${variable}`;
//           }
//         } else {
//           const constValue = parseFraction(term);
//           if (isNaN(constValue)) {
//             throw new Error(`Invalid constant term: ${term}`);
//           }
//           return (coefficient * constValue).toString();
//         }
//       });
      
//       let result = expandedTerms[0];
//       for (let i = 1; i < expandedTerms.length; i++) {
//         const term = expandedTerms[i];
//         if (term.startsWith('-')) {
//           result += term;
//         } else {
//           result += '+' + term;
//         }
//       }
      
//       return result;
//     });
//   };

//   const parseLinearEquation = (eq) => {
//     let cleanEq = eq.replace(/\s+/g, '').toLowerCase();
//     cleanEq = expandParentheses(cleanEq);
    
//     if (!cleanEq.includes('=')) {
//       throw new Error('Equation must contain an equals sign (=)');
//     }
    
//     const sides = cleanEq.split('=');
//     if (sides.length !== 2) {
//       throw new Error('Equation must have exactly one equals sign');
//     }
    
//     const leftSide = sides[0];
//     const rightSide = sides[1];
    
//     if (!leftSide || !rightSide) {
//       throw new Error('Both sides of the equation must have content');
//     }
    
//     const variableMatch = cleanEq.match(/[a-z]/);
//     if (!variableMatch) {
//       throw new Error('No variable found in the equation');
//     }
//     const variable = variableMatch[0];
    
//     const parseExpression = (expr) => {
//       let coefficient = 0;
//       let constant = 0;
      
//       const normalized = expr.replace(/(?<!^)-/g, '+-');
//       const terms = normalized.split('+').filter(term => term !== '');
      
//       for (let term of terms) {
//         if (term.includes(variable)) {
//           const pattern = new RegExp(`^([+-]?\\d*\\.?\\d*(?:\\/\\d+)?)${variable}$`);
//           const coefMatch = term.match(pattern);
//           if (coefMatch) {
//             let coef = coefMatch[1];
//             if (coef === '' || coef === '+') coef = '1';
//             if (coef === '-') coef = '-1';
            
//             const parsedCoef = parseFraction(coef);
//             if (isNaN(parsedCoef)) {
//               throw new Error(`Invalid coefficient: ${coef}`);
//             }
//             coefficient += parsedCoef;
//           } else {
//             throw new Error(`Invalid term: ${term}`);
//           }
//         } else {
//           const constMatch = term.match(/^([+-]?\d*\.?\d*(?:\/\d+)?)$/);
//           if (constMatch && constMatch[1] !== '') {
//             const parsedConst = parseFraction(constMatch[1]);
//             if (isNaN(parsedConst)) {
//               throw new Error(`Invalid constant: ${constMatch[1]}`);
//             }
//             constant += parsedConst;
//           } else if (term !== '') {
//             throw new Error(`Invalid term: ${term}`);
//           }
//         }
//       }
      
//       return { coefficient, constant };
//     };
    
//     const left = parseExpression(leftSide);
//     const right = parseExpression(rightSide);
    
//     const finalCoeff = left.coefficient - right.coefficient;
//     const finalConstant = left.constant - right.constant;
    
//     return { 
//       coefficient: finalCoeff, 
//       constant: finalConstant, 
//       variable,
//       expandedEquation: cleanEq
//     };
//   };

//   const formatNumber = (num) => {
//     if (Number.isInteger(num)) {
//       return num.toString();
//     } else {
//       // Check if it's a simple fraction
//       const tolerance = 1e-10;
//       for (let denom = 2; denom <= 20; denom++) {
//         const numerator = Math.round(num * denom);
//         if (Math.abs(num - numerator / denom) < tolerance) {
//           if (numerator === denom) return '1';
//           if (numerator === -denom) return '-1';
//           return `${numerator}/${denom}`;
//         }
//       }
//       return num.toFixed(4).replace(/\.?0+$/, '');
//     }
//   };

//   const solveLinearEquation = (coefficient, constant, variable, originalEquation, leftSide, rightSide, expandedEquation) => {
//     const solutionSteps = [];
    
//     if (Math.abs(coefficient) < 1e-10) {
//       if (Math.abs(constant) < 1e-10) {
//         return { 
//           solution: 'infinitely many solutions', 
//           steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
//         };
//       } else {
//         return { 
//           solution: 'no solution', 
//           steps: [originalEquation, `${formatNumber(constant)} = 0`, 'This is never true, so there is no solution'] 
//         };
//       }
//     }
    
//     const result = -constant / coefficient;
    
//     solutionSteps.push(`Original equation: ${originalEquation}`);
    
//     const hasParentheses = originalEquation.includes('(');
    
//     if (hasParentheses) {
//       const parenthesesMatch = originalEquation.match(/([+-]?\d*\.?\d*(?:\/\d+)?)\(([^)]+)\)/);
//       if (parenthesesMatch) {
//         let coef = parenthesesMatch[1];
//         if (coef === '' || coef === '+') coef = '1';
//         if (coef === '-') coef = '-1';
//         const insideTerms = parenthesesMatch[2];
        
//         solutionSteps.push(`Expand parentheses using distributive property: ${coef}(${insideTerms})`);
//       }
      
//       solutionSteps.push(`After expanding: ${expandedEquation}`);
      
//       const expSides = expandedEquation.split('=');
//       const expLeft = expSides[0];
//       const expRight = expSides[1];
//       const expLeftTerms = expLeft.match(/[+-]?[^+-]+/g) || [];
//       const expRightTerms = expRight.match(/[+-]?[^+-]+/g) || [];
      
//       let constantTermsLeft = [];
//       let variableTermsRight = [];
      
//       expLeftTerms.forEach(term => {
//         if (!term.includes(variable)) {
//           constantTermsLeft.push(term);
//         }
//       });
      
//       expRightTerms.forEach(term => {
//         if (term.includes(variable)) {
//           variableTermsRight.push(term);
//         }
//       });
      
//       if (variableTermsRight.length > 0) {
//         const termToMove = variableTermsRight[0];
//         solutionSteps.push(`Subtract ${termToMove} from both sides to move variables to left side`);
//       }
      
//       if (constantTermsLeft.length > 0) {
//         const termToMove = constantTermsLeft[0];
//         solutionSteps.push(`Subtract ${termToMove} from both sides to move constants to right side`);
//       }
      
//       solutionSteps.push(`Combine like terms: ${formatNumber(coefficient)}${variable} = ${formatNumber(-constant)}`);
      
//     } else {
//       const leftTerms = leftSide.match(/[+-]?[^+-]+/g) || [];
//       const rightTerms = rightSide.match(/[+-]?[^+-]+/g) || [];
      
//       let variableTermsLeft = [];
//       let constantTermsLeft = [];
//       let variableTermsRight = [];
      
//       leftTerms.forEach(term => {
//         if (term.includes(variable)) {
//           variableTermsLeft.push(term);
//         } else {
//           constantTermsLeft.push(term);
//         }
//       });
      
//       rightTerms.forEach(term => {
//         if (term.includes(variable)) {
//           variableTermsRight.push(term);
//         }
//       });
      
//       if (constantTermsLeft.length > 0) {
//         const termToMove = constantTermsLeft[0];
//         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the right`);
//       }
      
//       if (variableTermsRight.length > 0) {
//         const termToMove = variableTermsRight[0];
//         solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
//       }
      
//       solutionSteps.push(`Combine like terms: ${formatNumber(coefficient)}${variable} = ${formatNumber(-constant)}`);
//     }
    
//     if (coefficient !== 1) {
//       solutionSteps.push(`Divide both sides by ${formatNumber(coefficient)}: ${variable} = ${formatNumber(-constant)}/${formatNumber(coefficient)}`);
//     }
    
//     solutionSteps.push(`Solution: ${variable} = ${formatNumber(result)}`);
    
//     return { solution: result, steps: solutionSteps };
//   };

//   const addToHistory = (equation, solution, variable) => {
//     const historyItem = {
//       equation: equation,
//       solution: solution,
//       variable: variable,
//       timestamp: new Date().toLocaleString()
//     };
    
//     setHistory(prevHistory => {
//       // Remove duplicate if exists
//       const filtered = prevHistory.filter(item => item.equation !== equation);
//       // Add new item at the beginning and keep only last 8 items
//       return [historyItem, ...filtered].slice(0, 8);
//     });
//   };

//   const handleSolve = () => {
//     try {
//       setError('');
//       setSolution(null);
//       setSteps([]);
//       setVariable('');
      
//       if (!equation.trim()) {
//         setError('Please enter an equation');
//         inputRef.current?.focus();
//         return;
//       }
      
//       const parsed = parseLinearEquation(equation);
//       const sides = equation.split('=');
//       const leftSide = sides[0].trim();
//       const rightSide = sides[1].trim();
//       const result = solveLinearEquation(
//         parsed.coefficient, 
//         parsed.constant, 
//         parsed.variable, 
//         equation, 
//         leftSide, 
//         rightSide,
//         parsed.expandedEquation
//       );
      
//       setVariable(parsed.variable);
//       setSolution(result.solution);
//       setSteps(result.steps);
      
//       // Add to history only for successful solutions
//       addToHistory(equation, result.solution, parsed.variable);
      
//       // Return focus to input after solving
//       setTimeout(() => inputRef.current?.focus(), 100);
      
//     } catch (err) {
//       setError(err.message);
//       setSolution(null);
//       setSteps([]);
//       setVariable('');
//       inputRef.current?.focus();
//     }
//   };

//   const handleClear = () => {
//     setEquation('');
//     setSolution(null);
//     setError('');
//     setSteps([]);
//     setVariable('');
//     inputRef.current?.focus();
//   };

//   const handleKeyDown = (e) => {
//     if (e.key === 'Enter') {
//       handleSolve();
//     } else if (e.key === 'Escape') {
//       handleClear();
//     }
//   };

//   const handleExampleClick = (exampleEquation) => {
//     setEquation(exampleEquation);
//     setError('');
//     setSolution(null);
//     setSteps([]);
//     setVariable('');
    
//     // Return focus to input
//     setTimeout(() => inputRef.current?.focus(), 100);
//   };

//   const handleHistoryClick = (historyItem) => {
//     setEquation(historyItem.equation);
//     setSolution(historyItem.solution);
//     setVariable(historyItem.variable);
//     setError('');
//     setSteps([]);
    
//     // Return focus to input
//     setTimeout(() => inputRef.current?.focus(), 100);
//   };

//   const clearHistory = () => {
//     setHistory([]);
//   };

//   const generateRandomEquation = (level) => {
//     const variables = ['x', 'y', 'z', 'a', 'b'];
//     const variable = variables[Math.floor(Math.random() * variables.length)];
    
//     let equation = '';
    
//     switch(level) {
//       case 'easy':
//         // ax = b or x + a = b
//         if (Math.random() < 0.5) {
//           const a = Math.floor(Math.random() * 8) + 2;
//           const b = a * (Math.floor(Math.random() * 10) + 1);
//           equation = `${a}${variable} = ${b}`;
//         } else {
//           const a = Math.floor(Math.random() * 10) + 1;
//           const x = Math.floor(Math.random() * 10) + 1;
//           const b = x + a;
//           equation = `${variable} + ${a} = ${b}`;
//         }
//         break;
        
//       case 'medium':
//         // ax + b = cx + d
//         const a = Math.floor(Math.random() * 5) + 2;
//         const b = Math.floor(Math.random() * 10) + 1;
//         const c = Math.floor(Math.random() * 3) + 1;
//         const d = Math.floor(Math.random() * 10) + 1;
//         equation = `${a}${variable} + ${b} = ${c}${variable} + ${d}`;
//         break;
        
//       case 'hard':
//         // a(x + b) = c
//         const coef = Math.floor(Math.random() * 4) + 2;
//         const inside = Math.floor(Math.random() * 8) + 1;
//         const result = coef * (Math.floor(Math.random() * 5) + inside + 1);
//         equation = `${coef}(${variable} + ${inside}) = ${result}`;
//         break;
        
//       case 'expert':
//         // Fraction coefficients
//         const num1 = Math.floor(Math.random() * 3) + 1;
//         const den1 = Math.floor(Math.random() * 3) + 2;
//         const num2 = Math.floor(Math.random() * 4) + 1;
//         const den2 = Math.floor(Math.random() * 4) + 2;
//         const const1 = Math.floor(Math.random() * 6) + 1;
//         const const2 = Math.floor(Math.random() * 8) + 1;
//         equation = `${num1}/${den1}${variable} + ${const1} = ${num2}/${den2}${variable} + ${const2}`;
//         break;
//     }
    
//     setEquation(equation);
//     setError('');
//     setSolution(null);
//     setSteps([]);
//     setVariable('');
    
//     // Return focus to input after generating
//     setTimeout(() => inputRef.current?.focus(), 100);
//   };

//   const formatSolution = (solution) => {
//     if (typeof solution === 'string') {
//       return solution;
//     }
//     return `${variable} = ${formatNumber(solution)}`;
//   };

//   const formatHistorySolution = (solution, variable) => {
//     if (typeof solution === 'string') {
//       return solution;
//     }
//     return `${variable} = ${formatNumber(solution)}`;
//   };

//   return (
//     <div className={styles.container}>
//       <div className={styles.mainLayout}>
//         <div className={styles.leftPanel}>
//           <div className={styles.inputSection}>
//             <label className={styles.label}>
//               Enter your linear equation with any variable (Press Enter to solve, Escape to clear):
//             </label>
//             <input
//               ref={inputRef}
//               type="text"
//               value={equation}
//               onChange={(e) => setEquation(e.target.value)}
//               placeholder="Enter equation like: 2x + 3 = 7, 2(x + 3) = 10, or 1.5x + 2/3 = 4"
//               className={styles.input}
//               onKeyDown={handleKeyDown}
//             />
//             <div className={styles.buttonGroup}>
//               <button onClick={handleSolve} className={styles.solveButton}>
//                 Solve
//               </button>
//               <button onClick={handleClear} className={styles.clearButton}>
//                 Clear
//               </button>
//             </div>
            
//             <div className={styles.generatorSection}>
//               <label className={styles.generatorLabel}>Generate random equation:</label>
//               <div className={styles.generatorButtons}>
//                 <button onClick={() => generateRandomEquation('easy')} className={styles.generatorButton}>
//                   Easy (ax = b)
//                 </button>
//                 <button onClick={() => generateRandomEquation('medium')} className={styles.generatorButton}>
//                   Medium (ax + b = cx + d)
//                 </button>
//                 <button onClick={() => generateRandomEquation('hard')} className={styles.generatorButton}>
//                   Hard (a(x + b) = c)
//                 </button>
//                 <button onClick={() => generateRandomEquation('expert')} className={styles.generatorButton}>
//                   Expert (fractions)
//                 </button>
//               </div>
//             </div>
//           </div>

//           {error && (
//             <div className={styles.error}>
//               <strong>Error:</strong> {error}
//             </div>
//           )}

//           {history.length > 0 && (
//             <div className={styles.historySection}>
//               <div className={styles.historyHeader}>
//                 <h3 className={styles.historyTitle}>Recent Equations</h3>
//                 <button onClick={clearHistory} className={styles.clearHistoryButton}>
//                   Clear History
//                 </button>
//               </div>
//               <div className={styles.historyList}>
//                 {history.map((item, index) => (
//                   <div 
//                     key={index} 
//                     className={styles.historyItem}
//                     onClick={() => handleHistoryClick(item)}
//                   >
//                     <div className={styles.historyEquation}>{item.equation}</div>
//                     <div className={styles.historySolution}>
//                       {formatHistorySolution(item.solution, item.variable)}
//                     </div>
//                   </div>
//                 ))}
//               </div>
//             </div>
//           )}
//         </div>

//         <div className={styles.rightPanel}>
//           {solution !== null ? (
//             <div className={styles.solutionSection}>
//               <h2 className={styles.solutionTitle}>Solution</h2>
//               <div className={styles.solution}>
//                 {formatSolution(solution)}
//               </div>
              
//               {steps.length > 0 && (
//                 <div className={styles.stepsSection}>
//                   <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
//                   <ol className={styles.stepsList}>
//                     {steps.map((step, index) => (
//                       <li key={index} className={styles.step}>
//                         {step}
//                       </li>
//                     ))}
//                   </ol>
//                 </div>
//               )}
//             </div>
//           ) : (
//             <div className={styles.examples}>
//               <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
//               <ul className={styles.examplesList}>
//                 <li onClick={() => handleExampleClick('2x + 3 = 7')}>2x + 3 = 7</li>
//                 <li onClick={() => handleExampleClick('3y - 5 = 2y + 1')}>3y - 5 = 2y + 1</li>
//                 <li onClick={() => handleExampleClick('5a = 15')}>5a = 15</li>
//                 <li onClick={() => handleExampleClick('2(x + 3) = 10')}>2(x + 3) = 10</li>
//                 <li onClick={() => handleExampleClick('-3(2y - 1) = 9')}>-3(2y - 1) = 9</li>
//                 <li onClick={() => handleExampleClick('4(z - 2) = 2z + 8')}>4(z - 2) = 2z + 8</li>
//                 <li onClick={() => handleExampleClick('1.5x + 2/3 = 4')}>1.5x + 2/3 = 4</li>
//                 <li onClick={() => handleExampleClick('3/4y - 1/2 = 2y + 1/4')}>3/4y - 1/2 = 2y + 1/4</li>
//                 <li onClick={() => handleExampleClick('0.25z + 1.5 = 2.75')}>0.25z + 1.5 = 2.75</li>
//               </ul>
//             </div>
//           )}
//         </div>
//       </div>
//     </div>
//   );
// };

// export default LinearEquationSolver;


import { useState, useRef } from 'react';
import styles from './LinearEquationSolver.module.css';

const LinearEquationSolver = () => {
  const [equation, setEquation] = useState('');
  const [solution, setSolution] = useState(null);
  const [error, setError] = useState('');
  const [steps, setSteps] = useState([]);
  const [variable, setVariable] = useState('');
  const [history, setHistory] = useState([]);
  const [isHistoryExpanded, setIsHistoryExpanded] = useState(false);
  const inputRef = useRef(null);

  const parseFraction = (str) => {
    if (!str || str === '') return 0;
    
    // Handle negative signs
    const isNegative = str.startsWith('-');
    const cleanStr = str.replace(/^[+-]/, '');
    
    if (cleanStr.includes('/')) {
      const parts = cleanStr.split('/');
      if (parts.length !== 2) return NaN;
      
      const numerator = parseFloat(parts[0]);
      const denominator = parseFloat(parts[1]);
      
      if (isNaN(numerator) || isNaN(denominator) || denominator === 0) {
        return NaN;
      }
      
      const result = numerator / denominator;
      return isNegative ? -result : result;
    }
    
    const result = parseFloat(cleanStr);
    return isNaN(result) ? NaN : (isNegative ? -result : result);
  };

  const expandParentheses = (equation) => {
    const pattern = /([+-]?\d*\.?\d*(?:\/\d+)?)\(([^)]+)\)/g;
    
    return equation.replace(pattern, (match, coef, inside) => {
      if (coef === '' || coef === '+') coef = '1';
      if (coef === '-') coef = '-1';
      
      const coefficient = parseFraction(coef);
      if (isNaN(coefficient)) {
        throw new Error(`Invalid coefficient: ${coef}`);
      }
      
      const insideNormalized = inside.replace(/(?<!^|[+-])-/g, '+-');
      const terms = insideNormalized.split('+').filter(term => term !== '');
      
      const expandedTerms = terms.map(term => {
        const variableMatch = term.match(/[a-z]/);
        const variable = variableMatch ? variableMatch[0] : null;
        
        if (variable) {
          const coeffStr = term.replace(/[a-z]/g, '');
          let termCoeff = 1;
          
          if (coeffStr === '' || coeffStr === '+') {
            termCoeff = 1;
          } else if (coeffStr === '-') {
            termCoeff = -1;
          } else {
            termCoeff = parseFraction(coeffStr);
            if (isNaN(termCoeff)) {
              throw new Error(`Invalid term coefficient: ${coeffStr}`);
            }
          }
          
          const result = coefficient * termCoeff;
          
          if (result === 1) {
            return variable;
          } else if (result === -1) {
            return `-${variable}`;
          } else {
            return `${result}${variable}`;
          }
        } else {
          const constValue = parseFraction(term);
          if (isNaN(constValue)) {
            throw new Error(`Invalid constant term: ${term}`);
          }
          return (coefficient * constValue).toString();
        }
      });
      
      let result = expandedTerms[0];
      for (let i = 1; i < expandedTerms.length; i++) {
        const term = expandedTerms[i];
        if (term.startsWith('-')) {
          result += term;
        } else {
          result += '+' + term;
        }
      }
      
      return result;
    });
  };

  const parseLinearEquation = (eq) => {
    let cleanEq = eq.replace(/\s+/g, '').toLowerCase();
    cleanEq = expandParentheses(cleanEq);
    
    if (!cleanEq.includes('=')) {
      throw new Error('Equation must contain an equals sign (=)');
    }
    
    const sides = cleanEq.split('=');
    if (sides.length !== 2) {
      throw new Error('Equation must have exactly one equals sign');
    }
    
    const leftSide = sides[0];
    const rightSide = sides[1];
    
    if (!leftSide || !rightSide) {
      throw new Error('Both sides of the equation must have content');
    }
    
    const variableMatch = cleanEq.match(/[a-z]/);
    if (!variableMatch) {
      throw new Error('No variable found in the equation');
    }
    const variable = variableMatch[0];
    
    const parseExpression = (expr) => {
      let coefficient = 0;
      let constant = 0;
      
      const normalized = expr.replace(/(?<!^)-/g, '+-');
      const terms = normalized.split('+').filter(term => term !== '');
      
      for (let term of terms) {
        if (term.includes(variable)) {
          const pattern = new RegExp(`^([+-]?\\d*\\.?\\d*(?:\\/\\d+)?)${variable}$`);
          const coefMatch = term.match(pattern);
          if (coefMatch) {
            let coef = coefMatch[1];
            if (coef === '' || coef === '+') coef = '1';
            if (coef === '-') coef = '-1';
            
            const parsedCoef = parseFraction(coef);
            if (isNaN(parsedCoef)) {
              throw new Error(`Invalid coefficient: ${coef}`);
            }
            coefficient += parsedCoef;
          } else {
            throw new Error(`Invalid term: ${term}`);
          }
        } else {
          const constMatch = term.match(/^([+-]?\d*\.?\d*(?:\/\d+)?)$/);
          if (constMatch && constMatch[1] !== '') {
            const parsedConst = parseFraction(constMatch[1]);
            if (isNaN(parsedConst)) {
              throw new Error(`Invalid constant: ${constMatch[1]}`);
            }
            constant += parsedConst;
          } else if (term !== '') {
            throw new Error(`Invalid term: ${term}`);
          }
        }
      }
      
      return { coefficient, constant };
    };
    
    const left = parseExpression(leftSide);
    const right = parseExpression(rightSide);
    
    const finalCoeff = left.coefficient - right.coefficient;
    const finalConstant = left.constant - right.constant;
    
    return { 
      coefficient: finalCoeff, 
      constant: finalConstant, 
      variable,
      expandedEquation: cleanEq
    };
  };

  const formatNumber = (num) => {
    if (Number.isInteger(num)) {
      return num.toString();
    } else {
      // Check if it's a simple fraction
      const tolerance = 1e-10;
      for (let denom = 2; denom <= 20; denom++) {
        const numerator = Math.round(num * denom);
        if (Math.abs(num - numerator / denom) < tolerance) {
          if (numerator === denom) return '1';
          if (numerator === -denom) return '-1';
          return `${numerator}/${denom}`;
        }
      }
      return num.toFixed(4).replace(/\.?0+$/, '');
    }
  };

  const solveLinearEquation = (coefficient, constant, variable, originalEquation, leftSide, rightSide, expandedEquation) => {
    const solutionSteps = [];
    
    if (Math.abs(coefficient) < 1e-10) {
      if (Math.abs(constant) < 1e-10) {
        return { 
          solution: 'infinitely many solutions', 
          steps: [originalEquation, '0 = 0', `This is always true, so ${variable} can be any real number`] 
        };
      } else {
        return { 
          solution: 'no solution', 
          steps: [originalEquation, `${formatNumber(constant)} = 0`, 'This is never true, so there is no solution'] 
        };
      }
    }
    
    const result = -constant / coefficient;
    
    solutionSteps.push(`Original equation: ${originalEquation}`);
    
    const hasParentheses = originalEquation.includes('(');
    
    if (hasParentheses) {
      const parenthesesMatch = originalEquation.match(/([+-]?\d*\.?\d*(?:\/\d+)?)\(([^)]+)\)/);
      if (parenthesesMatch) {
        let coef = parenthesesMatch[1];
        if (coef === '' || coef === '+') coef = '1';
        if (coef === '-') coef = '-1';
        const insideTerms = parenthesesMatch[2];
        
        solutionSteps.push(`Expand parentheses using distributive property: ${coef}(${insideTerms})`);
      }
      
      solutionSteps.push(`After expanding: ${expandedEquation}`);
      
      const expSides = expandedEquation.split('=');
      const expLeft = expSides[0];
      const expRight = expSides[1];
      const expLeftTerms = expLeft.match(/[+-]?[^+-]+/g) || [];
      const expRightTerms = expRight.match(/[+-]?[^+-]+/g) || [];
      
      let constantTermsLeft = [];
      let variableTermsRight = [];
      
      expLeftTerms.forEach(term => {
        if (!term.includes(variable)) {
          constantTermsLeft.push(term);
        }
      });
      
      expRightTerms.forEach(term => {
        if (term.includes(variable)) {
          variableTermsRight.push(term);
        }
      });
      
      if (variableTermsRight.length > 0) {
        const termToMove = variableTermsRight[0];
        solutionSteps.push(`Subtract ${termToMove} from both sides to move variables to left side`);
      }
      
      if (constantTermsLeft.length > 0) {
        const termToMove = constantTermsLeft[0];
        solutionSteps.push(`Subtract ${termToMove} from both sides to move constants to right side`);
      }
      
      solutionSteps.push(`Combine like terms: ${formatNumber(coefficient)}${variable} = ${formatNumber(-constant)}`);
      
    } else {
      const leftTerms = leftSide.match(/[+-]?[^+-]+/g) || [];
      const rightTerms = rightSide.match(/[+-]?[^+-]+/g) || [];
      
      let variableTermsLeft = [];
      let constantTermsLeft = [];
      let variableTermsRight = [];
      
      leftTerms.forEach(term => {
        if (term.includes(variable)) {
          variableTermsLeft.push(term);
        } else {
          constantTermsLeft.push(term);
        }
      });
      
      rightTerms.forEach(term => {
        if (term.includes(variable)) {
          variableTermsRight.push(term);
        }
      });
      
      if (constantTermsLeft.length > 0) {
        const termToMove = constantTermsLeft[0];
        solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the right`);
      }
      
      if (variableTermsRight.length > 0) {
        const termToMove = variableTermsRight[0];
        solutionSteps.push(`Subtract ${termToMove} from both sides to move it to the left`);
      }
      
      solutionSteps.push(`Combine like terms: ${formatNumber(coefficient)}${variable} = ${formatNumber(-constant)}`);
    }
    
    if (coefficient !== 1) {
      solutionSteps.push(`Divide both sides by ${formatNumber(coefficient)}: ${variable} = ${formatNumber(-constant)}/${formatNumber(coefficient)}`);
    }
    
    solutionSteps.push(`Solution: ${variable} = ${formatNumber(result)}`);
    
    return { solution: result, steps: solutionSteps };
  };

  const addToHistory = (equation, solution, variable) => {
    const historyItem = {
      equation: equation,
      solution: solution,
      variable: variable,
      timestamp: new Date().toLocaleString()
    };
    
    setHistory(prevHistory => {
      // Remove duplicate if exists
      const filtered = prevHistory.filter(item => item.equation !== equation);
      // Add new item at the beginning and keep only last 8 items
      return [historyItem, ...filtered].slice(0, 8);
    });
  };

  const handleSolve = () => {
    try {
      setError('');
      setSolution(null);
      setSteps([]);
      setVariable('');
      
      if (!equation.trim()) {
        setError('Please enter an equation');
        inputRef.current?.focus();
        return;
      }
      
      const parsed = parseLinearEquation(equation);
      const sides = equation.split('=');
      const leftSide = sides[0].trim();
      const rightSide = sides[1].trim();
      const result = solveLinearEquation(
        parsed.coefficient, 
        parsed.constant, 
        parsed.variable, 
        equation, 
        leftSide, 
        rightSide,
        parsed.expandedEquation
      );
      
      setVariable(parsed.variable);
      setSolution(result.solution);
      setSteps(result.steps);
      
      // Add to history only for successful solutions
      addToHistory(equation, result.solution, parsed.variable);
      
      // Return focus to input after solving
      setTimeout(() => inputRef.current?.focus(), 100);
      
    } catch (err) {
      setError(err.message);
      setSolution(null);
      setSteps([]);
      setVariable('');
      inputRef.current?.focus();
    }
  };

  const handleClear = () => {
    setEquation('');
    setSolution(null);
    setError('');
    setSteps([]);
    setVariable('');
    inputRef.current?.focus();
  };

  const handleKeyDown = (e) => {
    if (e.key === 'Enter') {
      handleSolve();
    } else if (e.key === 'Escape') {
      handleClear();
    }
  };

  const handleExampleClick = (exampleEquation) => {
    setEquation(exampleEquation);
    setError('');
    setSolution(null);
    setSteps([]);
    setVariable('');
    
    // Return focus to input
    setTimeout(() => inputRef.current?.focus(), 100);
  };

  const handleHistoryClick = (historyItem) => {
    setEquation(historyItem.equation);
    setSolution(historyItem.solution);
    setVariable(historyItem.variable);
    setError('');
    setSteps([]);
    
    // Return focus to input
    setTimeout(() => inputRef.current?.focus(), 100);
  };

  const clearHistory = () => {
    setHistory([]);
  };

  const toggleHistory = () => {
    setIsHistoryExpanded(!isHistoryExpanded);
  };

  const generateRandomEquation = (level) => {
    const variables = ['x', 'y', 'z', 'a', 'b'];
    const variable = variables[Math.floor(Math.random() * variables.length)];
    
    let equation = '';
    
    switch(level) {
      case 'easy':
        // ax = b or x + a = b
        if (Math.random() < 0.5) {
          const a = Math.floor(Math.random() * 8) + 2;
          const b = a * (Math.floor(Math.random() * 10) + 1);
          equation = `${a}${variable} = ${b}`;
        } else {
          const a = Math.floor(Math.random() * 10) + 1;
          const x = Math.floor(Math.random() * 10) + 1;
          const b = x + a;
          equation = `${variable} + ${a} = ${b}`;
        }
        break;
        
      case 'medium':
        // ax + b = cx + d
        const a = Math.floor(Math.random() * 5) + 2;
        const b = Math.floor(Math.random() * 10) + 1;
        const c = Math.floor(Math.random() * 3) + 1;
        const d = Math.floor(Math.random() * 10) + 1;
        equation = `${a}${variable} + ${b} = ${c}${variable} + ${d}`;
        break;
        
      case 'hard':
        // a(x + b) = c
        const coef = Math.floor(Math.random() * 4) + 2;
        const inside = Math.floor(Math.random() * 8) + 1;
        const result = coef * (Math.floor(Math.random() * 5) + inside + 1);
        equation = `${coef}(${variable} + ${inside}) = ${result}`;
        break;
        
      case 'expert':
        // Fraction coefficients
        const num1 = Math.floor(Math.random() * 3) + 1;
        const den1 = Math.floor(Math.random() * 3) + 2;
        const num2 = Math.floor(Math.random() * 4) + 1;
        const den2 = Math.floor(Math.random() * 4) + 2;
        const const1 = Math.floor(Math.random() * 6) + 1;
        const const2 = Math.floor(Math.random() * 8) + 1;
        equation = `${num1}/${den1}${variable} + ${const1} = ${num2}/${den2}${variable} + ${const2}`;
        break;
    }
    
    setEquation(equation);
    setError('');
    setSolution(null);
    setSteps([]);
    setVariable('');
    
    // Return focus to input after generating
    setTimeout(() => inputRef.current?.focus(), 100);
  };

  const formatSolution = (solution) => {
    if (typeof solution === 'string') {
      return solution;
    }
    return `${variable} = ${formatNumber(solution)}`;
  };

  const formatHistorySolution = (solution, variable) => {
    if (typeof solution === 'string') {
      return solution;
    }
    return `${variable} = ${formatNumber(solution)}`;
  };

  return (
    <div className={styles.container}>
      <div className={styles.mainLayout}>
        <div className={styles.leftPanel}>
          <div className={styles.inputSection}>
            <label className={styles.label}>
              Enter your linear equation with any variable (Press Enter to solve, Escape to clear):
            </label>
            <input
              ref={inputRef}
              type="text"
              value={equation}
              onChange={(e) => setEquation(e.target.value)}
              placeholder="Enter equation like: 2x + 3 = 7, 2(x + 3) = 10, or 1.5x + 2/3 = 4"
              className={styles.input}
              onKeyDown={handleKeyDown}
            />
            <div className={styles.buttonGroup}>
              <button onClick={handleSolve} className={styles.solveButton}>
                Solve
              </button>
              <button onClick={handleClear} className={styles.clearButton}>
                Clear
              </button>
            </div>
            
            <div className={styles.generatorSection}>
              <label className={styles.generatorLabel}>Generate random equation:</label>
              <div className={styles.generatorButtons}>
                <button onClick={() => generateRandomEquation('easy')} className={styles.generatorButton}>
                  Easy (ax = b)
                </button>
                <button onClick={() => generateRandomEquation('medium')} className={styles.generatorButton}>
                  Medium (ax + b = cx + d)
                </button>
                <button onClick={() => generateRandomEquation('hard')} className={styles.generatorButton}>
                  Hard (a(x + b) = c)
                </button>
                <button onClick={() => generateRandomEquation('expert')} className={styles.generatorButton}>
                  Expert (fractions)
                </button>
              </div>
            </div>
          </div>

          {error && (
            <div className={styles.error}>
              <strong>Error:</strong> {error}
            </div>
          )}

          {history.length > 0 && (
            <div className={styles.historySection}>
              <div className={styles.historyHeader} onClick={toggleHistory}>
                <h3 className={styles.historyTitle}>
                  Recent Equations ({history.length})
                  <span className={styles.historyToggle}>
                    {isHistoryExpanded ? '▼' : '▶'}
                  </span>
                </h3>
                {isHistoryExpanded && (
                  <button onClick={(e) => {
                    e.stopPropagation();
                    clearHistory();
                  }} className={styles.clearHistoryButton}>
                    Clear History
                  </button>
                )}
              </div>
              {isHistoryExpanded && (
                <div className={styles.historyList}>
                  {history.map((item, index) => (
                    <div 
                      key={index} 
                      className={styles.historyItem}
                      onClick={() => handleHistoryClick(item)}
                    >
                      <div className={styles.historyEquation}>{item.equation}</div>
                      <div className={styles.historySolution}>
                        {formatHistorySolution(item.solution, item.variable)}
                      </div>
                    </div>
                  ))}
                </div>
              )}
            </div>
          )}
        </div>

        <div className={styles.rightPanel}>
          {solution !== null ? (
            <div className={styles.solutionSection}>
              <h2 className={styles.solutionTitle}>Solution</h2>
              <div className={styles.solution}>
                {formatSolution(solution)}
              </div>
              
              {steps.length > 0 && (
                <div className={styles.stepsSection}>
                  <h3 className={styles.stepsTitle}>Step-by-step solution:</h3>
                  <ol className={styles.stepsList}>
                    {steps.map((step, index) => (
                      <li key={index} className={styles.step}>
                        {step}
                      </li>
                    ))}
                  </ol>
                </div>
              )}
            </div>
          ) : (
            <div className={styles.examples}>
              <h3 className={styles.examplesTitle}>Example equations you can try:</h3>
              <ul className={styles.examplesList}>
                <li onClick={() => handleExampleClick('2x + 3 = 7')}>2x + 3 = 7</li>
                <li onClick={() => handleExampleClick('3y - 5 = 2y + 1')}>3y - 5 = 2y + 1</li>
                <li onClick={() => handleExampleClick('5a = 15')}>5a = 15</li>
                <li onClick={() => handleExampleClick('2(x + 3) = 10')}>2(x + 3) = 10</li>
                <li onClick={() => handleExampleClick('-3(2y - 1) = 9')}>-3(2y - 1) = 9</li>
                <li onClick={() => handleExampleClick('4(z - 2) = 2z + 8')}>4(z - 2) = 2z + 8</li>
                <li onClick={() => handleExampleClick('1.5x + 2/3 = 4')}>1.5x + 2/3 = 4</li>
                <li onClick={() => handleExampleClick('3/4y - 1/2 = 2y + 1/4')}>3/4y - 1/2 = 2y + 1/4</li>
                <li onClick={() => handleExampleClick('0.25z + 1.5 = 2.75')}>0.25z + 1.5 = 2.75</li>
              </ul>
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

export default LinearEquationSolver;